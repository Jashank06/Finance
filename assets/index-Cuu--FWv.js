function y_(t,n){for(var a=0;a<n.length;a++){const r=n[a];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}})();function Sr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var qv={exports:{}},jc={};var Y1;function j_(){if(Y1)return jc;Y1=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(r,i,o){var u=null;if(o!==void 0&&(u=""+o),i.key!==void 0&&(u=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:u,ref:i!==void 0?i:null,props:o}}return jc.Fragment=n,jc.jsx=a,jc.jsxs=a,jc}var G1;function b_(){return G1||(G1=1,qv.exports=j_()),qv.exports}var e=b_(),Hv={exports:{}},He={};var K1;function N_(){if(K1)return He;K1=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),y=Symbol.iterator;function C(_){return _===null||typeof _!="object"?null:(_=y&&_[y]||_["@@iterator"],typeof _=="function"?_:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function O(_,z,L){this.props=_,this.context=z,this.refs=w,this.updater=L||N}O.prototype.isReactComponent={},O.prototype.setState=function(_,z){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,z,"setState")},O.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function S(){}S.prototype=O.prototype;function E(_,z,L){this.props=_,this.context=z,this.refs=w,this.updater=L||N}var T=E.prototype=new S;T.constructor=E,j(T,O.prototype),T.isPureReactComponent=!0;var k=Array.isArray;function F(){}var P={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function R(_,z,L){var $=L.ref;return{$$typeof:t,type:_,key:z,ref:$!==void 0?$:null,props:L}}function U(_,z){return R(_.type,z,_.props)}function J(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function se(_){var z={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(L){return z[L]})}var X=/\/+/g;function le(_,z){return typeof _=="object"&&_!==null&&_.key!=null?se(""+_.key):z.toString(36)}function G(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(F,F):(_.status="pending",_.then(function(z){_.status==="pending"&&(_.status="fulfilled",_.value=z)},function(z){_.status==="pending"&&(_.status="rejected",_.reason=z)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function M(_,z,L,$,q){var A=typeof _;(A==="undefined"||A==="boolean")&&(_=null);var K=!1;if(_===null)K=!0;else switch(A){case"bigint":case"string":case"number":K=!0;break;case"object":switch(_.$$typeof){case t:case n:K=!0;break;case d:return K=_._init,M(K(_._payload),z,L,$,q)}}if(K)return q=q(_),K=$===""?"."+le(_,0):$,k(q)?(L="",K!=null&&(L=K.replace(X,"$&/")+"/"),M(q,z,L,"",function(ee){return ee})):q!=null&&(J(q)&&(q=U(q,L+(q.key==null||_&&_.key===q.key?"":(""+q.key).replace(X,"$&/")+"/")+K)),z.push(q)),1;K=0;var xe=$===""?".":$+":";if(k(_))for(var V=0;V<_.length;V++)$=_[V],A=xe+le($,V),K+=M($,z,L,A,q);else if(V=C(_),typeof V=="function")for(_=V.call(_),V=0;!($=_.next()).done;)$=$.value,A=xe+le($,V++),K+=M($,z,L,A,q);else if(A==="object"){if(typeof _.then=="function")return M(G(_),z,L,$,q);throw z=String(_),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return K}function B(_,z,L){if(_==null)return _;var $=[],q=0;return M(_,$,"","",function(A){return z.call(L,A,q++)}),$}function re(_){if(_._status===-1){var z=_._result;z=z(),z.then(function(L){(_._status===0||_._status===-1)&&(_._status=1,_._result=L)},function(L){(_._status===0||_._status===-1)&&(_._status=2,_._result=L)}),_._status===-1&&(_._status=0,_._result=z)}if(_._status===1)return _._result.default;throw _._result}var Z=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},te={map:B,forEach:function(_,z,L){B(_,function(){z.apply(this,arguments)},L)},count:function(_){var z=0;return B(_,function(){z++}),z},toArray:function(_){return B(_,function(z){return z})||[]},only:function(_){if(!J(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return He.Activity=v,He.Children=te,He.Component=O,He.Fragment=a,He.Profiler=i,He.PureComponent=E,He.StrictMode=r,He.Suspense=p,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,He.__COMPILER_RUNTIME={__proto__:null,c:function(_){return P.H.useMemoCache(_)}},He.cache=function(_){return function(){return _.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(_,z,L){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var $=j({},_.props),q=_.key;if(z!=null)for(A in z.key!==void 0&&(q=""+z.key),z)!W.call(z,A)||A==="key"||A==="__self"||A==="__source"||A==="ref"&&z.ref===void 0||($[A]=z[A]);var A=arguments.length-2;if(A===1)$.children=L;else if(1<A){for(var K=Array(A),xe=0;xe<A;xe++)K[xe]=arguments[xe+2];$.children=K}return R(_.type,q,$)},He.createContext=function(_){return _={$$typeof:u,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:o,_context:_},_},He.createElement=function(_,z,L){var $,q={},A=null;if(z!=null)for($ in z.key!==void 0&&(A=""+z.key),z)W.call(z,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(q[$]=z[$]);var K=arguments.length-2;if(K===1)q.children=L;else if(1<K){for(var xe=Array(K),V=0;V<K;V++)xe[V]=arguments[V+2];q.children=xe}if(_&&_.defaultProps)for($ in K=_.defaultProps,K)q[$]===void 0&&(q[$]=K[$]);return R(_,A,q)},He.createRef=function(){return{current:null}},He.forwardRef=function(_){return{$$typeof:h,render:_}},He.isValidElement=J,He.lazy=function(_){return{$$typeof:d,_payload:{_status:-1,_result:_},_init:re}},He.memo=function(_,z){return{$$typeof:f,type:_,compare:z===void 0?null:z}},He.startTransition=function(_){var z=P.T,L={};P.T=L;try{var $=_(),q=P.S;q!==null&&q(L,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(F,Z)}catch(A){Z(A)}finally{z!==null&&L.types!==null&&(z.types=L.types),P.T=z}},He.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},He.use=function(_){return P.H.use(_)},He.useActionState=function(_,z,L){return P.H.useActionState(_,z,L)},He.useCallback=function(_,z){return P.H.useCallback(_,z)},He.useContext=function(_){return P.H.useContext(_)},He.useDebugValue=function(){},He.useDeferredValue=function(_,z){return P.H.useDeferredValue(_,z)},He.useEffect=function(_,z){return P.H.useEffect(_,z)},He.useEffectEvent=function(_){return P.H.useEffectEvent(_)},He.useId=function(){return P.H.useId()},He.useImperativeHandle=function(_,z,L){return P.H.useImperativeHandle(_,z,L)},He.useInsertionEffect=function(_,z){return P.H.useInsertionEffect(_,z)},He.useLayoutEffect=function(_,z){return P.H.useLayoutEffect(_,z)},He.useMemo=function(_,z){return P.H.useMemo(_,z)},He.useOptimistic=function(_,z){return P.H.useOptimistic(_,z)},He.useReducer=function(_,z,L){return P.H.useReducer(_,z,L)},He.useRef=function(_){return P.H.useRef(_)},He.useState=function(_){return P.H.useState(_)},He.useSyncExternalStore=function(_,z,L){return P.H.useSyncExternalStore(_,z,L)},He.useTransition=function(){return P.H.useTransition()},He.version="19.2.1",He}var W1;function lo(){return W1||(W1=1,Hv.exports=N_()),Hv.exports}var x=lo();const wa=Sr(x),p2=y_({__proto__:null,default:wa},[x]);var Vv={exports:{}},bc={},Yv={exports:{}},Gv={};var X1;function S_(){return X1||(X1=1,(function(t){function n(M,B){var re=M.length;M.push(B);e:for(;0<re;){var Z=re-1>>>1,te=M[Z];if(0<i(te,B))M[Z]=B,M[re]=te,re=Z;else break e}}function a(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],re=M.pop();if(re!==B){M[0]=re;e:for(var Z=0,te=M.length,_=te>>>1;Z<_;){var z=2*(Z+1)-1,L=M[z],$=z+1,q=M[$];if(0>i(L,re))$<te&&0>i(q,L)?(M[Z]=q,M[$]=re,Z=$):(M[Z]=L,M[z]=re,Z=z);else if($<te&&0>i(q,re))M[Z]=q,M[$]=re,Z=$;else break e}}return B}function i(M,B){var re=M.sortIndex-B.sortIndex;return re!==0?re:M.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var p=[],f=[],d=1,v=null,y=3,C=!1,N=!1,j=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function T(M){for(var B=a(f);B!==null;){if(B.callback===null)r(f);else if(B.startTime<=M)r(f),B.sortIndex=B.expirationTime,n(p,B);else break;B=a(f)}}function k(M){if(j=!1,T(M),!N)if(a(p)!==null)N=!0,F||(F=!0,se());else{var B=a(f);B!==null&&G(k,B.startTime-M)}}var F=!1,P=-1,W=5,R=-1;function U(){return w?!0:!(t.unstable_now()-R<W)}function J(){if(w=!1,F){var M=t.unstable_now();R=M;var B=!0;try{e:{N=!1,j&&(j=!1,S(P),P=-1),C=!0;var re=y;try{t:{for(T(M),v=a(p);v!==null&&!(v.expirationTime>M&&U());){var Z=v.callback;if(typeof Z=="function"){v.callback=null,y=v.priorityLevel;var te=Z(v.expirationTime<=M);if(M=t.unstable_now(),typeof te=="function"){v.callback=te,T(M),B=!0;break t}v===a(p)&&r(p),T(M)}else r(p);v=a(p)}if(v!==null)B=!0;else{var _=a(f);_!==null&&G(k,_.startTime-M),B=!1}}break e}finally{v=null,y=re,C=!1}B=void 0}}finally{B?se():F=!1}}}var se;if(typeof E=="function")se=function(){E(J)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,le=X.port2;X.port1.onmessage=J,se=function(){le.postMessage(null)}}else se=function(){O(J,0)};function G(M,B){P=O(function(){M(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(M){switch(y){case 1:case 2:case 3:var B=3;break;default:B=y}var re=y;y=B;try{return M()}finally{y=re}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var re=y;y=M;try{return B()}finally{y=re}},t.unstable_scheduleCallback=function(M,B,re){var Z=t.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?Z+re:Z):re=Z,M){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=re+te,M={id:d++,callback:B,priorityLevel:M,startTime:re,expirationTime:te,sortIndex:-1},re>Z?(M.sortIndex=re,n(f,M),a(p)===null&&M===a(f)&&(j?(S(P),P=-1):j=!0,G(k,re-Z))):(M.sortIndex=te,n(p,M),N||C||(N=!0,F||(F=!0,se()))),M},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(M){var B=y;return function(){var re=y;y=B;try{return M.apply(this,arguments)}finally{y=re}}}})(Gv)),Gv}var Z1;function C_(){return Z1||(Z1=1,Yv.exports=S_()),Yv.exports}var Kv={exports:{}},Ln={};var Q1;function w_(){if(Q1)return Ln;Q1=1;var t=lo();function n(p){var f="https://react.dev/errors/"+p;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+p+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(p,f,d){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:p,containerInfo:f,implementation:d}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,f){if(p==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ln.createPortal=function(p,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(n(299));return o(p,f,null,d)},Ln.flushSync=function(p){var f=u.T,d=r.p;try{if(u.T=null,r.p=2,p)return p()}finally{u.T=f,r.p=d,r.d.f()}},Ln.preconnect=function(p,f){typeof p=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(p,f))},Ln.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Ln.preinit=function(p,f){if(typeof p=="string"&&f&&typeof f.as=="string"){var d=f.as,v=h(d,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,C=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(p,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:v,integrity:y,fetchPriority:C}):d==="script"&&r.d.X(p,{crossOrigin:v,integrity:y,fetchPriority:C,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ln.preinitModule=function(p,f){if(typeof p=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=h(f.as,f.crossOrigin);r.d.M(p,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(p)},Ln.preload=function(p,f){if(typeof p=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,v=h(d,f.crossOrigin);r.d.L(p,d,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ln.preloadModule=function(p,f){if(typeof p=="string")if(f){var d=h(f.as,f.crossOrigin);r.d.m(p,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(p)},Ln.requestFormReset=function(p){r.d.r(p)},Ln.unstable_batchedUpdates=function(p,f){return p(f)},Ln.useFormState=function(p,f,d){return u.H.useFormState(p,f,d)},Ln.useFormStatus=function(){return u.H.useHostTransitionStatus()},Ln.version="19.2.1",Ln}var J1;function v2(){if(J1)return Kv.exports;J1=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Kv.exports=w_(),Kv.exports}var eC;function A_(){if(eC)return bc;eC=1;var t=C_(),n=lo(),a=v2();function r(s){var l="https://react.dev/errors/"+s;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var l=s,c=s;if(s.alternate)for(;l.return;)l=l.return;else{s=l;do l=s,(l.flags&4098)!==0&&(c=l.return),s=l.return;while(s)}return l.tag===3?c:null}function u(s){if(s.tag===13){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function h(s){if(s.tag===31){var l=s.memoizedState;if(l===null&&(s=s.alternate,s!==null&&(l=s.memoizedState)),l!==null)return l.dehydrated}return null}function p(s){if(o(s)!==s)throw Error(r(188))}function f(s){var l=s.alternate;if(!l){if(l=o(s),l===null)throw Error(r(188));return l!==s?null:s}for(var c=s,m=l;;){var g=c.return;if(g===null)break;var b=g.alternate;if(b===null){if(m=g.return,m!==null){c=m;continue}break}if(g.child===b.child){for(b=g.child;b;){if(b===c)return p(g),s;if(b===m)return p(g),l;b=b.sibling}throw Error(r(188))}if(c.return!==m.return)c=g,m=b;else{for(var I=!1,Y=g.child;Y;){if(Y===c){I=!0,c=g,m=b;break}if(Y===m){I=!0,m=g,c=b;break}Y=Y.sibling}if(!I){for(Y=b.child;Y;){if(Y===c){I=!0,c=b,m=g;break}if(Y===m){I=!0,m=b,c=g;break}Y=Y.sibling}if(!I)throw Error(r(189))}}if(c.alternate!==m)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?s:l}function d(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s;for(s=s.child;s!==null;){if(l=d(s),l!==null)return l;s=s.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),J=Symbol.iterator;function se(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var X=Symbol.for("react.client.reference");function le(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===X?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case O:return"Profiler";case w:return"StrictMode";case k:return"Suspense";case F:return"SuspenseList";case R:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case E:return s.displayName||"Context";case S:return(s._context.displayName||"Context")+".Consumer";case T:var l=s.render;return s=s.displayName,s||(s=l.displayName||l.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case P:return l=s.displayName||null,l!==null?l:le(s.type)||"Memo";case W:l=s._payload,s=s._init;try{return le(s(l))}catch{}}return null}var G=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},Z=[],te=-1;function _(s){return{current:s}}function z(s){0>te||(s.current=Z[te],Z[te]=null,te--)}function L(s,l){te++,Z[te]=s.current,s.current=l}var $=_(null),q=_(null),A=_(null),K=_(null);function xe(s,l){switch(L(A,l),L(q,s),L($,null),l.nodeType){case 9:case 11:s=(s=l.documentElement)&&(s=s.namespaceURI)?p1(s):0;break;default:if(s=l.tagName,l=l.namespaceURI)l=p1(l),s=v1(l,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}z($),L($,s)}function V(){z($),z(q),z(A)}function ee(s){s.memoizedState!==null&&L(K,s);var l=$.current,c=v1(l,s.type);l!==c&&(L(q,s),L($,c))}function me(s){q.current===s&&(z($),z(q)),K.current===s&&(z(K),vc._currentValue=re)}var ue,H;function de(s){if(ue===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);ue=l&&l[1]||"",H=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+s+H}var D=!1;function ne(s,l){if(!s||D)return"";D=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var we=function(){throw Error()};if(Object.defineProperty(we.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(we,[])}catch(je){var ge=je}Reflect.construct(s,[],we)}else{try{we.call()}catch(je){ge=je}s.call(we.prototype)}}else{try{throw Error()}catch(je){ge=je}(we=s())&&typeof we.catch=="function"&&we.catch(function(){})}}catch(je){if(je&&ge&&typeof je.stack=="string")return[je.stack,ge.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=m.DetermineComponentFrameRoot(),I=b[0],Y=b[1];if(I&&Y){var ae=I.split(`
`),pe=Y.split(`
`);for(g=m=0;m<ae.length&&!ae[m].includes("DetermineComponentFrameRoot");)m++;for(;g<pe.length&&!pe[g].includes("DetermineComponentFrameRoot");)g++;if(m===ae.length||g===pe.length)for(m=ae.length-1,g=pe.length-1;1<=m&&0<=g&&ae[m]!==pe[g];)g--;for(;1<=m&&0<=g;m--,g--)if(ae[m]!==pe[g]){if(m!==1||g!==1)do if(m--,g--,0>g||ae[m]!==pe[g]){var Ne=`
`+ae[m].replace(" at new "," at ");return s.displayName&&Ne.includes("<anonymous>")&&(Ne=Ne.replace("<anonymous>",s.displayName)),Ne}while(1<=m&&0<=g);break}}}finally{D=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?de(c):""}function be(s,l){switch(s.tag){case 26:case 27:case 5:return de(s.type);case 16:return de("Lazy");case 13:return s.child!==l&&l!==null?de("Suspense Fallback"):de("Suspense");case 19:return de("SuspenseList");case 0:case 15:return ne(s.type,!1);case 11:return ne(s.type.render,!1);case 1:return ne(s.type,!0);case 31:return de("Activity");default:return""}}function Ce(s){try{var l="",c=null;do l+=be(s,c),c=s,s=s.return;while(s);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var Ae=Object.prototype.hasOwnProperty,_e=t.unstable_scheduleCallback,wt=t.unstable_cancelCallback,qt=t.unstable_shouldYield,li=t.unstable_requestPaint,dn=t.unstable_now,ce=t.unstable_getCurrentPriorityLevel,Ue=t.unstable_ImmediatePriority,Ht=t.unstable_UserBlockingPriority,Re=t.unstable_NormalPriority,Dt=t.unstable_LowPriority,Ee=t.unstable_IdlePriority,Je=t.log,bt=t.unstable_setDisableYieldValue,hn=null,Vt=null;function Za(s){if(typeof Je=="function"&&bt(s),Vt&&typeof Vt.setStrictMode=="function")try{Vt.setStrictMode(hn,s)}catch{}}var Bn=Math.clz32?Math.clz32:Tf,Eo=Math.log,Do=Math.LN2;function Tf(s){return s>>>=0,s===0?32:31-(Eo(s)/Do|0)|0}var Zi=256,Qi=262144,Ji=4194304;function Qa(s){var l=s&42;if(l!==0)return l;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function oi(s,l,c){var m=s.pendingLanes;if(m===0)return 0;var g=0,b=s.suspendedLanes,I=s.pingedLanes;s=s.warmLanes;var Y=m&134217727;return Y!==0?(m=Y&~b,m!==0?g=Qa(m):(I&=Y,I!==0?g=Qa(I):c||(c=Y&~s,c!==0&&(g=Qa(c))))):(Y=m&~b,Y!==0?g=Qa(Y):I!==0?g=Qa(I):c||(c=m&~s,c!==0&&(g=Qa(c)))),g===0?0:l!==0&&l!==g&&(l&b)===0&&(b=g&-g,c=l&-l,b>=c||b===32&&(c&4194048)!==0)?l:g}function ci(s,l){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&l)===0}function Mf(s,l){switch(s){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bu(){var s=Ji;return Ji<<=1,(Ji&62914560)===0&&(Ji=4194304),s}function Oo(s){for(var l=[],c=0;31>c;c++)l.push(s);return l}function xs(s,l){s.pendingLanes|=l,l!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Q(s,l,c,m,g,b){var I=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var Y=s.entanglements,ae=s.expirationTimes,pe=s.hiddenUpdates;for(c=I&~c;0<c;){var Ne=31-Bn(c),we=1<<Ne;Y[Ne]=0,ae[Ne]=-1;var ge=pe[Ne];if(ge!==null)for(pe[Ne]=null,Ne=0;Ne<ge.length;Ne++){var je=ge[Ne];je!==null&&(je.lane&=-536870913)}c&=~we}m!==0&&Ke(s,m,0),b!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=b&~(I&~l))}function Ke(s,l,c){s.pendingLanes|=l,s.suspendedLanes&=~l;var m=31-Bn(l);s.entangledLanes|=l,s.entanglements[m]=s.entanglements[m]|1073741824|c&261930}function rt(s,l){var c=s.entangledLanes|=l;for(s=s.entanglements;c;){var m=31-Bn(c),g=1<<m;g&l|s[m]&l&&(s[m]|=l),c&=~g}}function mt(s,l){var c=l&-l;return c=(c&42)!==0?1:gs(c),(c&(s.suspendedLanes|l))!==0?0:c}function gs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Da(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ja(){var s=B.p;return s!==0?s:(s=window.event,s===void 0?32:F1(s.type))}function Po(s,l){var c=B.p;try{return B.p=s,l()}finally{B.p=c}}var ys=Math.random().toString(36).slice(2),En="__reactFiber$"+ys,Jn="__reactProps$"+ys,el="__reactContainer$"+ys,If="__reactEvents$"+ys,oI="__reactListeners$"+ys,cI="__reactHandles$"+ys,n0="__reactResources$"+ys,ko="__reactMarker$"+ys;function Rf(s){delete s[En],delete s[Jn],delete s[If],delete s[oI],delete s[cI]}function tl(s){var l=s[En];if(l)return l;for(var c=s.parentNode;c;){if(l=c[el]||c[En]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(s=S1(s);s!==null;){if(c=s[En])return c;s=S1(s)}return l}s=c,c=s.parentNode}return null}function nl(s){if(s=s[En]||s[el]){var l=s.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return s}return null}function To(s){var l=s.tag;if(l===5||l===26||l===27||l===6)return s.stateNode;throw Error(r(33))}function al(s){var l=s[n0];return l||(l=s[n0]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function jn(s){s[ko]=!0}var a0=new Set,r0={};function ui(s,l){rl(s,l),rl(s+"Capture",l)}function rl(s,l){for(r0[s]=l,s=0;s<l.length;s++)a0.add(l[s])}var uI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),s0={},i0={};function dI(s){return Ae.call(i0,s)?!0:Ae.call(s0,s)?!1:uI.test(s)?i0[s]=!0:(s0[s]=!0,!1)}function Lu(s,l,c){if(dI(l))if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){s.removeAttribute(l);return}}s.setAttribute(l,""+c)}}function Fu(s,l,c){if(c===null)s.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttribute(l,""+c)}}function Cr(s,l,c,m){if(m===null)s.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(l,c,""+m)}}function Oa(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function l0(s){var l=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function hI(s,l,c){var m=Object.getOwnPropertyDescriptor(s.constructor.prototype,l);if(!s.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var g=m.get,b=m.set;return Object.defineProperty(s,l,{configurable:!0,get:function(){return g.call(this)},set:function(I){c=""+I,b.call(this,I)}}),Object.defineProperty(s,l,{enumerable:m.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){s._valueTracker=null,delete s[l]}}}}function _f(s){if(!s._valueTracker){var l=l0(s)?"checked":"value";s._valueTracker=hI(s,l,""+s[l])}}function o0(s){if(!s)return!1;var l=s._valueTracker;if(!l)return!0;var c=l.getValue(),m="";return s&&(m=l0(s)?s.checked?"true":"false":s.value),s=m,s!==c?(l.setValue(s),!0):!1}function zu(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var mI=/[\n"\\]/g;function Pa(s){return s.replace(mI,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Bf(s,l,c,m,g,b,I,Y){s.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?s.type=I:s.removeAttribute("type"),l!=null?I==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+Oa(l)):s.value!==""+Oa(l)&&(s.value=""+Oa(l)):I!=="submit"&&I!=="reset"||s.removeAttribute("value"),l!=null?Lf(s,I,Oa(l)):c!=null?Lf(s,I,Oa(c)):m!=null&&s.removeAttribute("value"),g==null&&b!=null&&(s.defaultChecked=!!b),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),Y!=null&&typeof Y!="function"&&typeof Y!="symbol"&&typeof Y!="boolean"?s.name=""+Oa(Y):s.removeAttribute("name")}function c0(s,l,c,m,g,b,I,Y){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),l!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||l!=null)){_f(s);return}c=c!=null?""+Oa(c):"",l=l!=null?""+Oa(l):c,Y||l===s.value||(s.value=l),s.defaultValue=l}m=m??g,m=typeof m!="function"&&typeof m!="symbol"&&!!m,s.checked=Y?s.checked:!!m,s.defaultChecked=!!m,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(s.name=I),_f(s)}function Lf(s,l,c){l==="number"&&zu(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function sl(s,l,c,m){if(s=s.options,l){l={};for(var g=0;g<c.length;g++)l["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=l.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&m&&(s[c].defaultSelected=!0)}else{for(c=""+Oa(c),l=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,m&&(s[g].defaultSelected=!0);return}l!==null||s[g].disabled||(l=s[g])}l!==null&&(l.selected=!0)}}function u0(s,l,c){if(l!=null&&(l=""+Oa(l),l!==s.value&&(s.value=l),c==null)){s.defaultValue!==l&&(s.defaultValue=l);return}s.defaultValue=c!=null?""+Oa(c):""}function d0(s,l,c,m){if(l==null){if(m!=null){if(c!=null)throw Error(r(92));if(G(m)){if(1<m.length)throw Error(r(93));m=m[0]}c=m}c==null&&(c=""),l=c}c=Oa(l),s.defaultValue=c,m=s.textContent,m===c&&m!==""&&m!==null&&(s.value=m),_f(s)}function il(s,l){if(l){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=l;return}}s.textContent=l}var fI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function h0(s,l,c){var m=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?m?s.setProperty(l,""):l==="float"?s.cssFloat="":s[l]="":m?s.setProperty(l,c):typeof c!="number"||c===0||fI.has(l)?l==="float"?s.cssFloat=c:s[l]=(""+c).trim():s[l]=c+"px"}function m0(s,l,c){if(l!=null&&typeof l!="object")throw Error(r(62));if(s=s.style,c!=null){for(var m in c)!c.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?s.setProperty(m,""):m==="float"?s.cssFloat="":s[m]="");for(var g in l)m=l[g],l.hasOwnProperty(g)&&c[g]!==m&&h0(s,g,m)}else for(var b in l)l.hasOwnProperty(b)&&h0(s,b,l[b])}function Ff(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uu(s){return vI.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function wr(){}var zf=null;function Uf(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ll=null,ol=null;function f0(s){var l=nl(s);if(l&&(s=l.stateNode)){var c=s[Jn]||null;e:switch(s=l.stateNode,l.type){case"input":if(Bf(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Pa(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var m=c[l];if(m!==s&&m.form===s.form){var g=m[Jn]||null;if(!g)throw Error(r(90));Bf(m,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(l=0;l<c.length;l++)m=c[l],m.form===s.form&&o0(m)}break e;case"textarea":u0(s,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&sl(s,!!c.multiple,l,!1)}}}var $f=!1;function p0(s,l,c){if($f)return s(l,c);$f=!0;try{var m=s(l);return m}finally{if($f=!1,(ll!==null||ol!==null)&&(Dd(),ll&&(l=ll,s=ol,ol=ll=null,f0(l),s)))for(l=0;l<s.length;l++)f0(s[l])}}function Mo(s,l){var c=s.stateNode;if(c===null)return null;var m=c[Jn]||null;if(m===null)return null;c=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(r(231,l,typeof c));return c}var Ar=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qf=!1;if(Ar)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){qf=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{qf=!1}var js=null,Hf=null,$u=null;function v0(){if($u)return $u;var s,l=Hf,c=l.length,m,g="value"in js?js.value:js.textContent,b=g.length;for(s=0;s<c&&l[s]===g[s];s++);var I=c-s;for(m=1;m<=I&&l[c-m]===g[b-m];m++);return $u=g.slice(s,1<m?1-m:void 0)}function qu(s){var l=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&l===13&&(s=13)):s=l,s===10&&(s=13),32<=s||s===13?s:0}function Hu(){return!0}function x0(){return!1}function ea(s){function l(c,m,g,b,I){this._reactName=c,this._targetInst=g,this.type=m,this.nativeEvent=b,this.target=I,this.currentTarget=null;for(var Y in s)s.hasOwnProperty(Y)&&(c=s[Y],this[Y]=c?c(b):b[Y]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Hu:x0,this.isPropagationStopped=x0,this}return v(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Hu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Hu)},persist:function(){},isPersistent:Hu}),l}var di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vu=ea(di),Ro=v({},di,{view:0,detail:0}),xI=ea(Ro),Vf,Yf,_o,Yu=v({},Ro,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==_o&&(_o&&s.type==="mousemove"?(Vf=s.screenX-_o.screenX,Yf=s.screenY-_o.screenY):Yf=Vf=0,_o=s),Vf)},movementY:function(s){return"movementY"in s?s.movementY:Yf}}),g0=ea(Yu),gI=v({},Yu,{dataTransfer:0}),yI=ea(gI),jI=v({},Ro,{relatedTarget:0}),Gf=ea(jI),bI=v({},di,{animationName:0,elapsedTime:0,pseudoElement:0}),NI=ea(bI),SI=v({},di,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),CI=ea(SI),wI=v({},di,{data:0}),y0=ea(wI),AI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OI(s){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(s):(s=DI[s])?!!l[s]:!1}function Kf(){return OI}var PI=v({},Ro,{key:function(s){if(s.key){var l=AI[s.key]||s.key;if(l!=="Unidentified")return l}return s.type==="keypress"?(s=qu(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?EI[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kf,charCode:function(s){return s.type==="keypress"?qu(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qu(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),kI=ea(PI),TI=v({},Yu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),j0=ea(TI),MI=v({},Ro,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kf}),II=ea(MI),RI=v({},di,{propertyName:0,elapsedTime:0,pseudoElement:0}),_I=ea(RI),BI=v({},Yu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),LI=ea(BI),FI=v({},di,{newState:0,oldState:0}),zI=ea(FI),UI=[9,13,27,32],Wf=Ar&&"CompositionEvent"in window,Bo=null;Ar&&"documentMode"in document&&(Bo=document.documentMode);var $I=Ar&&"TextEvent"in window&&!Bo,b0=Ar&&(!Wf||Bo&&8<Bo&&11>=Bo),N0=" ",S0=!1;function C0(s,l){switch(s){case"keyup":return UI.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var cl=!1;function qI(s,l){switch(s){case"compositionend":return w0(l);case"keypress":return l.which!==32?null:(S0=!0,N0);case"textInput":return s=l.data,s===N0&&S0?null:s;default:return null}}function HI(s,l){if(cl)return s==="compositionend"||!Wf&&C0(s,l)?(s=v0(),$u=Hf=js=null,cl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return b0&&l.locale!=="ko"?null:l.data;default:return null}}var VI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A0(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l==="input"?!!VI[s.type]:l==="textarea"}function E0(s,l,c,m){ll?ol?ol.push(m):ol=[m]:ll=m,l=Rd(l,"onChange"),0<l.length&&(c=new Vu("onChange","change",null,c,m),s.push({event:c,listeners:l}))}var Lo=null,Fo=null;function YI(s){c1(s,0)}function Gu(s){var l=To(s);if(o0(l))return s}function D0(s,l){if(s==="change")return l}var O0=!1;if(Ar){var Xf;if(Ar){var Zf="oninput"in document;if(!Zf){var P0=document.createElement("div");P0.setAttribute("oninput","return;"),Zf=typeof P0.oninput=="function"}Xf=Zf}else Xf=!1;O0=Xf&&(!document.documentMode||9<document.documentMode)}function k0(){Lo&&(Lo.detachEvent("onpropertychange",T0),Fo=Lo=null)}function T0(s){if(s.propertyName==="value"&&Gu(Fo)){var l=[];E0(l,Fo,s,Uf(s)),p0(YI,l)}}function GI(s,l,c){s==="focusin"?(k0(),Lo=l,Fo=c,Lo.attachEvent("onpropertychange",T0)):s==="focusout"&&k0()}function KI(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Gu(Fo)}function WI(s,l){if(s==="click")return Gu(l)}function XI(s,l){if(s==="input"||s==="change")return Gu(l)}function ZI(s,l){return s===l&&(s!==0||1/s===1/l)||s!==s&&l!==l}var fa=typeof Object.is=="function"?Object.is:ZI;function zo(s,l){if(fa(s,l))return!0;if(typeof s!="object"||s===null||typeof l!="object"||l===null)return!1;var c=Object.keys(s),m=Object.keys(l);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var g=c[m];if(!Ae.call(l,g)||!fa(s[g],l[g]))return!1}return!0}function M0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function I0(s,l){var c=M0(s);s=0;for(var m;c;){if(c.nodeType===3){if(m=s+c.textContent.length,s<=l&&m>=l)return{node:c,offset:l-s};s=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=M0(c)}}function R0(s,l){return s&&l?s===l?!0:s&&s.nodeType===3?!1:l&&l.nodeType===3?R0(s,l.parentNode):"contains"in s?s.contains(l):s.compareDocumentPosition?!!(s.compareDocumentPosition(l)&16):!1:!1}function _0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var l=zu(s.document);l instanceof s.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)s=l.contentWindow;else break;l=zu(s.document)}return l}function Qf(s){var l=s&&s.nodeName&&s.nodeName.toLowerCase();return l&&(l==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||l==="textarea"||s.contentEditable==="true")}var QI=Ar&&"documentMode"in document&&11>=document.documentMode,ul=null,Jf=null,Uo=null,ep=!1;function B0(s,l,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;ep||ul==null||ul!==zu(m)||(m=ul,"selectionStart"in m&&Qf(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Uo&&zo(Uo,m)||(Uo=m,m=Rd(Jf,"onSelect"),0<m.length&&(l=new Vu("onSelect","select",null,l,c),s.push({event:l,listeners:m}),l.target=ul)))}function hi(s,l){var c={};return c[s.toLowerCase()]=l.toLowerCase(),c["Webkit"+s]="webkit"+l,c["Moz"+s]="moz"+l,c}var dl={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},tp={},L0={};Ar&&(L0=document.createElement("div").style,"AnimationEvent"in window||(delete dl.animationend.animation,delete dl.animationiteration.animation,delete dl.animationstart.animation),"TransitionEvent"in window||delete dl.transitionend.transition);function mi(s){if(tp[s])return tp[s];if(!dl[s])return s;var l=dl[s],c;for(c in l)if(l.hasOwnProperty(c)&&c in L0)return tp[s]=l[c];return s}var F0=mi("animationend"),z0=mi("animationiteration"),U0=mi("animationstart"),JI=mi("transitionrun"),eR=mi("transitionstart"),tR=mi("transitioncancel"),$0=mi("transitionend"),q0=new Map,np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");np.push("scrollEnd");function er(s,l){q0.set(s,l),ui(l,[s])}var Ku=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ka=[],hl=0,ap=0;function Wu(){for(var s=hl,l=ap=hl=0;l<s;){var c=ka[l];ka[l++]=null;var m=ka[l];ka[l++]=null;var g=ka[l];ka[l++]=null;var b=ka[l];if(ka[l++]=null,m!==null&&g!==null){var I=m.pending;I===null?g.next=g:(g.next=I.next,I.next=g),m.pending=g}b!==0&&H0(c,g,b)}}function Xu(s,l,c,m){ka[hl++]=s,ka[hl++]=l,ka[hl++]=c,ka[hl++]=m,ap|=m,s.lanes|=m,s=s.alternate,s!==null&&(s.lanes|=m)}function rp(s,l,c,m){return Xu(s,l,c,m),Zu(s)}function fi(s,l){return Xu(s,null,null,l),Zu(s)}function H0(s,l,c){s.lanes|=c;var m=s.alternate;m!==null&&(m.lanes|=c);for(var g=!1,b=s.return;b!==null;)b.childLanes|=c,m=b.alternate,m!==null&&(m.childLanes|=c),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(g=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,g&&l!==null&&(g=31-Bn(c),s=b.hiddenUpdates,m=s[g],m===null?s[g]=[l]:m.push(l),l.lane=c|536870912),b):null}function Zu(s){if(50<cc)throw cc=0,mv=null,Error(r(185));for(var l=s.return;l!==null;)s=l,l=s.return;return s.tag===3?s.stateNode:null}var ml={};function nR(s,l,c,m){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(s,l,c,m){return new nR(s,l,c,m)}function sp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Er(s,l){var c=s.alternate;return c===null?(c=pa(s.tag,l,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=l,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,l=s.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function V0(s,l){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=l,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,l=c.dependencies,s.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),s}function Qu(s,l,c,m,g,b){var I=0;if(m=s,typeof s=="function")sp(s)&&(I=1);else if(typeof s=="string")I=l_(s,c,$.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case R:return s=pa(31,c,l,g),s.elementType=R,s.lanes=b,s;case j:return pi(c.children,g,b,l);case w:I=8,g|=24;break;case O:return s=pa(12,c,l,g|2),s.elementType=O,s.lanes=b,s;case k:return s=pa(13,c,l,g),s.elementType=k,s.lanes=b,s;case F:return s=pa(19,c,l,g),s.elementType=F,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case E:I=10;break e;case S:I=9;break e;case T:I=11;break e;case P:I=14;break e;case W:I=16,m=null;break e}I=29,c=Error(r(130,s===null?"null":typeof s,"")),m=null}return l=pa(I,c,l,g),l.elementType=s,l.type=m,l.lanes=b,l}function pi(s,l,c,m){return s=pa(7,s,m,l),s.lanes=c,s}function ip(s,l,c){return s=pa(6,s,null,l),s.lanes=c,s}function Y0(s){var l=pa(18,null,null,0);return l.stateNode=s,l}function lp(s,l,c){return l=pa(4,s.children!==null?s.children:[],s.key,l),l.lanes=c,l.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},l}var G0=new WeakMap;function Ta(s,l){if(typeof s=="object"&&s!==null){var c=G0.get(s);return c!==void 0?c:(l={value:s,source:l,stack:Ce(l)},G0.set(s,l),l)}return{value:s,source:l,stack:Ce(l)}}var fl=[],pl=0,Ju=null,$o=0,Ma=[],Ia=0,bs=null,mr=1,fr="";function Dr(s,l){fl[pl++]=$o,fl[pl++]=Ju,Ju=s,$o=l}function K0(s,l,c){Ma[Ia++]=mr,Ma[Ia++]=fr,Ma[Ia++]=bs,bs=s;var m=mr;s=fr;var g=32-Bn(m)-1;m&=~(1<<g),c+=1;var b=32-Bn(l)+g;if(30<b){var I=g-g%5;b=(m&(1<<I)-1).toString(32),m>>=I,g-=I,mr=1<<32-Bn(l)+g|c<<g|m,fr=b+s}else mr=1<<b|c<<g|m,fr=s}function op(s){s.return!==null&&(Dr(s,1),K0(s,1,0))}function cp(s){for(;s===Ju;)Ju=fl[--pl],fl[pl]=null,$o=fl[--pl],fl[pl]=null;for(;s===bs;)bs=Ma[--Ia],Ma[Ia]=null,fr=Ma[--Ia],Ma[Ia]=null,mr=Ma[--Ia],Ma[Ia]=null}function W0(s,l){Ma[Ia++]=mr,Ma[Ia++]=fr,Ma[Ia++]=bs,mr=l.id,fr=l.overflow,bs=s}var Dn=null,Ot=null,st=!1,Ns=null,Ra=!1,up=Error(r(519));function Ss(s){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Ta(l,s)),up}function X0(s){var l=s.stateNode,c=s.type,m=s.memoizedProps;switch(l[En]=s,l[Jn]=m,c){case"dialog":tt("cancel",l),tt("close",l);break;case"iframe":case"object":case"embed":tt("load",l);break;case"video":case"audio":for(c=0;c<dc.length;c++)tt(dc[c],l);break;case"source":tt("error",l);break;case"img":case"image":case"link":tt("error",l),tt("load",l);break;case"details":tt("toggle",l);break;case"input":tt("invalid",l),c0(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":tt("invalid",l);break;case"textarea":tt("invalid",l),d0(l,m.value,m.defaultValue,m.children)}c=m.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||m.suppressHydrationWarning===!0||m1(l.textContent,c)?(m.popover!=null&&(tt("beforetoggle",l),tt("toggle",l)),m.onScroll!=null&&tt("scroll",l),m.onScrollEnd!=null&&tt("scrollend",l),m.onClick!=null&&(l.onclick=wr),l=!0):l=!1,l||Ss(s,!0)}function Z0(s){for(Dn=s.return;Dn;)switch(Dn.tag){case 5:case 31:case 13:Ra=!1;return;case 27:case 3:Ra=!0;return;default:Dn=Dn.return}}function vl(s){if(s!==Dn)return!1;if(!st)return Z0(s),st=!0,!1;var l=s.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Dv(s.type,s.memoizedProps)),c=!c),c&&Ot&&Ss(s),Z0(s),l===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ot=N1(s)}else if(l===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Ot=N1(s)}else l===27?(l=Ot,Bs(s.type)?(s=Mv,Mv=null,Ot=s):Ot=l):Ot=Dn?Ba(s.stateNode.nextSibling):null;return!0}function vi(){Ot=Dn=null,st=!1}function dp(){var s=Ns;return s!==null&&(ra===null?ra=s:ra.push.apply(ra,s),Ns=null),s}function qo(s){Ns===null?Ns=[s]:Ns.push(s)}var hp=_(null),xi=null,Or=null;function Cs(s,l,c){L(hp,l._currentValue),l._currentValue=c}function Pr(s){s._currentValue=hp.current,z(hp)}function mp(s,l,c){for(;s!==null;){var m=s.alternate;if((s.childLanes&l)!==l?(s.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),s===c)break;s=s.return}}function fp(s,l,c,m){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var b=g.dependencies;if(b!==null){var I=g.child;b=b.firstContext;e:for(;b!==null;){var Y=b;b=g;for(var ae=0;ae<l.length;ae++)if(Y.context===l[ae]){b.lanes|=c,Y=b.alternate,Y!==null&&(Y.lanes|=c),mp(b.return,c,s),m||(I=null);break e}b=Y.next}}else if(g.tag===18){if(I=g.return,I===null)throw Error(r(341));I.lanes|=c,b=I.alternate,b!==null&&(b.lanes|=c),mp(I,c,s),I=null}else I=g.child;if(I!==null)I.return=g;else for(I=g;I!==null;){if(I===s){I=null;break}if(g=I.sibling,g!==null){g.return=I.return,I=g;break}I=I.return}g=I}}function xl(s,l,c,m){s=null;for(var g=l,b=!1;g!==null;){if(!b){if((g.flags&524288)!==0)b=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var I=g.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var Y=g.type;fa(g.pendingProps.value,I.value)||(s!==null?s.push(Y):s=[Y])}}else if(g===K.current){if(I=g.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(vc):s=[vc])}g=g.return}s!==null&&fp(l,s,c,m),l.flags|=262144}function ed(s){for(s=s.firstContext;s!==null;){if(!fa(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function gi(s){xi=s,Or=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function On(s){return Q0(xi,s)}function td(s,l){return xi===null&&gi(s),Q0(s,l)}function Q0(s,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},Or===null){if(s===null)throw Error(r(308));Or=l,s.dependencies={lanes:0,firstContext:l},s.flags|=524288}else Or=Or.next=l;return c}var aR=typeof AbortController<"u"?AbortController:function(){var s=[],l=this.signal={aborted:!1,addEventListener:function(c,m){s.push(m)}};this.abort=function(){l.aborted=!0,s.forEach(function(c){return c()})}},rR=t.unstable_scheduleCallback,sR=t.unstable_NormalPriority,tn={$$typeof:E,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pp(){return{controller:new aR,data:new Map,refCount:0}}function Ho(s){s.refCount--,s.refCount===0&&rR(sR,function(){s.controller.abort()})}var Vo=null,vp=0,gl=0,yl=null;function iR(s,l){if(Vo===null){var c=Vo=[];vp=0,gl=yv(),yl={status:"pending",value:void 0,then:function(m){c.push(m)}}}return vp++,l.then(J0,J0),l}function J0(){if(--vp===0&&Vo!==null){yl!==null&&(yl.status="fulfilled");var s=Vo;Vo=null,gl=0,yl=null;for(var l=0;l<s.length;l++)(0,s[l])()}}function lR(s,l){var c=[],m={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){m.status="fulfilled",m.value=l;for(var g=0;g<c.length;g++)(0,c[g])(l)},function(g){for(m.status="rejected",m.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),m}var eN=M.S;M.S=function(s,l){BS=dn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&iR(s,l),eN!==null&&eN(s,l)};var yi=_(null);function xp(){var s=yi.current;return s!==null?s:Nt.pooledCache}function nd(s,l){l===null?L(yi,yi.current):L(yi,l.pool)}function tN(){var s=xp();return s===null?null:{parent:tn._currentValue,pool:s}}var jl=Error(r(460)),gp=Error(r(474)),ad=Error(r(542)),rd={then:function(){}};function nN(s){return s=s.status,s==="fulfilled"||s==="rejected"}function aN(s,l,c){switch(c=s[c],c===void 0?s.push(l):c!==l&&(l.then(wr,wr),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,sN(s),s;default:if(typeof l.status=="string")l.then(wr,wr);else{if(s=Nt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=l,s.status="pending",s.then(function(m){if(l.status==="pending"){var g=l;g.status="fulfilled",g.value=m}},function(m){if(l.status==="pending"){var g=l;g.status="rejected",g.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw s=l.reason,sN(s),s}throw bi=l,jl}}function ji(s){try{var l=s._init;return l(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(bi=c,jl):c}}var bi=null;function rN(){if(bi===null)throw Error(r(459));var s=bi;return bi=null,s}function sN(s){if(s===jl||s===ad)throw Error(r(483))}var bl=null,Yo=0;function sd(s){var l=Yo;return Yo+=1,bl===null&&(bl=[]),aN(bl,s,l)}function Go(s,l){l=l.props.ref,s.ref=l!==void 0?l:null}function id(s,l){throw l.$$typeof===y?Error(r(525)):(s=Object.prototype.toString.call(l),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":s)))}function iN(s){function l(he,ie){if(s){var fe=he.deletions;fe===null?(he.deletions=[ie],he.flags|=16):fe.push(ie)}}function c(he,ie){if(!s)return null;for(;ie!==null;)l(he,ie),ie=ie.sibling;return null}function m(he){for(var ie=new Map;he!==null;)he.key!==null?ie.set(he.key,he):ie.set(he.index,he),he=he.sibling;return ie}function g(he,ie){return he=Er(he,ie),he.index=0,he.sibling=null,he}function b(he,ie,fe){return he.index=fe,s?(fe=he.alternate,fe!==null?(fe=fe.index,fe<ie?(he.flags|=67108866,ie):fe):(he.flags|=67108866,ie)):(he.flags|=1048576,ie)}function I(he){return s&&he.alternate===null&&(he.flags|=67108866),he}function Y(he,ie,fe,Se){return ie===null||ie.tag!==6?(ie=ip(fe,he.mode,Se),ie.return=he,ie):(ie=g(ie,fe),ie.return=he,ie)}function ae(he,ie,fe,Se){var Le=fe.type;return Le===j?Ne(he,ie,fe.props.children,Se,fe.key):ie!==null&&(ie.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===W&&ji(Le)===ie.type)?(ie=g(ie,fe.props),Go(ie,fe),ie.return=he,ie):(ie=Qu(fe.type,fe.key,fe.props,null,he.mode,Se),Go(ie,fe),ie.return=he,ie)}function pe(he,ie,fe,Se){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==fe.containerInfo||ie.stateNode.implementation!==fe.implementation?(ie=lp(fe,he.mode,Se),ie.return=he,ie):(ie=g(ie,fe.children||[]),ie.return=he,ie)}function Ne(he,ie,fe,Se,Le){return ie===null||ie.tag!==7?(ie=pi(fe,he.mode,Se,Le),ie.return=he,ie):(ie=g(ie,fe),ie.return=he,ie)}function we(he,ie,fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=ip(""+ie,he.mode,fe),ie.return=he,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case C:return fe=Qu(ie.type,ie.key,ie.props,null,he.mode,fe),Go(fe,ie),fe.return=he,fe;case N:return ie=lp(ie,he.mode,fe),ie.return=he,ie;case W:return ie=ji(ie),we(he,ie,fe)}if(G(ie)||se(ie))return ie=pi(ie,he.mode,fe,null),ie.return=he,ie;if(typeof ie.then=="function")return we(he,sd(ie),fe);if(ie.$$typeof===E)return we(he,td(he,ie),fe);id(he,ie)}return null}function ge(he,ie,fe,Se){var Le=ie!==null?ie.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Le!==null?null:Y(he,ie,""+fe,Se);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case C:return fe.key===Le?ae(he,ie,fe,Se):null;case N:return fe.key===Le?pe(he,ie,fe,Se):null;case W:return fe=ji(fe),ge(he,ie,fe,Se)}if(G(fe)||se(fe))return Le!==null?null:Ne(he,ie,fe,Se,null);if(typeof fe.then=="function")return ge(he,ie,sd(fe),Se);if(fe.$$typeof===E)return ge(he,ie,td(he,fe),Se);id(he,fe)}return null}function je(he,ie,fe,Se,Le){if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return he=he.get(fe)||null,Y(ie,he,""+Se,Le);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case C:return he=he.get(Se.key===null?fe:Se.key)||null,ae(ie,he,Se,Le);case N:return he=he.get(Se.key===null?fe:Se.key)||null,pe(ie,he,Se,Le);case W:return Se=ji(Se),je(he,ie,fe,Se,Le)}if(G(Se)||se(Se))return he=he.get(fe)||null,Ne(ie,he,Se,Le,null);if(typeof Se.then=="function")return je(he,ie,fe,sd(Se),Le);if(Se.$$typeof===E)return je(he,ie,fe,td(ie,Se),Le);id(ie,Se)}return null}function Me(he,ie,fe,Se){for(var Le=null,lt=null,Ie=ie,Qe=ie=0,at=null;Ie!==null&&Qe<fe.length;Qe++){Ie.index>Qe?(at=Ie,Ie=null):at=Ie.sibling;var ot=ge(he,Ie,fe[Qe],Se);if(ot===null){Ie===null&&(Ie=at);break}s&&Ie&&ot.alternate===null&&l(he,Ie),ie=b(ot,ie,Qe),lt===null?Le=ot:lt.sibling=ot,lt=ot,Ie=at}if(Qe===fe.length)return c(he,Ie),st&&Dr(he,Qe),Le;if(Ie===null){for(;Qe<fe.length;Qe++)Ie=we(he,fe[Qe],Se),Ie!==null&&(ie=b(Ie,ie,Qe),lt===null?Le=Ie:lt.sibling=Ie,lt=Ie);return st&&Dr(he,Qe),Le}for(Ie=m(Ie);Qe<fe.length;Qe++)at=je(Ie,he,Qe,fe[Qe],Se),at!==null&&(s&&at.alternate!==null&&Ie.delete(at.key===null?Qe:at.key),ie=b(at,ie,Qe),lt===null?Le=at:lt.sibling=at,lt=at);return s&&Ie.forEach(function($s){return l(he,$s)}),st&&Dr(he,Qe),Le}function $e(he,ie,fe,Se){if(fe==null)throw Error(r(151));for(var Le=null,lt=null,Ie=ie,Qe=ie=0,at=null,ot=fe.next();Ie!==null&&!ot.done;Qe++,ot=fe.next()){Ie.index>Qe?(at=Ie,Ie=null):at=Ie.sibling;var $s=ge(he,Ie,ot.value,Se);if($s===null){Ie===null&&(Ie=at);break}s&&Ie&&$s.alternate===null&&l(he,Ie),ie=b($s,ie,Qe),lt===null?Le=$s:lt.sibling=$s,lt=$s,Ie=at}if(ot.done)return c(he,Ie),st&&Dr(he,Qe),Le;if(Ie===null){for(;!ot.done;Qe++,ot=fe.next())ot=we(he,ot.value,Se),ot!==null&&(ie=b(ot,ie,Qe),lt===null?Le=ot:lt.sibling=ot,lt=ot);return st&&Dr(he,Qe),Le}for(Ie=m(Ie);!ot.done;Qe++,ot=fe.next())ot=je(Ie,he,Qe,ot.value,Se),ot!==null&&(s&&ot.alternate!==null&&Ie.delete(ot.key===null?Qe:ot.key),ie=b(ot,ie,Qe),lt===null?Le=ot:lt.sibling=ot,lt=ot);return s&&Ie.forEach(function(g_){return l(he,g_)}),st&&Dr(he,Qe),Le}function yt(he,ie,fe,Se){if(typeof fe=="object"&&fe!==null&&fe.type===j&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case C:e:{for(var Le=fe.key;ie!==null;){if(ie.key===Le){if(Le=fe.type,Le===j){if(ie.tag===7){c(he,ie.sibling),Se=g(ie,fe.props.children),Se.return=he,he=Se;break e}}else if(ie.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===W&&ji(Le)===ie.type){c(he,ie.sibling),Se=g(ie,fe.props),Go(Se,fe),Se.return=he,he=Se;break e}c(he,ie);break}else l(he,ie);ie=ie.sibling}fe.type===j?(Se=pi(fe.props.children,he.mode,Se,fe.key),Se.return=he,he=Se):(Se=Qu(fe.type,fe.key,fe.props,null,he.mode,Se),Go(Se,fe),Se.return=he,he=Se)}return I(he);case N:e:{for(Le=fe.key;ie!==null;){if(ie.key===Le)if(ie.tag===4&&ie.stateNode.containerInfo===fe.containerInfo&&ie.stateNode.implementation===fe.implementation){c(he,ie.sibling),Se=g(ie,fe.children||[]),Se.return=he,he=Se;break e}else{c(he,ie);break}else l(he,ie);ie=ie.sibling}Se=lp(fe,he.mode,Se),Se.return=he,he=Se}return I(he);case W:return fe=ji(fe),yt(he,ie,fe,Se)}if(G(fe))return Me(he,ie,fe,Se);if(se(fe)){if(Le=se(fe),typeof Le!="function")throw Error(r(150));return fe=Le.call(fe),$e(he,ie,fe,Se)}if(typeof fe.then=="function")return yt(he,ie,sd(fe),Se);if(fe.$$typeof===E)return yt(he,ie,td(he,fe),Se);id(he,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint"?(fe=""+fe,ie!==null&&ie.tag===6?(c(he,ie.sibling),Se=g(ie,fe),Se.return=he,he=Se):(c(he,ie),Se=ip(fe,he.mode,Se),Se.return=he,he=Se),I(he)):c(he,ie)}return function(he,ie,fe,Se){try{Yo=0;var Le=yt(he,ie,fe,Se);return bl=null,Le}catch(Ie){if(Ie===jl||Ie===ad)throw Ie;var lt=pa(29,Ie,null,he.mode);return lt.lanes=Se,lt.return=he,lt}finally{}}}var Ni=iN(!0),lN=iN(!1),ws=!1;function yp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jp(s,l){s=s.updateQueue,l.updateQueue===s&&(l.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function As(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Es(s,l,c){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(ht&2)!==0){var g=m.pending;return g===null?l.next=l:(l.next=g.next,g.next=l),m.pending=l,l=Zu(s),H0(s,null,c),l}return Xu(s,m,l,c),Zu(s)}function Ko(s,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var m=l.lanes;m&=s.pendingLanes,c|=m,l.lanes=c,rt(s,c)}}function bp(s,l){var c=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var g=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var I={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?g=b=I:b=b.next=I,c=c.next}while(c!==null);b===null?g=b=l:b=b.next=l}else g=b=l;c={baseState:m.baseState,firstBaseUpdate:g,lastBaseUpdate:b,shared:m.shared,callbacks:m.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=l}var Np=!1;function Wo(){if(Np){var s=yl;if(s!==null)throw s}}function Xo(s,l,c,m){Np=!1;var g=s.updateQueue;ws=!1;var b=g.firstBaseUpdate,I=g.lastBaseUpdate,Y=g.shared.pending;if(Y!==null){g.shared.pending=null;var ae=Y,pe=ae.next;ae.next=null,I===null?b=pe:I.next=pe,I=ae;var Ne=s.alternate;Ne!==null&&(Ne=Ne.updateQueue,Y=Ne.lastBaseUpdate,Y!==I&&(Y===null?Ne.firstBaseUpdate=pe:Y.next=pe,Ne.lastBaseUpdate=ae))}if(b!==null){var we=g.baseState;I=0,Ne=pe=ae=null,Y=b;do{var ge=Y.lane&-536870913,je=ge!==Y.lane;if(je?(nt&ge)===ge:(m&ge)===ge){ge!==0&&ge===gl&&(Np=!0),Ne!==null&&(Ne=Ne.next={lane:0,tag:Y.tag,payload:Y.payload,callback:null,next:null});e:{var Me=s,$e=Y;ge=l;var yt=c;switch($e.tag){case 1:if(Me=$e.payload,typeof Me=="function"){we=Me.call(yt,we,ge);break e}we=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=$e.payload,ge=typeof Me=="function"?Me.call(yt,we,ge):Me,ge==null)break e;we=v({},we,ge);break e;case 2:ws=!0}}ge=Y.callback,ge!==null&&(s.flags|=64,je&&(s.flags|=8192),je=g.callbacks,je===null?g.callbacks=[ge]:je.push(ge))}else je={lane:ge,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},Ne===null?(pe=Ne=je,ae=we):Ne=Ne.next=je,I|=ge;if(Y=Y.next,Y===null){if(Y=g.shared.pending,Y===null)break;je=Y,Y=je.next,je.next=null,g.lastBaseUpdate=je,g.shared.pending=null}}while(!0);Ne===null&&(ae=we),g.baseState=ae,g.firstBaseUpdate=pe,g.lastBaseUpdate=Ne,b===null&&(g.shared.lanes=0),Ts|=I,s.lanes=I,s.memoizedState=we}}function oN(s,l){if(typeof s!="function")throw Error(r(191,s));s.call(l)}function cN(s,l){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)oN(c[s],l)}var Nl=_(null),ld=_(0);function uN(s,l){s=Fr,L(ld,s),L(Nl,l),Fr=s|l.baseLanes}function Sp(){L(ld,Fr),L(Nl,Nl.current)}function Cp(){Fr=ld.current,z(Nl),z(ld)}var va=_(null),_a=null;function Ds(s){var l=s.alternate;L(Xt,Xt.current&1),L(va,s),_a===null&&(l===null||Nl.current!==null||l.memoizedState!==null)&&(_a=s)}function wp(s){L(Xt,Xt.current),L(va,s),_a===null&&(_a=s)}function dN(s){s.tag===22?(L(Xt,Xt.current),L(va,s),_a===null&&(_a=s)):Os()}function Os(){L(Xt,Xt.current),L(va,va.current)}function xa(s){z(va),_a===s&&(_a=null),z(Xt)}var Xt=_(0);function od(s){for(var l=s;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||kv(c)||Tv(c)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var kr=0,We=null,xt=null,nn=null,cd=!1,Sl=!1,Si=!1,ud=0,Zo=0,Cl=null,oR=0;function Yt(){throw Error(r(321))}function Ap(s,l){if(l===null)return!1;for(var c=0;c<l.length&&c<s.length;c++)if(!fa(s[c],l[c]))return!1;return!0}function Ep(s,l,c,m,g,b){return kr=b,We=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,M.H=s===null||s.memoizedState===null?KN:$p,Si=!1,b=c(m,g),Si=!1,Sl&&(b=mN(l,c,m,g)),hN(s),b}function hN(s){M.H=ec;var l=xt!==null&&xt.next!==null;if(kr=0,nn=xt=We=null,cd=!1,Zo=0,Cl=null,l)throw Error(r(300));s===null||an||(s=s.dependencies,s!==null&&ed(s)&&(an=!0))}function mN(s,l,c,m){We=s;var g=0;do{if(Sl&&(Cl=null),Zo=0,Sl=!1,25<=g)throw Error(r(301));if(g+=1,nn=xt=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}M.H=WN,b=l(c,m)}while(Sl);return b}function cR(){var s=M.H,l=s.useState()[0];return l=typeof l.then=="function"?Qo(l):l,s=s.useState()[0],(xt!==null?xt.memoizedState:null)!==s&&(We.flags|=1024),l}function Dp(){var s=ud!==0;return ud=0,s}function Op(s,l,c){l.updateQueue=s.updateQueue,l.flags&=-2053,s.lanes&=~c}function Pp(s){if(cd){for(s=s.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}cd=!1}kr=0,nn=xt=We=null,Sl=!1,Zo=ud=0,Cl=null}function Vn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?We.memoizedState=nn=s:nn=nn.next=s,nn}function Zt(){if(xt===null){var s=We.alternate;s=s!==null?s.memoizedState:null}else s=xt.next;var l=nn===null?We.memoizedState:nn.next;if(l!==null)nn=l,xt=s;else{if(s===null)throw We.alternate===null?Error(r(467)):Error(r(310));xt=s,s={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},nn===null?We.memoizedState=nn=s:nn=nn.next=s}return nn}function dd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qo(s){var l=Zo;return Zo+=1,Cl===null&&(Cl=[]),s=aN(Cl,s,l),l=We,(nn===null?l.memoizedState:nn.next)===null&&(l=l.alternate,M.H=l===null||l.memoizedState===null?KN:$p),s}function hd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Qo(s);if(s.$$typeof===E)return On(s)}throw Error(r(438,String(s)))}function kp(s){var l=null,c=We.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var m=We.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(g){return g.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=dd(),We.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(s),m=0;m<s;m++)c[m]=U;return l.index++,c}function Tr(s,l){return typeof l=="function"?l(s):l}function md(s){var l=Zt();return Tp(l,xt,s)}function Tp(s,l,c){var m=s.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var g=s.baseQueue,b=m.pending;if(b!==null){if(g!==null){var I=g.next;g.next=b.next,b.next=I}l.baseQueue=g=b,m.pending=null}if(b=s.baseState,g===null)s.memoizedState=b;else{l=g.next;var Y=I=null,ae=null,pe=l,Ne=!1;do{var we=pe.lane&-536870913;if(we!==pe.lane?(nt&we)===we:(kr&we)===we){var ge=pe.revertLane;if(ge===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),we===gl&&(Ne=!0);else if((kr&ge)===ge){pe=pe.next,ge===gl&&(Ne=!0);continue}else we={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ae===null?(Y=ae=we,I=b):ae=ae.next=we,We.lanes|=ge,Ts|=ge;we=pe.action,Si&&c(b,we),b=pe.hasEagerState?pe.eagerState:c(b,we)}else ge={lane:we,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},ae===null?(Y=ae=ge,I=b):ae=ae.next=ge,We.lanes|=we,Ts|=we;pe=pe.next}while(pe!==null&&pe!==l);if(ae===null?I=b:ae.next=Y,!fa(b,s.memoizedState)&&(an=!0,Ne&&(c=yl,c!==null)))throw c;s.memoizedState=b,s.baseState=I,s.baseQueue=ae,m.lastRenderedState=b}return g===null&&(m.lanes=0),[s.memoizedState,m.dispatch]}function Mp(s){var l=Zt(),c=l.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=s;var m=c.dispatch,g=c.pending,b=l.memoizedState;if(g!==null){c.pending=null;var I=g=g.next;do b=s(b,I.action),I=I.next;while(I!==g);fa(b,l.memoizedState)||(an=!0),l.memoizedState=b,l.baseQueue===null&&(l.baseState=b),c.lastRenderedState=b}return[b,m]}function fN(s,l,c){var m=We,g=Zt(),b=st;if(b){if(c===void 0)throw Error(r(407));c=c()}else c=l();var I=!fa((xt||g).memoizedState,c);if(I&&(g.memoizedState=c,an=!0),g=g.queue,_p(xN.bind(null,m,g,s),[s]),g.getSnapshot!==l||I||nn!==null&&nn.memoizedState.tag&1){if(m.flags|=2048,wl(9,{destroy:void 0},vN.bind(null,m,g,c,l),null),Nt===null)throw Error(r(349));b||(kr&127)!==0||pN(m,l,c)}return c}function pN(s,l,c){s.flags|=16384,s={getSnapshot:l,value:c},l=We.updateQueue,l===null?(l=dd(),We.updateQueue=l,l.stores=[s]):(c=l.stores,c===null?l.stores=[s]:c.push(s))}function vN(s,l,c,m){l.value=c,l.getSnapshot=m,gN(l)&&yN(s)}function xN(s,l,c){return c(function(){gN(l)&&yN(s)})}function gN(s){var l=s.getSnapshot;s=s.value;try{var c=l();return!fa(s,c)}catch{return!0}}function yN(s){var l=fi(s,2);l!==null&&sa(l,s,2)}function Ip(s){var l=Vn();if(typeof s=="function"){var c=s;if(s=c(),Si){Za(!0);try{c()}finally{Za(!1)}}}return l.memoizedState=l.baseState=s,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:s},l}function jN(s,l,c,m){return s.baseState=c,Tp(s,xt,typeof m=="function"?m:Tr)}function uR(s,l,c,m,g){if(vd(s))throw Error(r(485));if(s=l.action,s!==null){var b={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){b.listeners.push(I)}};M.T!==null?c(!0):b.isTransition=!1,m(b),c=l.pending,c===null?(b.next=l.pending=b,bN(l,b)):(b.next=c.next,l.pending=c.next=b)}}function bN(s,l){var c=l.action,m=l.payload,g=s.state;if(l.isTransition){var b=M.T,I={};M.T=I;try{var Y=c(g,m),ae=M.S;ae!==null&&ae(I,Y),NN(s,l,Y)}catch(pe){Rp(s,l,pe)}finally{b!==null&&I.types!==null&&(b.types=I.types),M.T=b}}else try{b=c(g,m),NN(s,l,b)}catch(pe){Rp(s,l,pe)}}function NN(s,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(m){SN(s,l,m)},function(m){return Rp(s,l,m)}):SN(s,l,c)}function SN(s,l,c){l.status="fulfilled",l.value=c,CN(l),s.state=c,l=s.pending,l!==null&&(c=l.next,c===l?s.pending=null:(c=c.next,l.next=c,bN(s,c)))}function Rp(s,l,c){var m=s.pending;if(s.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=c,CN(l),l=l.next;while(l!==m)}s.action=null}function CN(s){s=s.listeners;for(var l=0;l<s.length;l++)(0,s[l])()}function wN(s,l){return l}function AN(s,l){if(st){var c=Nt.formState;if(c!==null){e:{var m=We;if(st){if(Ot){t:{for(var g=Ot,b=Ra;g.nodeType!==8;){if(!b){g=null;break t}if(g=Ba(g.nextSibling),g===null){g=null;break t}}b=g.data,g=b==="F!"||b==="F"?g:null}if(g){Ot=Ba(g.nextSibling),m=g.data==="F!";break e}}Ss(m)}m=!1}m&&(l=c[0])}}return c=Vn(),c.memoizedState=c.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wN,lastRenderedState:l},c.queue=m,c=VN.bind(null,We,m),m.dispatch=c,m=Ip(!1),b=Up.bind(null,We,!1,m.queue),m=Vn(),g={state:l,dispatch:null,action:s,pending:null},m.queue=g,c=uR.bind(null,We,g,b,c),g.dispatch=c,m.memoizedState=s,[l,c,!1]}function EN(s){var l=Zt();return DN(l,xt,s)}function DN(s,l,c){if(l=Tp(s,l,wN)[0],s=md(Tr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=Qo(l)}catch(I){throw I===jl?ad:I}else m=l;l=Zt();var g=l.queue,b=g.dispatch;return c!==l.memoizedState&&(We.flags|=2048,wl(9,{destroy:void 0},dR.bind(null,g,c),null)),[m,b,s]}function dR(s,l){s.action=l}function ON(s){var l=Zt(),c=xt;if(c!==null)return DN(l,c,s);Zt(),l=l.memoizedState,c=Zt();var m=c.queue.dispatch;return c.memoizedState=s,[l,m,!1]}function wl(s,l,c,m){return s={tag:s,create:c,deps:m,inst:l,next:null},l=We.updateQueue,l===null&&(l=dd(),We.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=s.next=s:(m=c.next,c.next=s,s.next=m,l.lastEffect=s),s}function PN(){return Zt().memoizedState}function fd(s,l,c,m){var g=Vn();We.flags|=s,g.memoizedState=wl(1|l,{destroy:void 0},c,m===void 0?null:m)}function pd(s,l,c,m){var g=Zt();m=m===void 0?null:m;var b=g.memoizedState.inst;xt!==null&&m!==null&&Ap(m,xt.memoizedState.deps)?g.memoizedState=wl(l,b,c,m):(We.flags|=s,g.memoizedState=wl(1|l,b,c,m))}function kN(s,l){fd(8390656,8,s,l)}function _p(s,l){pd(2048,8,s,l)}function hR(s){We.flags|=4;var l=We.updateQueue;if(l===null)l=dd(),We.updateQueue=l,l.events=[s];else{var c=l.events;c===null?l.events=[s]:c.push(s)}}function TN(s){var l=Zt().memoizedState;return hR({ref:l,nextImpl:s}),function(){if((ht&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function MN(s,l){return pd(4,2,s,l)}function IN(s,l){return pd(4,4,s,l)}function RN(s,l){if(typeof l=="function"){s=s();var c=l(s);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return s=s(),l.current=s,function(){l.current=null}}function _N(s,l,c){c=c!=null?c.concat([s]):null,pd(4,4,RN.bind(null,l,s),c)}function Bp(){}function BN(s,l){var c=Zt();l=l===void 0?null:l;var m=c.memoizedState;return l!==null&&Ap(l,m[1])?m[0]:(c.memoizedState=[s,l],s)}function LN(s,l){var c=Zt();l=l===void 0?null:l;var m=c.memoizedState;if(l!==null&&Ap(l,m[1]))return m[0];if(m=s(),Si){Za(!0);try{s()}finally{Za(!1)}}return c.memoizedState=[m,l],m}function Lp(s,l,c){return c===void 0||(kr&1073741824)!==0&&(nt&261930)===0?s.memoizedState=l:(s.memoizedState=c,s=FS(),We.lanes|=s,Ts|=s,c)}function FN(s,l,c,m){return fa(c,l)?c:Nl.current!==null?(s=Lp(s,c,m),fa(s,l)||(an=!0),s):(kr&42)===0||(kr&1073741824)!==0&&(nt&261930)===0?(an=!0,s.memoizedState=c):(s=FS(),We.lanes|=s,Ts|=s,l)}function zN(s,l,c,m,g){var b=B.p;B.p=b!==0&&8>b?b:8;var I=M.T,Y={};M.T=Y,Up(s,!1,l,c);try{var ae=g(),pe=M.S;if(pe!==null&&pe(Y,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var Ne=lR(ae,m);Jo(s,l,Ne,ja(s))}else Jo(s,l,m,ja(s))}catch(we){Jo(s,l,{then:function(){},status:"rejected",reason:we},ja())}finally{B.p=b,I!==null&&Y.types!==null&&(I.types=Y.types),M.T=I}}function mR(){}function Fp(s,l,c,m){if(s.tag!==5)throw Error(r(476));var g=UN(s).queue;zN(s,g,l,re,c===null?mR:function(){return $N(s),c(m)})}function UN(s){var l=s.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:re},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tr,lastRenderedState:c},next:null},s.memoizedState=l,s=s.alternate,s!==null&&(s.memoizedState=l),l}function $N(s){var l=UN(s);l.next===null&&(l=s.alternate.memoizedState),Jo(s,l.next.queue,{},ja())}function zp(){return On(vc)}function qN(){return Zt().memoizedState}function HN(){return Zt().memoizedState}function fR(s){for(var l=s.return;l!==null;){switch(l.tag){case 24:case 3:var c=ja();s=As(c);var m=Es(l,s,c);m!==null&&(sa(m,l,c),Ko(m,l,c)),l={cache:pp()},s.payload=l;return}l=l.return}}function pR(s,l,c){var m=ja();c={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},vd(s)?YN(l,c):(c=rp(s,l,c,m),c!==null&&(sa(c,s,m),GN(c,l,m)))}function VN(s,l,c){var m=ja();Jo(s,l,c,m)}function Jo(s,l,c,m){var g={lane:m,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(vd(s))YN(l,g);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=l.lastRenderedReducer,b!==null))try{var I=l.lastRenderedState,Y=b(I,c);if(g.hasEagerState=!0,g.eagerState=Y,fa(Y,I))return Xu(s,l,g,0),Nt===null&&Wu(),!1}catch{}finally{}if(c=rp(s,l,g,m),c!==null)return sa(c,s,m),GN(c,l,m),!0}return!1}function Up(s,l,c,m){if(m={lane:2,revertLane:yv(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},vd(s)){if(l)throw Error(r(479))}else l=rp(s,c,m,2),l!==null&&sa(l,s,2)}function vd(s){var l=s.alternate;return s===We||l!==null&&l===We}function YN(s,l){Sl=cd=!0;var c=s.pending;c===null?l.next=l:(l.next=c.next,c.next=l),s.pending=l}function GN(s,l,c){if((c&4194048)!==0){var m=l.lanes;m&=s.pendingLanes,c|=m,l.lanes=c,rt(s,c)}}var ec={readContext:On,use:hd,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useLayoutEffect:Yt,useInsertionEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useSyncExternalStore:Yt,useId:Yt,useHostTransitionStatus:Yt,useFormState:Yt,useActionState:Yt,useOptimistic:Yt,useMemoCache:Yt,useCacheRefresh:Yt};ec.useEffectEvent=Yt;var KN={readContext:On,use:hd,useCallback:function(s,l){return Vn().memoizedState=[s,l===void 0?null:l],s},useContext:On,useEffect:kN,useImperativeHandle:function(s,l,c){c=c!=null?c.concat([s]):null,fd(4194308,4,RN.bind(null,l,s),c)},useLayoutEffect:function(s,l){return fd(4194308,4,s,l)},useInsertionEffect:function(s,l){fd(4,2,s,l)},useMemo:function(s,l){var c=Vn();l=l===void 0?null:l;var m=s();if(Si){Za(!0);try{s()}finally{Za(!1)}}return c.memoizedState=[m,l],m},useReducer:function(s,l,c){var m=Vn();if(c!==void 0){var g=c(l);if(Si){Za(!0);try{c(l)}finally{Za(!1)}}}else g=l;return m.memoizedState=m.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},m.queue=s,s=s.dispatch=pR.bind(null,We,s),[m.memoizedState,s]},useRef:function(s){var l=Vn();return s={current:s},l.memoizedState=s},useState:function(s){s=Ip(s);var l=s.queue,c=VN.bind(null,We,l);return l.dispatch=c,[s.memoizedState,c]},useDebugValue:Bp,useDeferredValue:function(s,l){var c=Vn();return Lp(c,s,l)},useTransition:function(){var s=Ip(!1);return s=zN.bind(null,We,s.queue,!0,!1),Vn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,l,c){var m=We,g=Vn();if(st){if(c===void 0)throw Error(r(407));c=c()}else{if(c=l(),Nt===null)throw Error(r(349));(nt&127)!==0||pN(m,l,c)}g.memoizedState=c;var b={value:c,getSnapshot:l};return g.queue=b,kN(xN.bind(null,m,b,s),[s]),m.flags|=2048,wl(9,{destroy:void 0},vN.bind(null,m,b,c,l),null),c},useId:function(){var s=Vn(),l=Nt.identifierPrefix;if(st){var c=fr,m=mr;c=(m&~(1<<32-Bn(m)-1)).toString(32)+c,l="_"+l+"R_"+c,c=ud++,0<c&&(l+="H"+c.toString(32)),l+="_"}else c=oR++,l="_"+l+"r_"+c.toString(32)+"_";return s.memoizedState=l},useHostTransitionStatus:zp,useFormState:AN,useActionState:AN,useOptimistic:function(s){var l=Vn();l.memoizedState=l.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=Up.bind(null,We,!0,c),c.dispatch=l,[s,l]},useMemoCache:kp,useCacheRefresh:function(){return Vn().memoizedState=fR.bind(null,We)},useEffectEvent:function(s){var l=Vn(),c={impl:s};return l.memoizedState=c,function(){if((ht&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},$p={readContext:On,use:hd,useCallback:BN,useContext:On,useEffect:_p,useImperativeHandle:_N,useInsertionEffect:MN,useLayoutEffect:IN,useMemo:LN,useReducer:md,useRef:PN,useState:function(){return md(Tr)},useDebugValue:Bp,useDeferredValue:function(s,l){var c=Zt();return FN(c,xt.memoizedState,s,l)},useTransition:function(){var s=md(Tr)[0],l=Zt().memoizedState;return[typeof s=="boolean"?s:Qo(s),l]},useSyncExternalStore:fN,useId:qN,useHostTransitionStatus:zp,useFormState:EN,useActionState:EN,useOptimistic:function(s,l){var c=Zt();return jN(c,xt,s,l)},useMemoCache:kp,useCacheRefresh:HN};$p.useEffectEvent=TN;var WN={readContext:On,use:hd,useCallback:BN,useContext:On,useEffect:_p,useImperativeHandle:_N,useInsertionEffect:MN,useLayoutEffect:IN,useMemo:LN,useReducer:Mp,useRef:PN,useState:function(){return Mp(Tr)},useDebugValue:Bp,useDeferredValue:function(s,l){var c=Zt();return xt===null?Lp(c,s,l):FN(c,xt.memoizedState,s,l)},useTransition:function(){var s=Mp(Tr)[0],l=Zt().memoizedState;return[typeof s=="boolean"?s:Qo(s),l]},useSyncExternalStore:fN,useId:qN,useHostTransitionStatus:zp,useFormState:ON,useActionState:ON,useOptimistic:function(s,l){var c=Zt();return xt!==null?jN(c,xt,s,l):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:kp,useCacheRefresh:HN};WN.useEffectEvent=TN;function qp(s,l,c,m){l=s.memoizedState,c=c(m,l),c=c==null?l:v({},l,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Hp={enqueueSetState:function(s,l,c){s=s._reactInternals;var m=ja(),g=As(m);g.payload=l,c!=null&&(g.callback=c),l=Es(s,g,m),l!==null&&(sa(l,s,m),Ko(l,s,m))},enqueueReplaceState:function(s,l,c){s=s._reactInternals;var m=ja(),g=As(m);g.tag=1,g.payload=l,c!=null&&(g.callback=c),l=Es(s,g,m),l!==null&&(sa(l,s,m),Ko(l,s,m))},enqueueForceUpdate:function(s,l){s=s._reactInternals;var c=ja(),m=As(c);m.tag=2,l!=null&&(m.callback=l),l=Es(s,m,c),l!==null&&(sa(l,s,c),Ko(l,s,c))}};function XN(s,l,c,m,g,b,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,b,I):l.prototype&&l.prototype.isPureReactComponent?!zo(c,m)||!zo(g,b):!0}function ZN(s,l,c,m){s=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,m),l.state!==s&&Hp.enqueueReplaceState(l,l.state,null)}function Ci(s,l){var c=l;if("ref"in l){c={};for(var m in l)m!=="ref"&&(c[m]=l[m])}if(s=s.defaultProps){c===l&&(c=v({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}function QN(s){Ku(s)}function JN(s){console.error(s)}function eS(s){Ku(s)}function xd(s,l){try{var c=s.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function tS(s,l,c){try{var m=s.onCaughtError;m(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Vp(s,l,c){return c=As(c),c.tag=3,c.payload={element:null},c.callback=function(){xd(s,l)},c}function nS(s){return s=As(s),s.tag=3,s}function aS(s,l,c,m){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var b=m.value;s.payload=function(){return g(b)},s.callback=function(){tS(l,c,m)}}var I=c.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(s.callback=function(){tS(l,c,m),typeof g!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var Y=m.stack;this.componentDidCatch(m.value,{componentStack:Y!==null?Y:""})})}function vR(s,l,c,m,g){if(c.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=c.alternate,l!==null&&xl(l,c,g,!0),c=va.current,c!==null){switch(c.tag){case 31:case 13:return _a===null?Od():c.alternate===null&&Gt===0&&(Gt=3),c.flags&=-257,c.flags|=65536,c.lanes=g,m===rd?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([m]):l.add(m),vv(s,m,g)),!1;case 22:return c.flags|=65536,m===rd?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([m]):c.add(m)),vv(s,m,g)),!1}throw Error(r(435,c.tag))}return vv(s,m,g),Od(),!1}if(st)return l=va.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=g,m!==up&&(s=Error(r(422),{cause:m}),qo(Ta(s,c)))):(m!==up&&(l=Error(r(423),{cause:m}),qo(Ta(l,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,m=Ta(m,c),g=Vp(s.stateNode,m,g),bp(s,g),Gt!==4&&(Gt=2)),!1;var b=Error(r(520),{cause:m});if(b=Ta(b,c),oc===null?oc=[b]:oc.push(b),Gt!==4&&(Gt=2),l===null)return!0;m=Ta(m,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=Vp(c.stateNode,m,s),bp(c,s),!1;case 1:if(l=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ms===null||!Ms.has(b))))return c.flags|=65536,g&=-g,c.lanes|=g,g=nS(g),aS(g,s,c,m),bp(c,g),!1}c=c.return}while(c!==null);return!1}var Yp=Error(r(461)),an=!1;function Pn(s,l,c,m){l.child=s===null?lN(l,null,c,m):Ni(l,s.child,c,m)}function rS(s,l,c,m,g){c=c.render;var b=l.ref;if("ref"in m){var I={};for(var Y in m)Y!=="ref"&&(I[Y]=m[Y])}else I=m;return gi(l),m=Ep(s,l,c,I,b,g),Y=Dp(),s!==null&&!an?(Op(s,l,g),Mr(s,l,g)):(st&&Y&&op(l),l.flags|=1,Pn(s,l,m,g),l.child)}function sS(s,l,c,m,g){if(s===null){var b=c.type;return typeof b=="function"&&!sp(b)&&b.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=b,iS(s,l,b,m,g)):(s=Qu(c.type,null,m,l,l.mode,g),s.ref=l.ref,s.return=l,l.child=s)}if(b=s.child,!ev(s,g)){var I=b.memoizedProps;if(c=c.compare,c=c!==null?c:zo,c(I,m)&&s.ref===l.ref)return Mr(s,l,g)}return l.flags|=1,s=Er(b,m),s.ref=l.ref,s.return=l,l.child=s}function iS(s,l,c,m,g){if(s!==null){var b=s.memoizedProps;if(zo(b,m)&&s.ref===l.ref)if(an=!1,l.pendingProps=m=b,ev(s,g))(s.flags&131072)!==0&&(an=!0);else return l.lanes=s.lanes,Mr(s,l,g)}return Gp(s,l,c,m,g)}function lS(s,l,c,m){var g=m.children,b=s!==null?s.memoizedState:null;if(s===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,s!==null){for(m=l.child=s.child,g=0;m!==null;)g=g|m.lanes|m.childLanes,m=m.sibling;m=g&~b}else m=0,l.child=null;return oS(s,l,b,c,m)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},s!==null&&nd(l,b!==null?b.cachePool:null),b!==null?uN(l,b):Sp(),dN(l);else return m=l.lanes=536870912,oS(s,l,b!==null?b.baseLanes|c:c,c,m)}else b!==null?(nd(l,b.cachePool),uN(l,b),Os(),l.memoizedState=null):(s!==null&&nd(l,null),Sp(),Os());return Pn(s,l,g,c),l.child}function tc(s,l){return s!==null&&s.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function oS(s,l,c,m,g){var b=xp();return b=b===null?null:{parent:tn._currentValue,pool:b},l.memoizedState={baseLanes:c,cachePool:b},s!==null&&nd(l,null),Sp(),dN(l),s!==null&&xl(s,l,m,!0),l.childLanes=g,null}function gd(s,l){return l=jd({mode:l.mode,children:l.children},s.mode),l.ref=s.ref,s.child=l,l.return=s,l}function cS(s,l,c){return Ni(l,s.child,null,c),s=gd(l,l.pendingProps),s.flags|=2,xa(l),l.memoizedState=null,s}function xR(s,l,c){var m=l.pendingProps,g=(l.flags&128)!==0;if(l.flags&=-129,s===null){if(st){if(m.mode==="hidden")return s=gd(l,m),l.lanes=536870912,tc(null,s);if(wp(l),(s=Ot)?(s=b1(s,Ra),s=s!==null&&s.data==="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:bs!==null?{id:mr,overflow:fr}:null,retryLane:536870912,hydrationErrors:null},c=Y0(s),c.return=l,l.child=c,Dn=l,Ot=null)):s=null,s===null)throw Ss(l);return l.lanes=536870912,null}return gd(l,m)}var b=s.memoizedState;if(b!==null){var I=b.dehydrated;if(wp(l),g)if(l.flags&256)l.flags&=-257,l=cS(s,l,c);else if(l.memoizedState!==null)l.child=s.child,l.flags|=128,l=null;else throw Error(r(558));else if(an||xl(s,l,c,!1),g=(c&s.childLanes)!==0,an||g){if(m=Nt,m!==null&&(I=mt(m,c),I!==0&&I!==b.retryLane))throw b.retryLane=I,fi(s,I),sa(m,s,I),Yp;Od(),l=cS(s,l,c)}else s=b.treeContext,Ot=Ba(I.nextSibling),Dn=l,st=!0,Ns=null,Ra=!1,s!==null&&W0(l,s),l=gd(l,m),l.flags|=4096;return l}return s=Er(s.child,{mode:m.mode,children:m.children}),s.ref=l.ref,l.child=s,s.return=l,s}function yd(s,l){var c=l.ref;if(c===null)s!==null&&s.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(s===null||s.ref!==c)&&(l.flags|=4194816)}}function Gp(s,l,c,m,g){return gi(l),c=Ep(s,l,c,m,void 0,g),m=Dp(),s!==null&&!an?(Op(s,l,g),Mr(s,l,g)):(st&&m&&op(l),l.flags|=1,Pn(s,l,c,g),l.child)}function uS(s,l,c,m,g,b){return gi(l),l.updateQueue=null,c=mN(l,m,c,g),hN(s),m=Dp(),s!==null&&!an?(Op(s,l,b),Mr(s,l,b)):(st&&m&&op(l),l.flags|=1,Pn(s,l,c,b),l.child)}function dS(s,l,c,m,g){if(gi(l),l.stateNode===null){var b=ml,I=c.contextType;typeof I=="object"&&I!==null&&(b=On(I)),b=new c(m,b),l.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Hp,l.stateNode=b,b._reactInternals=l,b=l.stateNode,b.props=m,b.state=l.memoizedState,b.refs={},yp(l),I=c.contextType,b.context=typeof I=="object"&&I!==null?On(I):ml,b.state=l.memoizedState,I=c.getDerivedStateFromProps,typeof I=="function"&&(qp(l,c,I,m),b.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(I=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),I!==b.state&&Hp.enqueueReplaceState(b,b.state,null),Xo(l,m,b,g),Wo(),b.state=l.memoizedState),typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(s===null){b=l.stateNode;var Y=l.memoizedProps,ae=Ci(c,Y);b.props=ae;var pe=b.context,Ne=c.contextType;I=ml,typeof Ne=="object"&&Ne!==null&&(I=On(Ne));var we=c.getDerivedStateFromProps;Ne=typeof we=="function"||typeof b.getSnapshotBeforeUpdate=="function",Y=l.pendingProps!==Y,Ne||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(Y||pe!==I)&&ZN(l,b,m,I),ws=!1;var ge=l.memoizedState;b.state=ge,Xo(l,m,b,g),Wo(),pe=l.memoizedState,Y||ge!==pe||ws?(typeof we=="function"&&(qp(l,c,we,m),pe=l.memoizedState),(ae=ws||XN(l,c,ae,m,ge,pe,I))?(Ne||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=pe),b.props=m,b.state=pe,b.context=I,m=ae):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{b=l.stateNode,jp(s,l),I=l.memoizedProps,Ne=Ci(c,I),b.props=Ne,we=l.pendingProps,ge=b.context,pe=c.contextType,ae=ml,typeof pe=="object"&&pe!==null&&(ae=On(pe)),Y=c.getDerivedStateFromProps,(pe=typeof Y=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(I!==we||ge!==ae)&&ZN(l,b,m,ae),ws=!1,ge=l.memoizedState,b.state=ge,Xo(l,m,b,g),Wo();var je=l.memoizedState;I!==we||ge!==je||ws||s!==null&&s.dependencies!==null&&ed(s.dependencies)?(typeof Y=="function"&&(qp(l,c,Y,m),je=l.memoizedState),(Ne=ws||XN(l,c,Ne,m,ge,je,ae)||s!==null&&s.dependencies!==null&&ed(s.dependencies))?(pe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(m,je,ae),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(m,je,ae)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||I===s.memoizedProps&&ge===s.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ge===s.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=je),b.props=m,b.state=je,b.context=ae,m=Ne):(typeof b.componentDidUpdate!="function"||I===s.memoizedProps&&ge===s.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||I===s.memoizedProps&&ge===s.memoizedState||(l.flags|=1024),m=!1)}return b=m,yd(s,l),m=(l.flags&128)!==0,b||m?(b=l.stateNode,c=m&&typeof c.getDerivedStateFromError!="function"?null:b.render(),l.flags|=1,s!==null&&m?(l.child=Ni(l,s.child,null,g),l.child=Ni(l,null,c,g)):Pn(s,l,c,g),l.memoizedState=b.state,s=l.child):s=Mr(s,l,g),s}function hS(s,l,c,m){return vi(),l.flags|=256,Pn(s,l,c,m),l.child}var Kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wp(s){return{baseLanes:s,cachePool:tN()}}function Xp(s,l,c){return s=s!==null?s.childLanes&~c:0,l&&(s|=ya),s}function mS(s,l,c){var m=l.pendingProps,g=!1,b=(l.flags&128)!==0,I;if((I=b)||(I=s!==null&&s.memoizedState===null?!1:(Xt.current&2)!==0),I&&(g=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,s===null){if(st){if(g?Ds(l):Os(),(s=Ot)?(s=b1(s,Ra),s=s!==null&&s.data!=="&"?s:null,s!==null&&(l.memoizedState={dehydrated:s,treeContext:bs!==null?{id:mr,overflow:fr}:null,retryLane:536870912,hydrationErrors:null},c=Y0(s),c.return=l,l.child=c,Dn=l,Ot=null)):s=null,s===null)throw Ss(l);return Tv(s)?l.lanes=32:l.lanes=536870912,null}var Y=m.children;return m=m.fallback,g?(Os(),g=l.mode,Y=jd({mode:"hidden",children:Y},g),m=pi(m,g,c,null),Y.return=l,m.return=l,Y.sibling=m,l.child=Y,m=l.child,m.memoizedState=Wp(c),m.childLanes=Xp(s,I,c),l.memoizedState=Kp,tc(null,m)):(Ds(l),Zp(l,Y))}var ae=s.memoizedState;if(ae!==null&&(Y=ae.dehydrated,Y!==null)){if(b)l.flags&256?(Ds(l),l.flags&=-257,l=Qp(s,l,c)):l.memoizedState!==null?(Os(),l.child=s.child,l.flags|=128,l=null):(Os(),Y=m.fallback,g=l.mode,m=jd({mode:"visible",children:m.children},g),Y=pi(Y,g,c,null),Y.flags|=2,m.return=l,Y.return=l,m.sibling=Y,l.child=m,Ni(l,s.child,null,c),m=l.child,m.memoizedState=Wp(c),m.childLanes=Xp(s,I,c),l.memoizedState=Kp,l=tc(null,m));else if(Ds(l),Tv(Y)){if(I=Y.nextSibling&&Y.nextSibling.dataset,I)var pe=I.dgst;I=pe,m=Error(r(419)),m.stack="",m.digest=I,qo({value:m,source:null,stack:null}),l=Qp(s,l,c)}else if(an||xl(s,l,c,!1),I=(c&s.childLanes)!==0,an||I){if(I=Nt,I!==null&&(m=mt(I,c),m!==0&&m!==ae.retryLane))throw ae.retryLane=m,fi(s,m),sa(I,s,m),Yp;kv(Y)||Od(),l=Qp(s,l,c)}else kv(Y)?(l.flags|=192,l.child=s.child,l=null):(s=ae.treeContext,Ot=Ba(Y.nextSibling),Dn=l,st=!0,Ns=null,Ra=!1,s!==null&&W0(l,s),l=Zp(l,m.children),l.flags|=4096);return l}return g?(Os(),Y=m.fallback,g=l.mode,ae=s.child,pe=ae.sibling,m=Er(ae,{mode:"hidden",children:m.children}),m.subtreeFlags=ae.subtreeFlags&65011712,pe!==null?Y=Er(pe,Y):(Y=pi(Y,g,c,null),Y.flags|=2),Y.return=l,m.return=l,m.sibling=Y,l.child=m,tc(null,m),m=l.child,Y=s.child.memoizedState,Y===null?Y=Wp(c):(g=Y.cachePool,g!==null?(ae=tn._currentValue,g=g.parent!==ae?{parent:ae,pool:ae}:g):g=tN(),Y={baseLanes:Y.baseLanes|c,cachePool:g}),m.memoizedState=Y,m.childLanes=Xp(s,I,c),l.memoizedState=Kp,tc(s.child,m)):(Ds(l),c=s.child,s=c.sibling,c=Er(c,{mode:"visible",children:m.children}),c.return=l,c.sibling=null,s!==null&&(I=l.deletions,I===null?(l.deletions=[s],l.flags|=16):I.push(s)),l.child=c,l.memoizedState=null,c)}function Zp(s,l){return l=jd({mode:"visible",children:l},s.mode),l.return=s,s.child=l}function jd(s,l){return s=pa(22,s,null,l),s.lanes=0,s}function Qp(s,l,c){return Ni(l,s.child,null,c),s=Zp(l,l.pendingProps.children),s.flags|=2,l.memoizedState=null,s}function fS(s,l,c){s.lanes|=l;var m=s.alternate;m!==null&&(m.lanes|=l),mp(s.return,l,c)}function Jp(s,l,c,m,g,b){var I=s.memoizedState;I===null?s.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:g,treeForkCount:b}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=m,I.tail=c,I.tailMode=g,I.treeForkCount=b)}function pS(s,l,c){var m=l.pendingProps,g=m.revealOrder,b=m.tail;m=m.children;var I=Xt.current,Y=(I&2)!==0;if(Y?(I=I&1|2,l.flags|=128):I&=1,L(Xt,I),Pn(s,l,m,c),m=st?$o:0,!Y&&s!==null&&(s.flags&128)!==0)e:for(s=l.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&fS(s,c,l);else if(s.tag===19)fS(s,c,l);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===l)break e;for(;s.sibling===null;){if(s.return===null||s.return===l)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(c=l.child,g=null;c!==null;)s=c.alternate,s!==null&&od(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=l.child,l.child=null):(g=c.sibling,c.sibling=null),Jp(l,!1,g,c,b,m);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=l.child,l.child=null;g!==null;){if(s=g.alternate,s!==null&&od(s)===null){l.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Jp(l,!0,c,null,b,m);break;case"together":Jp(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function Mr(s,l,c){if(s!==null&&(l.dependencies=s.dependencies),Ts|=l.lanes,(c&l.childLanes)===0)if(s!==null){if(xl(s,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(s!==null&&l.child!==s.child)throw Error(r(153));if(l.child!==null){for(s=l.child,c=Er(s,s.pendingProps),l.child=c,c.return=l;s.sibling!==null;)s=s.sibling,c=c.sibling=Er(s,s.pendingProps),c.return=l;c.sibling=null}return l.child}function ev(s,l){return(s.lanes&l)!==0?!0:(s=s.dependencies,!!(s!==null&&ed(s)))}function gR(s,l,c){switch(l.tag){case 3:xe(l,l.stateNode.containerInfo),Cs(l,tn,s.memoizedState.cache),vi();break;case 27:case 5:ee(l);break;case 4:xe(l,l.stateNode.containerInfo);break;case 10:Cs(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,wp(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(Ds(l),l.flags|=128,null):(c&l.child.childLanes)!==0?mS(s,l,c):(Ds(l),s=Mr(s,l,c),s!==null?s.sibling:null);Ds(l);break;case 19:var g=(s.flags&128)!==0;if(m=(c&l.childLanes)!==0,m||(xl(s,l,c,!1),m=(c&l.childLanes)!==0),g){if(m)return pS(s,l,c);l.flags|=128}if(g=l.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),L(Xt,Xt.current),m)break;return null;case 22:return l.lanes=0,lS(s,l,c,l.pendingProps);case 24:Cs(l,tn,s.memoizedState.cache)}return Mr(s,l,c)}function vS(s,l,c){if(s!==null)if(s.memoizedProps!==l.pendingProps)an=!0;else{if(!ev(s,c)&&(l.flags&128)===0)return an=!1,gR(s,l,c);an=(s.flags&131072)!==0}else an=!1,st&&(l.flags&1048576)!==0&&K0(l,$o,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(s=ji(l.elementType),l.type=s,typeof s=="function")sp(s)?(m=Ci(s,m),l.tag=1,l=dS(null,l,s,m,c)):(l.tag=0,l=Gp(null,l,s,m,c));else{if(s!=null){var g=s.$$typeof;if(g===T){l.tag=11,l=rS(null,l,s,m,c);break e}else if(g===P){l.tag=14,l=sS(null,l,s,m,c);break e}}throw l=le(s)||s,Error(r(306,l,""))}}return l;case 0:return Gp(s,l,l.type,l.pendingProps,c);case 1:return m=l.type,g=Ci(m,l.pendingProps),dS(s,l,m,g,c);case 3:e:{if(xe(l,l.stateNode.containerInfo),s===null)throw Error(r(387));m=l.pendingProps;var b=l.memoizedState;g=b.element,jp(s,l),Xo(l,m,null,c);var I=l.memoizedState;if(m=I.cache,Cs(l,tn,m),m!==b.cache&&fp(l,[tn],c,!0),Wo(),m=I.element,b.isDehydrated)if(b={element:m,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=b,l.memoizedState=b,l.flags&256){l=hS(s,l,m,c);break e}else if(m!==g){g=Ta(Error(r(424)),l),qo(g),l=hS(s,l,m,c);break e}else{switch(s=l.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Ot=Ba(s.firstChild),Dn=l,st=!0,Ns=null,Ra=!0,c=lN(l,null,m,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(vi(),m===g){l=Mr(s,l,c);break e}Pn(s,l,m,c)}l=l.child}return l;case 26:return yd(s,l),s===null?(c=E1(l.type,null,l.pendingProps,null))?l.memoizedState=c:st||(c=l.type,s=l.pendingProps,m=_d(A.current).createElement(c),m[En]=l,m[Jn]=s,kn(m,c,s),jn(m),l.stateNode=m):l.memoizedState=E1(l.type,s.memoizedProps,l.pendingProps,s.memoizedState),null;case 27:return ee(l),s===null&&st&&(m=l.stateNode=C1(l.type,l.pendingProps,A.current),Dn=l,Ra=!0,g=Ot,Bs(l.type)?(Mv=g,Ot=Ba(m.firstChild)):Ot=g),Pn(s,l,l.pendingProps.children,c),yd(s,l),s===null&&(l.flags|=4194304),l.child;case 5:return s===null&&st&&((g=m=Ot)&&(m=KR(m,l.type,l.pendingProps,Ra),m!==null?(l.stateNode=m,Dn=l,Ot=Ba(m.firstChild),Ra=!1,g=!0):g=!1),g||Ss(l)),ee(l),g=l.type,b=l.pendingProps,I=s!==null?s.memoizedProps:null,m=b.children,Dv(g,b)?m=null:I!==null&&Dv(g,I)&&(l.flags|=32),l.memoizedState!==null&&(g=Ep(s,l,cR,null,null,c),vc._currentValue=g),yd(s,l),Pn(s,l,m,c),l.child;case 6:return s===null&&st&&((s=c=Ot)&&(c=WR(c,l.pendingProps,Ra),c!==null?(l.stateNode=c,Dn=l,Ot=null,s=!0):s=!1),s||Ss(l)),null;case 13:return mS(s,l,c);case 4:return xe(l,l.stateNode.containerInfo),m=l.pendingProps,s===null?l.child=Ni(l,null,m,c):Pn(s,l,m,c),l.child;case 11:return rS(s,l,l.type,l.pendingProps,c);case 7:return Pn(s,l,l.pendingProps,c),l.child;case 8:return Pn(s,l,l.pendingProps.children,c),l.child;case 12:return Pn(s,l,l.pendingProps.children,c),l.child;case 10:return m=l.pendingProps,Cs(l,l.type,m.value),Pn(s,l,m.children,c),l.child;case 9:return g=l.type._context,m=l.pendingProps.children,gi(l),g=On(g),m=m(g),l.flags|=1,Pn(s,l,m,c),l.child;case 14:return sS(s,l,l.type,l.pendingProps,c);case 15:return iS(s,l,l.type,l.pendingProps,c);case 19:return pS(s,l,c);case 31:return xR(s,l,c);case 22:return lS(s,l,c,l.pendingProps);case 24:return gi(l),m=On(tn),s===null?(g=xp(),g===null&&(g=Nt,b=pp(),g.pooledCache=b,b.refCount++,b!==null&&(g.pooledCacheLanes|=c),g=b),l.memoizedState={parent:m,cache:g},yp(l),Cs(l,tn,g)):((s.lanes&c)!==0&&(jp(s,l),Xo(l,null,null,c),Wo()),g=s.memoizedState,b=l.memoizedState,g.parent!==m?(g={parent:m,cache:m},l.memoizedState=g,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=g),Cs(l,tn,m)):(m=b.cache,Cs(l,tn,m),m!==g.cache&&fp(l,[tn],c,!0))),Pn(s,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ir(s){s.flags|=4}function tv(s,l,c,m,g){if((l=(s.mode&32)!==0)&&(l=!1),l){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(qS())s.flags|=8192;else throw bi=rd,gp}else s.flags&=-16777217}function xS(s,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!T1(l))if(qS())s.flags|=8192;else throw bi=rd,gp}function bd(s,l){l!==null&&(s.flags|=4),s.flags&16384&&(l=s.tag!==22?Bu():536870912,s.lanes|=l,Ol|=l)}function nc(s,l){if(!st)switch(s.tailMode){case"hidden":l=s.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?l||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Pt(s){var l=s.alternate!==null&&s.alternate.child===s.child,c=0,m=0;if(l)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,m|=g.subtreeFlags&65011712,m|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,m|=g.subtreeFlags,m|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=m,s.childLanes=c,l}function yR(s,l,c){var m=l.pendingProps;switch(cp(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(l),null;case 1:return Pt(l),null;case 3:return c=l.stateNode,m=null,s!==null&&(m=s.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),Pr(tn),V(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(vl(l)?Ir(l):s===null||s.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,dp())),Pt(l),null;case 26:var g=l.type,b=l.memoizedState;return s===null?(Ir(l),b!==null?(Pt(l),xS(l,b)):(Pt(l),tv(l,g,null,m,c))):b?b!==s.memoizedState?(Ir(l),Pt(l),xS(l,b)):(Pt(l),l.flags&=-16777217):(s=s.memoizedProps,s!==m&&Ir(l),Pt(l),tv(l,g,s,m,c)),null;case 27:if(me(l),c=A.current,g=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&Ir(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Pt(l),null}s=$.current,vl(l)?X0(l):(s=C1(g,m,c),l.stateNode=s,Ir(l))}return Pt(l),null;case 5:if(me(l),g=l.type,s!==null&&l.stateNode!=null)s.memoizedProps!==m&&Ir(l);else{if(!m){if(l.stateNode===null)throw Error(r(166));return Pt(l),null}if(b=$.current,vl(l))X0(l);else{var I=_d(A.current);switch(b){case 1:b=I.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:b=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":b=I.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":b=I.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":b=I.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof m.is=="string"?I.createElement("select",{is:m.is}):I.createElement("select"),m.multiple?b.multiple=!0:m.size&&(b.size=m.size);break;default:b=typeof m.is=="string"?I.createElement(g,{is:m.is}):I.createElement(g)}}b[En]=l,b[Jn]=m;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)b.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=b;e:switch(kn(b,g,m),g){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&Ir(l)}}return Pt(l),tv(l,l.type,s===null?null:s.memoizedProps,l.pendingProps,c),null;case 6:if(s&&l.stateNode!=null)s.memoizedProps!==m&&Ir(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(r(166));if(s=A.current,vl(l)){if(s=l.stateNode,c=l.memoizedProps,m=null,g=Dn,g!==null)switch(g.tag){case 27:case 5:m=g.memoizedProps}s[En]=l,s=!!(s.nodeValue===c||m!==null&&m.suppressHydrationWarning===!0||m1(s.nodeValue,c)),s||Ss(l,!0)}else s=_d(s).createTextNode(m),s[En]=l,l.stateNode=s}return Pt(l),null;case 31:if(c=l.memoizedState,s===null||s.memoizedState!==null){if(m=vl(l),c!==null){if(s===null){if(!m)throw Error(r(318));if(s=l.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[En]=l}else vi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pt(l),s=!1}else c=dp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return l.flags&256?(xa(l),l):(xa(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Pt(l),null;case 13:if(m=l.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=vl(l),m!==null&&m.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=l.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[En]=l}else vi(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pt(l),g=!1}else g=dp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return l.flags&256?(xa(l),l):(xa(l),null)}return xa(l),(l.flags&128)!==0?(l.lanes=c,l):(c=m!==null,s=s!==null&&s.memoizedState!==null,c&&(m=l.child,g=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(g=m.alternate.memoizedState.cachePool.pool),b=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(b=m.memoizedState.cachePool.pool),b!==g&&(m.flags|=2048)),c!==s&&c&&(l.child.flags|=8192),bd(l,l.updateQueue),Pt(l),null);case 4:return V(),s===null&&Sv(l.stateNode.containerInfo),Pt(l),null;case 10:return Pr(l.type),Pt(l),null;case 19:if(z(Xt),m=l.memoizedState,m===null)return Pt(l),null;if(g=(l.flags&128)!==0,b=m.rendering,b===null)if(g)nc(m,!1);else{if(Gt!==0||s!==null&&(s.flags&128)!==0)for(s=l.child;s!==null;){if(b=od(s),b!==null){for(l.flags|=128,nc(m,!1),s=b.updateQueue,l.updateQueue=s,bd(l,s),l.subtreeFlags=0,s=c,c=l.child;c!==null;)V0(c,s),c=c.sibling;return L(Xt,Xt.current&1|2),st&&Dr(l,m.treeForkCount),l.child}s=s.sibling}m.tail!==null&&dn()>Ad&&(l.flags|=128,g=!0,nc(m,!1),l.lanes=4194304)}else{if(!g)if(s=od(b),s!==null){if(l.flags|=128,g=!0,s=s.updateQueue,l.updateQueue=s,bd(l,s),nc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!b.alternate&&!st)return Pt(l),null}else 2*dn()-m.renderingStartTime>Ad&&c!==536870912&&(l.flags|=128,g=!0,nc(m,!1),l.lanes=4194304);m.isBackwards?(b.sibling=l.child,l.child=b):(s=m.last,s!==null?s.sibling=b:l.child=b,m.last=b)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=dn(),s.sibling=null,c=Xt.current,L(Xt,g?c&1|2:c&1),st&&Dr(l,m.treeForkCount),s):(Pt(l),null);case 22:case 23:return xa(l),Cp(),m=l.memoizedState!==null,s!==null?s.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(c&536870912)!==0&&(l.flags&128)===0&&(Pt(l),l.subtreeFlags&6&&(l.flags|=8192)):Pt(l),c=l.updateQueue,c!==null&&bd(l,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==c&&(l.flags|=2048),s!==null&&z(yi),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),Pr(tn),Pt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function jR(s,l){switch(cp(l),l.tag){case 1:return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 3:return Pr(tn),V(),s=l.flags,(s&65536)!==0&&(s&128)===0?(l.flags=s&-65537|128,l):null;case 26:case 27:case 5:return me(l),null;case 31:if(l.memoizedState!==null){if(xa(l),l.alternate===null)throw Error(r(340));vi()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 13:if(xa(l),s=l.memoizedState,s!==null&&s.dehydrated!==null){if(l.alternate===null)throw Error(r(340));vi()}return s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 19:return z(Xt),null;case 4:return V(),null;case 10:return Pr(l.type),null;case 22:case 23:return xa(l),Cp(),s!==null&&z(yi),s=l.flags,s&65536?(l.flags=s&-65537|128,l):null;case 24:return Pr(tn),null;case 25:return null;default:return null}}function gS(s,l){switch(cp(l),l.tag){case 3:Pr(tn),V();break;case 26:case 27:case 5:me(l);break;case 4:V();break;case 31:l.memoizedState!==null&&xa(l);break;case 13:xa(l);break;case 19:z(Xt);break;case 10:Pr(l.type);break;case 22:case 23:xa(l),Cp(),s!==null&&z(yi);break;case 24:Pr(tn)}}function ac(s,l){try{var c=l.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var g=m.next;c=g;do{if((c.tag&s)===s){m=void 0;var b=c.create,I=c.inst;m=b(),I.destroy=m}c=c.next}while(c!==g)}}catch(Y){pt(l,l.return,Y)}}function Ps(s,l,c){try{var m=l.updateQueue,g=m!==null?m.lastEffect:null;if(g!==null){var b=g.next;m=b;do{if((m.tag&s)===s){var I=m.inst,Y=I.destroy;if(Y!==void 0){I.destroy=void 0,g=l;var ae=c,pe=Y;try{pe()}catch(Ne){pt(g,ae,Ne)}}}m=m.next}while(m!==b)}}catch(Ne){pt(l,l.return,Ne)}}function yS(s){var l=s.updateQueue;if(l!==null){var c=s.stateNode;try{cN(l,c)}catch(m){pt(s,s.return,m)}}}function jS(s,l,c){c.props=Ci(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(m){pt(s,l,m)}}function rc(s,l){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var m=s.stateNode;break;case 30:m=s.stateNode;break;default:m=s.stateNode}typeof c=="function"?s.refCleanup=c(m):c.current=m}}catch(g){pt(s,l,g)}}function pr(s,l){var c=s.ref,m=s.refCleanup;if(c!==null)if(typeof m=="function")try{m()}catch(g){pt(s,l,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){pt(s,l,g)}else c.current=null}function bS(s){var l=s.type,c=s.memoizedProps,m=s.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&m.focus();break e;case"img":c.src?m.src=c.src:c.srcSet&&(m.srcset=c.srcSet)}}catch(g){pt(s,s.return,g)}}function nv(s,l,c){try{var m=s.stateNode;$R(m,s.type,c,l),m[Jn]=l}catch(g){pt(s,s.return,g)}}function NS(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Bs(s.type)||s.tag===4}function av(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||NS(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Bs(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rv(s,l,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(s),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=wr));else if(m!==4&&(m===27&&Bs(s.type)&&(c=s.stateNode,l=null),s=s.child,s!==null))for(rv(s,l,c),s=s.sibling;s!==null;)rv(s,l,c),s=s.sibling}function Nd(s,l,c){var m=s.tag;if(m===5||m===6)s=s.stateNode,l?c.insertBefore(s,l):c.appendChild(s);else if(m!==4&&(m===27&&Bs(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(Nd(s,l,c),s=s.sibling;s!==null;)Nd(s,l,c),s=s.sibling}function SS(s){var l=s.stateNode,c=s.memoizedProps;try{for(var m=s.type,g=l.attributes;g.length;)l.removeAttributeNode(g[0]);kn(l,m,c),l[En]=s,l[Jn]=c}catch(b){pt(s,s.return,b)}}var Rr=!1,rn=!1,sv=!1,CS=typeof WeakSet=="function"?WeakSet:Set,bn=null;function bR(s,l){if(s=s.containerInfo,Av=qd,s=_0(s),Qf(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var g=m.anchorOffset,b=m.focusNode;m=m.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break e}var I=0,Y=-1,ae=-1,pe=0,Ne=0,we=s,ge=null;t:for(;;){for(var je;we!==c||g!==0&&we.nodeType!==3||(Y=I+g),we!==b||m!==0&&we.nodeType!==3||(ae=I+m),we.nodeType===3&&(I+=we.nodeValue.length),(je=we.firstChild)!==null;)ge=we,we=je;for(;;){if(we===s)break t;if(ge===c&&++pe===g&&(Y=I),ge===b&&++Ne===m&&(ae=I),(je=we.nextSibling)!==null)break;we=ge,ge=we.parentNode}we=je}c=Y===-1||ae===-1?null:{start:Y,end:ae}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ev={focusedElem:s,selectionRange:c},qd=!1,bn=l;bn!==null;)if(l=bn,s=l.child,(l.subtreeFlags&1028)!==0&&s!==null)s.return=l,bn=s;else for(;bn!==null;){switch(l=bn,b=l.alternate,s=l.flags,l.tag){case 0:if((s&4)!==0&&(s=l.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)g=s[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,c=l,g=b.memoizedProps,b=b.memoizedState,m=c.stateNode;try{var Me=Ci(c.type,g);s=m.getSnapshotBeforeUpdate(Me,b),m.__reactInternalSnapshotBeforeUpdate=s}catch($e){pt(c,c.return,$e)}}break;case 3:if((s&1024)!==0){if(s=l.stateNode.containerInfo,c=s.nodeType,c===9)Pv(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Pv(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=l.sibling,s!==null){s.return=l.return,bn=s;break}bn=l.return}}function wS(s,l,c){var m=c.flags;switch(c.tag){case 0:case 11:case 15:Br(s,c),m&4&&ac(5,c);break;case 1:if(Br(s,c),m&4)if(s=c.stateNode,l===null)try{s.componentDidMount()}catch(I){pt(c,c.return,I)}else{var g=Ci(c.type,l.memoizedProps);l=l.memoizedState;try{s.componentDidUpdate(g,l,s.__reactInternalSnapshotBeforeUpdate)}catch(I){pt(c,c.return,I)}}m&64&&yS(c),m&512&&rc(c,c.return);break;case 3:if(Br(s,c),m&64&&(s=c.updateQueue,s!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{cN(s,l)}catch(I){pt(c,c.return,I)}}break;case 27:l===null&&m&4&&SS(c);case 26:case 5:Br(s,c),l===null&&m&4&&bS(c),m&512&&rc(c,c.return);break;case 12:Br(s,c);break;case 31:Br(s,c),m&4&&DS(s,c);break;case 13:Br(s,c),m&4&&OS(s,c),m&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=PR.bind(null,c),XR(s,c))));break;case 22:if(m=c.memoizedState!==null||Rr,!m){l=l!==null&&l.memoizedState!==null||rn,g=Rr;var b=rn;Rr=m,(rn=l)&&!b?Lr(s,c,(c.subtreeFlags&8772)!==0):Br(s,c),Rr=g,rn=b}break;case 30:break;default:Br(s,c)}}function AS(s){var l=s.alternate;l!==null&&(s.alternate=null,AS(l)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(l=s.stateNode,l!==null&&Rf(l)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var _t=null,ta=!1;function _r(s,l,c){for(c=c.child;c!==null;)ES(s,l,c),c=c.sibling}function ES(s,l,c){if(Vt&&typeof Vt.onCommitFiberUnmount=="function")try{Vt.onCommitFiberUnmount(hn,c)}catch{}switch(c.tag){case 26:rn||pr(c,l),_r(s,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:rn||pr(c,l);var m=_t,g=ta;Bs(c.type)&&(_t=c.stateNode,ta=!1),_r(s,l,c),mc(c.stateNode),_t=m,ta=g;break;case 5:rn||pr(c,l);case 6:if(m=_t,g=ta,_t=null,_r(s,l,c),_t=m,ta=g,_t!==null)if(ta)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(c.stateNode)}catch(b){pt(c,l,b)}else try{_t.removeChild(c.stateNode)}catch(b){pt(c,l,b)}break;case 18:_t!==null&&(ta?(s=_t,y1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Bl(s)):y1(_t,c.stateNode));break;case 4:m=_t,g=ta,_t=c.stateNode.containerInfo,ta=!0,_r(s,l,c),_t=m,ta=g;break;case 0:case 11:case 14:case 15:Ps(2,c,l),rn||Ps(4,c,l),_r(s,l,c);break;case 1:rn||(pr(c,l),m=c.stateNode,typeof m.componentWillUnmount=="function"&&jS(c,l,m)),_r(s,l,c);break;case 21:_r(s,l,c);break;case 22:rn=(m=rn)||c.memoizedState!==null,_r(s,l,c),rn=m;break;default:_r(s,l,c)}}function DS(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Bl(s)}catch(c){pt(l,l.return,c)}}}function OS(s,l){if(l.memoizedState===null&&(s=l.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Bl(s)}catch(c){pt(l,l.return,c)}}function NR(s){switch(s.tag){case 31:case 13:case 19:var l=s.stateNode;return l===null&&(l=s.stateNode=new CS),l;case 22:return s=s.stateNode,l=s._retryCache,l===null&&(l=s._retryCache=new CS),l;default:throw Error(r(435,s.tag))}}function Sd(s,l){var c=NR(s);l.forEach(function(m){if(!c.has(m)){c.add(m);var g=kR.bind(null,s,m);m.then(g,g)}})}function na(s,l){var c=l.deletions;if(c!==null)for(var m=0;m<c.length;m++){var g=c[m],b=s,I=l,Y=I;e:for(;Y!==null;){switch(Y.tag){case 27:if(Bs(Y.type)){_t=Y.stateNode,ta=!1;break e}break;case 5:_t=Y.stateNode,ta=!1;break e;case 3:case 4:_t=Y.stateNode.containerInfo,ta=!0;break e}Y=Y.return}if(_t===null)throw Error(r(160));ES(b,I,g),_t=null,ta=!1,b=g.alternate,b!==null&&(b.return=null),g.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)PS(l,s),l=l.sibling}var tr=null;function PS(s,l){var c=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:na(l,s),aa(s),m&4&&(Ps(3,s,s.return),ac(3,s),Ps(5,s,s.return));break;case 1:na(l,s),aa(s),m&512&&(rn||c===null||pr(c,c.return)),m&64&&Rr&&(s=s.updateQueue,s!==null&&(m=s.callbacks,m!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?m:c.concat(m))));break;case 26:var g=tr;if(na(l,s),aa(s),m&512&&(rn||c===null||pr(c,c.return)),m&4){var b=c!==null?c.memoizedState:null;if(m=s.memoizedState,c===null)if(m===null)if(s.stateNode===null){e:{m=s.type,c=s.memoizedProps,g=g.ownerDocument||g;t:switch(m){case"title":b=g.getElementsByTagName("title")[0],(!b||b[ko]||b[En]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=g.createElement(m),g.head.insertBefore(b,g.querySelector("head > title"))),kn(b,m,c),b[En]=s,jn(b),m=b;break e;case"link":var I=P1("link","href",g).get(m+(c.href||""));if(I){for(var Y=0;Y<I.length;Y++)if(b=I[Y],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){I.splice(Y,1);break t}}b=g.createElement(m),kn(b,m,c),g.head.appendChild(b);break;case"meta":if(I=P1("meta","content",g).get(m+(c.content||""))){for(Y=0;Y<I.length;Y++)if(b=I[Y],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){I.splice(Y,1);break t}}b=g.createElement(m),kn(b,m,c),g.head.appendChild(b);break;default:throw Error(r(468,m))}b[En]=s,jn(b),m=b}s.stateNode=m}else k1(g,s.type,s.stateNode);else s.stateNode=O1(g,m,s.memoizedProps);else b!==m?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,m===null?k1(g,s.type,s.stateNode):O1(g,m,s.memoizedProps)):m===null&&s.stateNode!==null&&nv(s,s.memoizedProps,c.memoizedProps)}break;case 27:na(l,s),aa(s),m&512&&(rn||c===null||pr(c,c.return)),c!==null&&m&4&&nv(s,s.memoizedProps,c.memoizedProps);break;case 5:if(na(l,s),aa(s),m&512&&(rn||c===null||pr(c,c.return)),s.flags&32){g=s.stateNode;try{il(g,"")}catch(Me){pt(s,s.return,Me)}}m&4&&s.stateNode!=null&&(g=s.memoizedProps,nv(s,g,c!==null?c.memoizedProps:g)),m&1024&&(sv=!0);break;case 6:if(na(l,s),aa(s),m&4){if(s.stateNode===null)throw Error(r(162));m=s.memoizedProps,c=s.stateNode;try{c.nodeValue=m}catch(Me){pt(s,s.return,Me)}}break;case 3:if(Fd=null,g=tr,tr=Bd(l.containerInfo),na(l,s),tr=g,aa(s),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Bl(l.containerInfo)}catch(Me){pt(s,s.return,Me)}sv&&(sv=!1,kS(s));break;case 4:m=tr,tr=Bd(s.stateNode.containerInfo),na(l,s),aa(s),tr=m;break;case 12:na(l,s),aa(s);break;case 31:na(l,s),aa(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Sd(s,m)));break;case 13:na(l,s),aa(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(wd=dn()),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Sd(s,m)));break;case 22:g=s.memoizedState!==null;var ae=c!==null&&c.memoizedState!==null,pe=Rr,Ne=rn;if(Rr=pe||g,rn=Ne||ae,na(l,s),rn=Ne,Rr=pe,aa(s),m&8192)e:for(l=s.stateNode,l._visibility=g?l._visibility&-2:l._visibility|1,g&&(c===null||ae||Rr||rn||wi(s)),c=null,l=s;;){if(l.tag===5||l.tag===26){if(c===null){ae=c=l;try{if(b=ae.stateNode,g)I=b.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{Y=ae.stateNode;var we=ae.memoizedProps.style,ge=we!=null&&we.hasOwnProperty("display")?we.display:null;Y.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Me){pt(ae,ae.return,Me)}}}else if(l.tag===6){if(c===null){ae=l;try{ae.stateNode.nodeValue=g?"":ae.memoizedProps}catch(Me){pt(ae,ae.return,Me)}}}else if(l.tag===18){if(c===null){ae=l;try{var je=ae.stateNode;g?j1(je,!0):j1(ae.stateNode,!1)}catch(Me){pt(ae,ae.return,Me)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===s)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break e;for(;l.sibling===null;){if(l.return===null||l.return===s)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=s.updateQueue,m!==null&&(c=m.retryQueue,c!==null&&(m.retryQueue=null,Sd(s,c))));break;case 19:na(l,s),aa(s),m&4&&(m=s.updateQueue,m!==null&&(s.updateQueue=null,Sd(s,m)));break;case 30:break;case 21:break;default:na(l,s),aa(s)}}function aa(s){var l=s.flags;if(l&2){try{for(var c,m=s.return;m!==null;){if(NS(m)){c=m;break}m=m.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var g=c.stateNode,b=av(s);Nd(s,b,g);break;case 5:var I=c.stateNode;c.flags&32&&(il(I,""),c.flags&=-33);var Y=av(s);Nd(s,Y,I);break;case 3:case 4:var ae=c.stateNode.containerInfo,pe=av(s);rv(s,pe,ae);break;default:throw Error(r(161))}}catch(Ne){pt(s,s.return,Ne)}s.flags&=-3}l&4096&&(s.flags&=-4097)}function kS(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var l=s;kS(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),s=s.sibling}}function Br(s,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)wS(s,l.alternate,l),l=l.sibling}function wi(s){for(s=s.child;s!==null;){var l=s;switch(l.tag){case 0:case 11:case 14:case 15:Ps(4,l,l.return),wi(l);break;case 1:pr(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&jS(l,l.return,c),wi(l);break;case 27:mc(l.stateNode);case 26:case 5:pr(l,l.return),wi(l);break;case 22:l.memoizedState===null&&wi(l);break;case 30:wi(l);break;default:wi(l)}s=s.sibling}}function Lr(s,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,g=s,b=l,I=b.flags;switch(b.tag){case 0:case 11:case 15:Lr(g,b,c),ac(4,b);break;case 1:if(Lr(g,b,c),m=b,g=m.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(pe){pt(m,m.return,pe)}if(m=b,g=m.updateQueue,g!==null){var Y=m.stateNode;try{var ae=g.shared.hiddenCallbacks;if(ae!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ae.length;g++)oN(ae[g],Y)}catch(pe){pt(m,m.return,pe)}}c&&I&64&&yS(b),rc(b,b.return);break;case 27:SS(b);case 26:case 5:Lr(g,b,c),c&&m===null&&I&4&&bS(b),rc(b,b.return);break;case 12:Lr(g,b,c);break;case 31:Lr(g,b,c),c&&I&4&&DS(g,b);break;case 13:Lr(g,b,c),c&&I&4&&OS(g,b);break;case 22:b.memoizedState===null&&Lr(g,b,c),rc(b,b.return);break;case 30:break;default:Lr(g,b,c)}l=l.sibling}}function iv(s,l){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Ho(c))}function lv(s,l){s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Ho(s))}function nr(s,l,c,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)TS(s,l,c,m),l=l.sibling}function TS(s,l,c,m){var g=l.flags;switch(l.tag){case 0:case 11:case 15:nr(s,l,c,m),g&2048&&ac(9,l);break;case 1:nr(s,l,c,m);break;case 3:nr(s,l,c,m),g&2048&&(s=null,l.alternate!==null&&(s=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==s&&(l.refCount++,s!=null&&Ho(s)));break;case 12:if(g&2048){nr(s,l,c,m),s=l.stateNode;try{var b=l.memoizedProps,I=b.id,Y=b.onPostCommit;typeof Y=="function"&&Y(I,l.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(ae){pt(l,l.return,ae)}}else nr(s,l,c,m);break;case 31:nr(s,l,c,m);break;case 13:nr(s,l,c,m);break;case 23:break;case 22:b=l.stateNode,I=l.alternate,l.memoizedState!==null?b._visibility&2?nr(s,l,c,m):sc(s,l):b._visibility&2?nr(s,l,c,m):(b._visibility|=2,Al(s,l,c,m,(l.subtreeFlags&10256)!==0||!1)),g&2048&&iv(I,l);break;case 24:nr(s,l,c,m),g&2048&&lv(l.alternate,l);break;default:nr(s,l,c,m)}}function Al(s,l,c,m,g){for(g=g&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var b=s,I=l,Y=c,ae=m,pe=I.flags;switch(I.tag){case 0:case 11:case 15:Al(b,I,Y,ae,g),ac(8,I);break;case 23:break;case 22:var Ne=I.stateNode;I.memoizedState!==null?Ne._visibility&2?Al(b,I,Y,ae,g):sc(b,I):(Ne._visibility|=2,Al(b,I,Y,ae,g)),g&&pe&2048&&iv(I.alternate,I);break;case 24:Al(b,I,Y,ae,g),g&&pe&2048&&lv(I.alternate,I);break;default:Al(b,I,Y,ae,g)}l=l.sibling}}function sc(s,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=s,m=l,g=m.flags;switch(m.tag){case 22:sc(c,m),g&2048&&iv(m.alternate,m);break;case 24:sc(c,m),g&2048&&lv(m.alternate,m);break;default:sc(c,m)}l=l.sibling}}var ic=8192;function El(s,l,c){if(s.subtreeFlags&ic)for(s=s.child;s!==null;)MS(s,l,c),s=s.sibling}function MS(s,l,c){switch(s.tag){case 26:El(s,l,c),s.flags&ic&&s.memoizedState!==null&&o_(c,tr,s.memoizedState,s.memoizedProps);break;case 5:El(s,l,c);break;case 3:case 4:var m=tr;tr=Bd(s.stateNode.containerInfo),El(s,l,c),tr=m;break;case 22:s.memoizedState===null&&(m=s.alternate,m!==null&&m.memoizedState!==null?(m=ic,ic=16777216,El(s,l,c),ic=m):El(s,l,c));break;default:El(s,l,c)}}function IS(s){var l=s.alternate;if(l!==null&&(s=l.child,s!==null)){l.child=null;do l=s.sibling,s.sibling=null,s=l;while(s!==null)}}function lc(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];bn=m,_S(m,s)}IS(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)RS(s),s=s.sibling}function RS(s){switch(s.tag){case 0:case 11:case 15:lc(s),s.flags&2048&&Ps(9,s,s.return);break;case 3:lc(s);break;case 12:lc(s);break;case 22:var l=s.stateNode;s.memoizedState!==null&&l._visibility&2&&(s.return===null||s.return.tag!==13)?(l._visibility&=-3,Cd(s)):lc(s);break;default:lc(s)}}function Cd(s){var l=s.deletions;if((s.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var m=l[c];bn=m,_S(m,s)}IS(s)}for(s=s.child;s!==null;){switch(l=s,l.tag){case 0:case 11:case 15:Ps(8,l,l.return),Cd(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Cd(l));break;default:Cd(l)}s=s.sibling}}function _S(s,l){for(;bn!==null;){var c=bn;switch(c.tag){case 0:case 11:case 15:Ps(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var m=c.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Ho(c.memoizedState.cache)}if(m=c.child,m!==null)m.return=c,bn=m;else e:for(c=s;bn!==null;){m=bn;var g=m.sibling,b=m.return;if(AS(m),m===c){bn=null;break e}if(g!==null){g.return=b,bn=g;break e}bn=b}}}var SR={getCacheForType:function(s){var l=On(tn),c=l.data.get(s);return c===void 0&&(c=s(),l.data.set(s,c)),c},cacheSignal:function(){return On(tn).controller.signal}},CR=typeof WeakMap=="function"?WeakMap:Map,ht=0,Nt=null,et=null,nt=0,ft=0,ga=null,ks=!1,Dl=!1,ov=!1,Fr=0,Gt=0,Ts=0,Ai=0,cv=0,ya=0,Ol=0,oc=null,ra=null,uv=!1,wd=0,BS=0,Ad=1/0,Ed=null,Ms=null,mn=0,Is=null,Pl=null,zr=0,dv=0,hv=null,LS=null,cc=0,mv=null;function ja(){return(ht&2)!==0&&nt!==0?nt&-nt:M.T!==null?yv():Ja()}function FS(){if(ya===0)if((nt&536870912)===0||st){var s=Qi;Qi<<=1,(Qi&3932160)===0&&(Qi=262144),ya=s}else ya=536870912;return s=va.current,s!==null&&(s.flags|=32),ya}function sa(s,l,c){(s===Nt&&(ft===2||ft===9)||s.cancelPendingCommit!==null)&&(kl(s,0),Rs(s,nt,ya,!1)),xs(s,c),((ht&2)===0||s!==Nt)&&(s===Nt&&((ht&2)===0&&(Ai|=c),Gt===4&&Rs(s,nt,ya,!1)),vr(s))}function zS(s,l,c){if((ht&6)!==0)throw Error(r(327));var m=!c&&(l&127)===0&&(l&s.expiredLanes)===0||ci(s,l),g=m?ER(s,l):pv(s,l,!0),b=m;do{if(g===0){Dl&&!m&&Rs(s,l,0,!1);break}else{if(c=s.current.alternate,b&&!wR(c)){g=pv(s,l,!1),b=!1;continue}if(g===2){if(b=l,s.errorRecoveryDisabledLanes&b)var I=0;else I=s.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var Y=s;g=oc;var ae=Y.current.memoizedState.isDehydrated;if(ae&&(kl(Y,I).flags|=256),I=pv(Y,I,!1),I!==2){if(ov&&!ae){Y.errorRecoveryDisabledLanes|=b,Ai|=b,g=4;break e}b=ra,ra=g,b!==null&&(ra===null?ra=b:ra.push.apply(ra,b))}g=I}if(b=!1,g!==2)continue}}if(g===1){kl(s,0),Rs(s,l,0,!0);break}e:{switch(m=s,b=g,b){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:Rs(m,l,ya,!ks);break e;case 2:ra=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(g=wd+300-dn(),10<g)){if(Rs(m,l,ya,!ks),oi(m,0,!0)!==0)break e;zr=l,m.timeoutHandle=x1(US.bind(null,m,c,ra,Ed,uv,l,ya,Ai,Ol,ks,b,"Throttled",-0,0),g);break e}US(m,c,ra,Ed,uv,l,ya,Ai,Ol,ks,b,null,-0,0)}}break}while(!0);vr(s)}function US(s,l,c,m,g,b,I,Y,ae,pe,Ne,we,ge,je){if(s.timeoutHandle=-1,we=l.subtreeFlags,we&8192||(we&16785408)===16785408){we={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:wr},MS(l,b,we);var Me=(b&62914560)===b?wd-dn():(b&4194048)===b?BS-dn():0;if(Me=c_(we,Me),Me!==null){zr=b,s.cancelPendingCommit=Me(WS.bind(null,s,l,b,c,m,g,I,Y,ae,Ne,we,null,ge,je)),Rs(s,b,I,!pe);return}}WS(s,l,b,c,m,g,I,Y,ae)}function wR(s){for(var l=s;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var m=0;m<c.length;m++){var g=c[m],b=g.getSnapshot;g=g.value;try{if(!fa(b(),g))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Rs(s,l,c,m){l&=~cv,l&=~Ai,s.suspendedLanes|=l,s.pingedLanes&=~l,m&&(s.warmLanes|=l),m=s.expirationTimes;for(var g=l;0<g;){var b=31-Bn(g),I=1<<b;m[b]=-1,g&=~I}c!==0&&Ke(s,c,l)}function Dd(){return(ht&6)===0?(uc(0),!1):!0}function fv(){if(et!==null){if(ft===0)var s=et.return;else s=et,Or=xi=null,Pp(s),bl=null,Yo=0,s=et;for(;s!==null;)gS(s.alternate,s),s=s.return;et=null}}function kl(s,l){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,VR(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),zr=0,fv(),Nt=s,et=c=Er(s.current,null),nt=l,ft=0,ga=null,ks=!1,Dl=ci(s,l),ov=!1,Ol=ya=cv=Ai=Ts=Gt=0,ra=oc=null,uv=!1,(l&8)!==0&&(l|=l&32);var m=s.entangledLanes;if(m!==0)for(s=s.entanglements,m&=l;0<m;){var g=31-Bn(m),b=1<<g;l|=s[g],m&=~b}return Fr=l,Wu(),c}function $S(s,l){We=null,M.H=ec,l===jl||l===ad?(l=rN(),ft=3):l===gp?(l=rN(),ft=4):ft=l===Yp?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,ga=l,et===null&&(Gt=1,xd(s,Ta(l,s.current)))}function qS(){var s=va.current;return s===null?!0:(nt&4194048)===nt?_a===null:(nt&62914560)===nt||(nt&536870912)!==0?s===_a:!1}function HS(){var s=M.H;return M.H=ec,s===null?ec:s}function VS(){var s=M.A;return M.A=SR,s}function Od(){Gt=4,ks||(nt&4194048)!==nt&&va.current!==null||(Dl=!0),(Ts&134217727)===0&&(Ai&134217727)===0||Nt===null||Rs(Nt,nt,ya,!1)}function pv(s,l,c){var m=ht;ht|=2;var g=HS(),b=VS();(Nt!==s||nt!==l)&&(Ed=null,kl(s,l)),l=!1;var I=Gt;e:do try{if(ft!==0&&et!==null){var Y=et,ae=ga;switch(ft){case 8:fv(),I=6;break e;case 3:case 2:case 9:case 6:va.current===null&&(l=!0);var pe=ft;if(ft=0,ga=null,Tl(s,Y,ae,pe),c&&Dl){I=0;break e}break;default:pe=ft,ft=0,ga=null,Tl(s,Y,ae,pe)}}AR(),I=Gt;break}catch(Ne){$S(s,Ne)}while(!0);return l&&s.shellSuspendCounter++,Or=xi=null,ht=m,M.H=g,M.A=b,et===null&&(Nt=null,nt=0,Wu()),I}function AR(){for(;et!==null;)YS(et)}function ER(s,l){var c=ht;ht|=2;var m=HS(),g=VS();Nt!==s||nt!==l?(Ed=null,Ad=dn()+500,kl(s,l)):Dl=ci(s,l);e:do try{if(ft!==0&&et!==null){l=et;var b=ga;t:switch(ft){case 1:ft=0,ga=null,Tl(s,l,b,1);break;case 2:case 9:if(nN(b)){ft=0,ga=null,GS(l);break}l=function(){ft!==2&&ft!==9||Nt!==s||(ft=7),vr(s)},b.then(l,l);break e;case 3:ft=7;break e;case 4:ft=5;break e;case 7:nN(b)?(ft=0,ga=null,GS(l)):(ft=0,ga=null,Tl(s,l,b,7));break;case 5:var I=null;switch(et.tag){case 26:I=et.memoizedState;case 5:case 27:var Y=et;if(I?T1(I):Y.stateNode.complete){ft=0,ga=null;var ae=Y.sibling;if(ae!==null)et=ae;else{var pe=Y.return;pe!==null?(et=pe,Pd(pe)):et=null}break t}}ft=0,ga=null,Tl(s,l,b,5);break;case 6:ft=0,ga=null,Tl(s,l,b,6);break;case 8:fv(),Gt=6;break e;default:throw Error(r(462))}}DR();break}catch(Ne){$S(s,Ne)}while(!0);return Or=xi=null,M.H=m,M.A=g,ht=c,et!==null?0:(Nt=null,nt=0,Wu(),Gt)}function DR(){for(;et!==null&&!qt();)YS(et)}function YS(s){var l=vS(s.alternate,s,Fr);s.memoizedProps=s.pendingProps,l===null?Pd(s):et=l}function GS(s){var l=s,c=l.alternate;switch(l.tag){case 15:case 0:l=uS(c,l,l.pendingProps,l.type,void 0,nt);break;case 11:l=uS(c,l,l.pendingProps,l.type.render,l.ref,nt);break;case 5:Pp(l);default:gS(c,l),l=et=V0(l,Fr),l=vS(c,l,Fr)}s.memoizedProps=s.pendingProps,l===null?Pd(s):et=l}function Tl(s,l,c,m){Or=xi=null,Pp(l),bl=null,Yo=0;var g=l.return;try{if(vR(s,g,l,c,nt)){Gt=1,xd(s,Ta(c,s.current)),et=null;return}}catch(b){if(g!==null)throw et=g,b;Gt=1,xd(s,Ta(c,s.current)),et=null;return}l.flags&32768?(st||m===1?s=!0:Dl||(nt&536870912)!==0?s=!1:(ks=s=!0,(m===2||m===9||m===3||m===6)&&(m=va.current,m!==null&&m.tag===13&&(m.flags|=16384))),KS(l,s)):Pd(l)}function Pd(s){var l=s;do{if((l.flags&32768)!==0){KS(l,ks);return}s=l.return;var c=yR(l.alternate,l,Fr);if(c!==null){et=c;return}if(l=l.sibling,l!==null){et=l;return}et=l=s}while(l!==null);Gt===0&&(Gt=5)}function KS(s,l){do{var c=jR(s.alternate,s);if(c!==null){c.flags&=32767,et=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(s=s.sibling,s!==null)){et=s;return}et=s=c}while(s!==null);Gt=6,et=null}function WS(s,l,c,m,g,b,I,Y,ae){s.cancelPendingCommit=null;do kd();while(mn!==0);if((ht&6)!==0)throw Error(r(327));if(l!==null){if(l===s.current)throw Error(r(177));if(b=l.lanes|l.childLanes,b|=ap,Q(s,c,b,I,Y,ae),s===Nt&&(et=Nt=null,nt=0),Pl=l,Is=s,zr=c,dv=b,hv=g,LS=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,TR(Re,function(){return e1(),null})):(s.callbackNode=null,s.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=M.T,M.T=null,g=B.p,B.p=2,I=ht,ht|=4;try{bR(s,l,c)}finally{ht=I,B.p=g,M.T=m}}mn=1,XS(),ZS(),QS()}}function XS(){if(mn===1){mn=0;var s=Is,l=Pl,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=M.T,M.T=null;var m=B.p;B.p=2;var g=ht;ht|=4;try{PS(l,s);var b=Ev,I=_0(s.containerInfo),Y=b.focusedElem,ae=b.selectionRange;if(I!==Y&&Y&&Y.ownerDocument&&R0(Y.ownerDocument.documentElement,Y)){if(ae!==null&&Qf(Y)){var pe=ae.start,Ne=ae.end;if(Ne===void 0&&(Ne=pe),"selectionStart"in Y)Y.selectionStart=pe,Y.selectionEnd=Math.min(Ne,Y.value.length);else{var we=Y.ownerDocument||document,ge=we&&we.defaultView||window;if(ge.getSelection){var je=ge.getSelection(),Me=Y.textContent.length,$e=Math.min(ae.start,Me),yt=ae.end===void 0?$e:Math.min(ae.end,Me);!je.extend&&$e>yt&&(I=yt,yt=$e,$e=I);var he=I0(Y,$e),ie=I0(Y,yt);if(he&&ie&&(je.rangeCount!==1||je.anchorNode!==he.node||je.anchorOffset!==he.offset||je.focusNode!==ie.node||je.focusOffset!==ie.offset)){var fe=we.createRange();fe.setStart(he.node,he.offset),je.removeAllRanges(),$e>yt?(je.addRange(fe),je.extend(ie.node,ie.offset)):(fe.setEnd(ie.node,ie.offset),je.addRange(fe))}}}}for(we=[],je=Y;je=je.parentNode;)je.nodeType===1&&we.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof Y.focus=="function"&&Y.focus(),Y=0;Y<we.length;Y++){var Se=we[Y];Se.element.scrollLeft=Se.left,Se.element.scrollTop=Se.top}}qd=!!Av,Ev=Av=null}finally{ht=g,B.p=m,M.T=c}}s.current=l,mn=2}}function ZS(){if(mn===2){mn=0;var s=Is,l=Pl,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=M.T,M.T=null;var m=B.p;B.p=2;var g=ht;ht|=4;try{wS(s,l.alternate,l)}finally{ht=g,B.p=m,M.T=c}}mn=3}}function QS(){if(mn===4||mn===3){mn=0,li();var s=Is,l=Pl,c=zr,m=LS;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?mn=5:(mn=0,Pl=Is=null,JS(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Ms=null),Da(c),l=l.stateNode,Vt&&typeof Vt.onCommitFiberRoot=="function")try{Vt.onCommitFiberRoot(hn,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=M.T,g=B.p,B.p=2,M.T=null;try{for(var b=s.onRecoverableError,I=0;I<m.length;I++){var Y=m[I];b(Y.value,{componentStack:Y.stack})}}finally{M.T=l,B.p=g}}(zr&3)!==0&&kd(),vr(s),g=s.pendingLanes,(c&261930)!==0&&(g&42)!==0?s===mv?cc++:(cc=0,mv=s):cc=0,uc(0)}}function JS(s,l){(s.pooledCacheLanes&=l)===0&&(l=s.pooledCache,l!=null&&(s.pooledCache=null,Ho(l)))}function kd(){return XS(),ZS(),QS(),e1()}function e1(){if(mn!==5)return!1;var s=Is,l=dv;dv=0;var c=Da(zr),m=M.T,g=B.p;try{B.p=32>c?32:c,M.T=null,c=hv,hv=null;var b=Is,I=zr;if(mn=0,Pl=Is=null,zr=0,(ht&6)!==0)throw Error(r(331));var Y=ht;if(ht|=4,RS(b.current),TS(b,b.current,I,c),ht=Y,uc(0,!1),Vt&&typeof Vt.onPostCommitFiberRoot=="function")try{Vt.onPostCommitFiberRoot(hn,b)}catch{}return!0}finally{B.p=g,M.T=m,JS(s,l)}}function t1(s,l,c){l=Ta(c,l),l=Vp(s.stateNode,l,2),s=Es(s,l,2),s!==null&&(xs(s,2),vr(s))}function pt(s,l,c){if(s.tag===3)t1(s,s,c);else for(;l!==null;){if(l.tag===3){t1(l,s,c);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Ms===null||!Ms.has(m))){s=Ta(c,s),c=nS(2),m=Es(l,c,2),m!==null&&(aS(c,m,l,s),xs(m,2),vr(m));break}}l=l.return}}function vv(s,l,c){var m=s.pingCache;if(m===null){m=s.pingCache=new CR;var g=new Set;m.set(l,g)}else g=m.get(l),g===void 0&&(g=new Set,m.set(l,g));g.has(c)||(ov=!0,g.add(c),s=OR.bind(null,s,l,c),l.then(s,s))}function OR(s,l,c){var m=s.pingCache;m!==null&&m.delete(l),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,Nt===s&&(nt&c)===c&&(Gt===4||Gt===3&&(nt&62914560)===nt&&300>dn()-wd?(ht&2)===0&&kl(s,0):cv|=c,Ol===nt&&(Ol=0)),vr(s)}function n1(s,l){l===0&&(l=Bu()),s=fi(s,l),s!==null&&(xs(s,l),vr(s))}function PR(s){var l=s.memoizedState,c=0;l!==null&&(c=l.retryLane),n1(s,c)}function kR(s,l){var c=0;switch(s.tag){case 31:case 13:var m=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:m=s.stateNode;break;case 22:m=s.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(l),n1(s,c)}function TR(s,l){return _e(s,l)}var Td=null,Ml=null,xv=!1,Md=!1,gv=!1,_s=0;function vr(s){s!==Ml&&s.next===null&&(Ml===null?Td=Ml=s:Ml=Ml.next=s),Md=!0,xv||(xv=!0,IR())}function uc(s,l){if(!gv&&Md){gv=!0;do for(var c=!1,m=Td;m!==null;){if(s!==0){var g=m.pendingLanes;if(g===0)var b=0;else{var I=m.suspendedLanes,Y=m.pingedLanes;b=(1<<31-Bn(42|s)+1)-1,b&=g&~(I&~Y),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,i1(m,b))}else b=nt,b=oi(m,m===Nt?b:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(b&3)===0||ci(m,b)||(c=!0,i1(m,b));m=m.next}while(c);gv=!1}}function MR(){a1()}function a1(){Md=xv=!1;var s=0;_s!==0&&HR()&&(s=_s);for(var l=dn(),c=null,m=Td;m!==null;){var g=m.next,b=r1(m,l);b===0?(m.next=null,c===null?Td=g:c.next=g,g===null&&(Ml=c)):(c=m,(s!==0||(b&3)!==0)&&(Md=!0)),m=g}mn!==0&&mn!==5||uc(s),_s!==0&&(_s=0)}function r1(s,l){for(var c=s.suspendedLanes,m=s.pingedLanes,g=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var I=31-Bn(b),Y=1<<I,ae=g[I];ae===-1?((Y&c)===0||(Y&m)!==0)&&(g[I]=Mf(Y,l)):ae<=l&&(s.expiredLanes|=Y),b&=~Y}if(l=Nt,c=nt,c=oi(s,s===l?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m=s.callbackNode,c===0||s===l&&(ft===2||ft===9)||s.cancelPendingCommit!==null)return m!==null&&m!==null&&wt(m),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||ci(s,c)){if(l=c&-c,l===s.callbackPriority)return l;switch(m!==null&&wt(m),Da(c)){case 2:case 8:c=Ht;break;case 32:c=Re;break;case 268435456:c=Ee;break;default:c=Re}return m=s1.bind(null,s),c=_e(c,m),s.callbackPriority=l,s.callbackNode=c,l}return m!==null&&m!==null&&wt(m),s.callbackPriority=2,s.callbackNode=null,2}function s1(s,l){if(mn!==0&&mn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(kd()&&s.callbackNode!==c)return null;var m=nt;return m=oi(s,s===Nt?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),m===0?null:(zS(s,m,l),r1(s,dn()),s.callbackNode!=null&&s.callbackNode===c?s1.bind(null,s):null)}function i1(s,l){if(kd())return null;zS(s,l,!0)}function IR(){YR(function(){(ht&6)!==0?_e(Ue,MR):a1()})}function yv(){if(_s===0){var s=gl;s===0&&(s=Zi,Zi<<=1,(Zi&261888)===0&&(Zi=256)),_s=s}return _s}function l1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Uu(""+s)}function o1(s,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,s.id&&c.setAttribute("form",s.id),l.parentNode.insertBefore(c,l),s=new FormData(s),c.parentNode.removeChild(c),s}function RR(s,l,c,m,g){if(l==="submit"&&c&&c.stateNode===g){var b=l1((g[Jn]||null).action),I=m.submitter;I&&(l=(l=I[Jn]||null)?l1(l.formAction):I.getAttribute("formAction"),l!==null&&(b=l,I=null));var Y=new Vu("action","action",null,m,g);s.push({event:Y,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(_s!==0){var ae=I?o1(g,I):new FormData(g);Fp(c,{pending:!0,data:ae,method:g.method,action:b},null,ae)}}else typeof b=="function"&&(Y.preventDefault(),ae=I?o1(g,I):new FormData(g),Fp(c,{pending:!0,data:ae,method:g.method,action:b},b,ae))},currentTarget:g}]})}}for(var jv=0;jv<np.length;jv++){var bv=np[jv],_R=bv.toLowerCase(),BR=bv[0].toUpperCase()+bv.slice(1);er(_R,"on"+BR)}er(F0,"onAnimationEnd"),er(z0,"onAnimationIteration"),er(U0,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(JI,"onTransitionRun"),er(eR,"onTransitionStart"),er(tR,"onTransitionCancel"),er($0,"onTransitionEnd"),rl("onMouseEnter",["mouseout","mouseover"]),rl("onMouseLeave",["mouseout","mouseover"]),rl("onPointerEnter",["pointerout","pointerover"]),rl("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dc));function c1(s,l){l=(l&4)!==0;for(var c=0;c<s.length;c++){var m=s[c],g=m.event;m=m.listeners;e:{var b=void 0;if(l)for(var I=m.length-1;0<=I;I--){var Y=m[I],ae=Y.instance,pe=Y.currentTarget;if(Y=Y.listener,ae!==b&&g.isPropagationStopped())break e;b=Y,g.currentTarget=pe;try{b(g)}catch(Ne){Ku(Ne)}g.currentTarget=null,b=ae}else for(I=0;I<m.length;I++){if(Y=m[I],ae=Y.instance,pe=Y.currentTarget,Y=Y.listener,ae!==b&&g.isPropagationStopped())break e;b=Y,g.currentTarget=pe;try{b(g)}catch(Ne){Ku(Ne)}g.currentTarget=null,b=ae}}}}function tt(s,l){var c=l[If];c===void 0&&(c=l[If]=new Set);var m=s+"__bubble";c.has(m)||(u1(l,s,2,!1),c.add(m))}function Nv(s,l,c){var m=0;l&&(m|=4),u1(c,s,m,l)}var Id="_reactListening"+Math.random().toString(36).slice(2);function Sv(s){if(!s[Id]){s[Id]=!0,a0.forEach(function(c){c!=="selectionchange"&&(LR.has(c)||Nv(c,!1,s),Nv(c,!0,s))});var l=s.nodeType===9?s:s.ownerDocument;l===null||l[Id]||(l[Id]=!0,Nv("selectionchange",!1,l))}}function u1(s,l,c,m){switch(F1(l)){case 2:var g=h_;break;case 8:g=m_;break;default:g=Lv}c=g.bind(null,l,c,s),g=void 0,!qf||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(g=!0),m?g!==void 0?s.addEventListener(l,c,{capture:!0,passive:g}):s.addEventListener(l,c,!0):g!==void 0?s.addEventListener(l,c,{passive:g}):s.addEventListener(l,c,!1)}function Cv(s,l,c,m,g){var b=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var Y=m.stateNode.containerInfo;if(Y===g)break;if(I===4)for(I=m.return;I!==null;){var ae=I.tag;if((ae===3||ae===4)&&I.stateNode.containerInfo===g)return;I=I.return}for(;Y!==null;){if(I=tl(Y),I===null)return;if(ae=I.tag,ae===5||ae===6||ae===26||ae===27){m=b=I;continue e}Y=Y.parentNode}}m=m.return}p0(function(){var pe=b,Ne=Uf(c),we=[];e:{var ge=q0.get(s);if(ge!==void 0){var je=Vu,Me=s;switch(s){case"keypress":if(qu(c)===0)break e;case"keydown":case"keyup":je=kI;break;case"focusin":Me="focus",je=Gf;break;case"focusout":Me="blur",je=Gf;break;case"beforeblur":case"afterblur":je=Gf;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=g0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=yI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=II;break;case F0:case z0:case U0:je=NI;break;case $0:je=_I;break;case"scroll":case"scrollend":je=xI;break;case"wheel":je=LI;break;case"copy":case"cut":case"paste":je=CI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=j0;break;case"toggle":case"beforetoggle":je=zI}var $e=(l&4)!==0,yt=!$e&&(s==="scroll"||s==="scrollend"),he=$e?ge!==null?ge+"Capture":null:ge;$e=[];for(var ie=pe,fe;ie!==null;){var Se=ie;if(fe=Se.stateNode,Se=Se.tag,Se!==5&&Se!==26&&Se!==27||fe===null||he===null||(Se=Mo(ie,he),Se!=null&&$e.push(hc(ie,Se,fe))),yt)break;ie=ie.return}0<$e.length&&(ge=new je(ge,Me,null,c,Ne),we.push({event:ge,listeners:$e}))}}if((l&7)===0){e:{if(ge=s==="mouseover"||s==="pointerover",je=s==="mouseout"||s==="pointerout",ge&&c!==zf&&(Me=c.relatedTarget||c.fromElement)&&(tl(Me)||Me[el]))break e;if((je||ge)&&(ge=Ne.window===Ne?Ne:(ge=Ne.ownerDocument)?ge.defaultView||ge.parentWindow:window,je?(Me=c.relatedTarget||c.toElement,je=pe,Me=Me?tl(Me):null,Me!==null&&(yt=o(Me),$e=Me.tag,Me!==yt||$e!==5&&$e!==27&&$e!==6)&&(Me=null)):(je=null,Me=pe),je!==Me)){if($e=g0,Se="onMouseLeave",he="onMouseEnter",ie="mouse",(s==="pointerout"||s==="pointerover")&&($e=j0,Se="onPointerLeave",he="onPointerEnter",ie="pointer"),yt=je==null?ge:To(je),fe=Me==null?ge:To(Me),ge=new $e(Se,ie+"leave",je,c,Ne),ge.target=yt,ge.relatedTarget=fe,Se=null,tl(Ne)===pe&&($e=new $e(he,ie+"enter",Me,c,Ne),$e.target=fe,$e.relatedTarget=yt,Se=$e),yt=Se,je&&Me)t:{for($e=FR,he=je,ie=Me,fe=0,Se=he;Se;Se=$e(Se))fe++;Se=0;for(var Le=ie;Le;Le=$e(Le))Se++;for(;0<fe-Se;)he=$e(he),fe--;for(;0<Se-fe;)ie=$e(ie),Se--;for(;fe--;){if(he===ie||ie!==null&&he===ie.alternate){$e=he;break t}he=$e(he),ie=$e(ie)}$e=null}else $e=null;je!==null&&d1(we,ge,je,$e,!1),Me!==null&&yt!==null&&d1(we,yt,Me,$e,!0)}}e:{if(ge=pe?To(pe):window,je=ge.nodeName&&ge.nodeName.toLowerCase(),je==="select"||je==="input"&&ge.type==="file")var lt=D0;else if(A0(ge))if(O0)lt=XI;else{lt=KI;var Ie=GI}else je=ge.nodeName,!je||je.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?pe&&Ff(pe.elementType)&&(lt=D0):lt=WI;if(lt&&(lt=lt(s,pe))){E0(we,lt,c,Ne);break e}Ie&&Ie(s,ge,pe),s==="focusout"&&pe&&ge.type==="number"&&pe.memoizedProps.value!=null&&Lf(ge,"number",ge.value)}switch(Ie=pe?To(pe):window,s){case"focusin":(A0(Ie)||Ie.contentEditable==="true")&&(ul=Ie,Jf=pe,Uo=null);break;case"focusout":Uo=Jf=ul=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,B0(we,c,Ne);break;case"selectionchange":if(QI)break;case"keydown":case"keyup":B0(we,c,Ne)}var Qe;if(Wf)e:{switch(s){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else cl?C0(s,c)&&(at="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(at="onCompositionStart");at&&(b0&&c.locale!=="ko"&&(cl||at!=="onCompositionStart"?at==="onCompositionEnd"&&cl&&(Qe=v0()):(js=Ne,Hf="value"in js?js.value:js.textContent,cl=!0)),Ie=Rd(pe,at),0<Ie.length&&(at=new y0(at,s,null,c,Ne),we.push({event:at,listeners:Ie}),Qe?at.data=Qe:(Qe=w0(c),Qe!==null&&(at.data=Qe)))),(Qe=$I?qI(s,c):HI(s,c))&&(at=Rd(pe,"onBeforeInput"),0<at.length&&(Ie=new y0("onBeforeInput","beforeinput",null,c,Ne),we.push({event:Ie,listeners:at}),Ie.data=Qe)),RR(we,s,pe,c,Ne)}c1(we,l)})}function hc(s,l,c){return{instance:s,listener:l,currentTarget:c}}function Rd(s,l){for(var c=l+"Capture",m=[];s!==null;){var g=s,b=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||b===null||(g=Mo(s,c),g!=null&&m.unshift(hc(s,g,b)),g=Mo(s,l),g!=null&&m.push(hc(s,g,b))),s.tag===3)return m;s=s.return}return[]}function FR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function d1(s,l,c,m,g){for(var b=l._reactName,I=[];c!==null&&c!==m;){var Y=c,ae=Y.alternate,pe=Y.stateNode;if(Y=Y.tag,ae!==null&&ae===m)break;Y!==5&&Y!==26&&Y!==27||pe===null||(ae=pe,g?(pe=Mo(c,b),pe!=null&&I.unshift(hc(c,pe,ae))):g||(pe=Mo(c,b),pe!=null&&I.push(hc(c,pe,ae)))),c=c.return}I.length!==0&&s.push({event:l,listeners:I})}var zR=/\r\n?/g,UR=/\u0000|\uFFFD/g;function h1(s){return(typeof s=="string"?s:""+s).replace(zR,`
`).replace(UR,"")}function m1(s,l){return l=h1(l),h1(s)===l}function gt(s,l,c,m,g,b){switch(c){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||il(s,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&il(s,""+m);break;case"className":Fu(s,"class",m);break;case"tabIndex":Fu(s,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Fu(s,c,m);break;case"style":m0(s,m,b);break;case"data":if(l!=="object"){Fu(s,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||c!=="href")){s.removeAttribute(c);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=Uu(""+m),s.setAttribute(c,m);break;case"action":case"formAction":if(typeof m=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(l!=="input"&&gt(s,l,"name",g.name,g,null),gt(s,l,"formEncType",g.formEncType,g,null),gt(s,l,"formMethod",g.formMethod,g,null),gt(s,l,"formTarget",g.formTarget,g,null)):(gt(s,l,"encType",g.encType,g,null),gt(s,l,"method",g.method,g,null),gt(s,l,"target",g.target,g,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){s.removeAttribute(c);break}m=Uu(""+m),s.setAttribute(c,m);break;case"onClick":m!=null&&(s.onclick=wr);break;case"onScroll":m!=null&&tt("scroll",s);break;case"onScrollEnd":m!=null&&tt("scrollend",s);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"multiple":s.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":s.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){s.removeAttribute("xlink:href");break}c=Uu(""+m),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""+m):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":m===!0?s.setAttribute(c,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?s.setAttribute(c,m):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?s.setAttribute(c,m):s.removeAttribute(c);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?s.removeAttribute(c):s.setAttribute(c,m);break;case"popover":tt("beforetoggle",s),tt("toggle",s),Lu(s,"popover",m);break;case"xlinkActuate":Cr(s,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":Cr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":Cr(s,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":Cr(s,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":Cr(s,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":Cr(s,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":Cr(s,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Lu(s,"is",m);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=pI.get(c)||c,Lu(s,c,m))}}function wv(s,l,c,m,g,b){switch(c){case"style":m0(s,m,b);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(c=m.__html,c!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=c}}break;case"children":typeof m=="string"?il(s,m):(typeof m=="number"||typeof m=="bigint")&&il(s,""+m);break;case"onScroll":m!=null&&tt("scroll",s);break;case"onScrollEnd":m!=null&&tt("scrollend",s);break;case"onClick":m!=null&&(s.onclick=wr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!r0.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),l=c.slice(2,g?c.length-7:void 0),b=s[Jn]||null,b=b!=null?b[c]:null,typeof b=="function"&&s.removeEventListener(l,b,g),typeof m=="function")){typeof b!="function"&&b!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(l,m,g);break e}c in s?s[c]=m:m===!0?s.setAttribute(c,""):Lu(s,c,m)}}}function kn(s,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":tt("error",s),tt("load",s);var m=!1,g=!1,b;for(b in c)if(c.hasOwnProperty(b)){var I=c[b];if(I!=null)switch(b){case"src":m=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gt(s,l,b,I,c,null)}}g&&gt(s,l,"srcSet",c.srcSet,c,null),m&&gt(s,l,"src",c.src,c,null);return;case"input":tt("invalid",s);var Y=b=I=g=null,ae=null,pe=null;for(m in c)if(c.hasOwnProperty(m)){var Ne=c[m];if(Ne!=null)switch(m){case"name":g=Ne;break;case"type":I=Ne;break;case"checked":ae=Ne;break;case"defaultChecked":pe=Ne;break;case"value":b=Ne;break;case"defaultValue":Y=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,l));break;default:gt(s,l,m,Ne,c,null)}}c0(s,b,Y,ae,pe,I,g,!1);return;case"select":tt("invalid",s),m=I=b=null;for(g in c)if(c.hasOwnProperty(g)&&(Y=c[g],Y!=null))switch(g){case"value":b=Y;break;case"defaultValue":I=Y;break;case"multiple":m=Y;default:gt(s,l,g,Y,c,null)}l=b,c=I,s.multiple=!!m,l!=null?sl(s,!!m,l,!1):c!=null&&sl(s,!!m,c,!0);return;case"textarea":tt("invalid",s),b=g=m=null;for(I in c)if(c.hasOwnProperty(I)&&(Y=c[I],Y!=null))switch(I){case"value":m=Y;break;case"defaultValue":g=Y;break;case"children":b=Y;break;case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(91));break;default:gt(s,l,I,Y,c,null)}d0(s,m,g,b);return;case"option":for(ae in c)if(c.hasOwnProperty(ae)&&(m=c[ae],m!=null))switch(ae){case"selected":s.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:gt(s,l,ae,m,c,null)}return;case"dialog":tt("beforetoggle",s),tt("toggle",s),tt("cancel",s),tt("close",s);break;case"iframe":case"object":tt("load",s);break;case"video":case"audio":for(m=0;m<dc.length;m++)tt(dc[m],s);break;case"image":tt("error",s),tt("load",s);break;case"details":tt("toggle",s);break;case"embed":case"source":case"link":tt("error",s),tt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in c)if(c.hasOwnProperty(pe)&&(m=c[pe],m!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:gt(s,l,pe,m,c,null)}return;default:if(Ff(l)){for(Ne in c)c.hasOwnProperty(Ne)&&(m=c[Ne],m!==void 0&&wv(s,l,Ne,m,c,void 0));return}}for(Y in c)c.hasOwnProperty(Y)&&(m=c[Y],m!=null&&gt(s,l,Y,m,c,null))}function $R(s,l,c,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,b=null,I=null,Y=null,ae=null,pe=null,Ne=null;for(je in c){var we=c[je];if(c.hasOwnProperty(je)&&we!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":ae=we;default:m.hasOwnProperty(je)||gt(s,l,je,null,m,we)}}for(var ge in m){var je=m[ge];if(we=c[ge],m.hasOwnProperty(ge)&&(je!=null||we!=null))switch(ge){case"type":b=je;break;case"name":g=je;break;case"checked":pe=je;break;case"defaultChecked":Ne=je;break;case"value":I=je;break;case"defaultValue":Y=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,l));break;default:je!==we&&gt(s,l,ge,je,m,we)}}Bf(s,I,Y,ae,pe,Ne,b,g);return;case"select":je=I=Y=ge=null;for(b in c)if(ae=c[b],c.hasOwnProperty(b)&&ae!=null)switch(b){case"value":break;case"multiple":je=ae;default:m.hasOwnProperty(b)||gt(s,l,b,null,m,ae)}for(g in m)if(b=m[g],ae=c[g],m.hasOwnProperty(g)&&(b!=null||ae!=null))switch(g){case"value":ge=b;break;case"defaultValue":Y=b;break;case"multiple":I=b;default:b!==ae&&gt(s,l,g,b,m,ae)}l=Y,c=I,m=je,ge!=null?sl(s,!!c,ge,!1):!!m!=!!c&&(l!=null?sl(s,!!c,l,!0):sl(s,!!c,c?[]:"",!1));return;case"textarea":je=ge=null;for(Y in c)if(g=c[Y],c.hasOwnProperty(Y)&&g!=null&&!m.hasOwnProperty(Y))switch(Y){case"value":break;case"children":break;default:gt(s,l,Y,null,m,g)}for(I in m)if(g=m[I],b=c[I],m.hasOwnProperty(I)&&(g!=null||b!=null))switch(I){case"value":ge=g;break;case"defaultValue":je=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==b&&gt(s,l,I,g,m,b)}u0(s,ge,je);return;case"option":for(var Me in c)if(ge=c[Me],c.hasOwnProperty(Me)&&ge!=null&&!m.hasOwnProperty(Me))switch(Me){case"selected":s.selected=!1;break;default:gt(s,l,Me,null,m,ge)}for(ae in m)if(ge=m[ae],je=c[ae],m.hasOwnProperty(ae)&&ge!==je&&(ge!=null||je!=null))switch(ae){case"selected":s.selected=ge&&typeof ge!="function"&&typeof ge!="symbol";break;default:gt(s,l,ae,ge,m,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in c)ge=c[$e],c.hasOwnProperty($e)&&ge!=null&&!m.hasOwnProperty($e)&&gt(s,l,$e,null,m,ge);for(pe in m)if(ge=m[pe],je=c[pe],m.hasOwnProperty(pe)&&ge!==je&&(ge!=null||je!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,l));break;default:gt(s,l,pe,ge,m,je)}return;default:if(Ff(l)){for(var yt in c)ge=c[yt],c.hasOwnProperty(yt)&&ge!==void 0&&!m.hasOwnProperty(yt)&&wv(s,l,yt,void 0,m,ge);for(Ne in m)ge=m[Ne],je=c[Ne],!m.hasOwnProperty(Ne)||ge===je||ge===void 0&&je===void 0||wv(s,l,Ne,ge,m,je);return}}for(var he in c)ge=c[he],c.hasOwnProperty(he)&&ge!=null&&!m.hasOwnProperty(he)&&gt(s,l,he,null,m,ge);for(we in m)ge=m[we],je=c[we],!m.hasOwnProperty(we)||ge===je||ge==null&&je==null||gt(s,l,we,ge,m,je)}function f1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,l=0,c=performance.getEntriesByType("resource"),m=0;m<c.length;m++){var g=c[m],b=g.transferSize,I=g.initiatorType,Y=g.duration;if(b&&Y&&f1(I)){for(I=0,Y=g.responseEnd,m+=1;m<c.length;m++){var ae=c[m],pe=ae.startTime;if(pe>Y)break;var Ne=ae.transferSize,we=ae.initiatorType;Ne&&f1(we)&&(ae=ae.responseEnd,I+=Ne*(ae<Y?1:(Y-pe)/(ae-pe)))}if(--m,l+=8*(b+I)/(g.duration/1e3),s++,10<s)break}}if(0<s)return l/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Av=null,Ev=null;function _d(s){return s.nodeType===9?s:s.ownerDocument}function p1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v1(s,l){if(s===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&l==="foreignObject"?0:s}function Dv(s,l){return s==="textarea"||s==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Ov=null;function HR(){var s=window.event;return s&&s.type==="popstate"?s===Ov?!1:(Ov=s,!0):(Ov=null,!1)}var x1=typeof setTimeout=="function"?setTimeout:void 0,VR=typeof clearTimeout=="function"?clearTimeout:void 0,g1=typeof Promise=="function"?Promise:void 0,YR=typeof queueMicrotask=="function"?queueMicrotask:typeof g1<"u"?function(s){return g1.resolve(null).then(s).catch(GR)}:x1;function GR(s){setTimeout(function(){throw s})}function Bs(s){return s==="head"}function y1(s,l){var c=l,m=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(m===0){s.removeChild(g),Bl(l);return}m--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")m++;else if(c==="html")mc(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,mc(c);for(var b=c.firstChild;b;){var I=b.nextSibling,Y=b.nodeName;b[ko]||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=I}}else c==="body"&&mc(s.ownerDocument.body);c=g}while(c);Bl(l)}function j1(s,l){var c=s;s=0;do{var m=c.nextSibling;if(c.nodeType===1?l?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(l?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=m}while(c)}function Pv(s){var l=s.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Pv(c),Rf(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function KR(s,l,c,m){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(m){if(!s[ko])switch(l){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(l==="input"&&s.type==="hidden"){var b=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Ba(s.nextSibling),s===null)break}return null}function WR(s,l,c){if(l==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Ba(s.nextSibling),s===null))return null;return s}function b1(s,l){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Ba(s.nextSibling),s===null))return null;return s}function kv(s){return s.data==="$?"||s.data==="$~"}function Tv(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function XR(s,l){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=l;else if(s.data!=="$?"||c.readyState!=="loading")l();else{var m=function(){l(),c.removeEventListener("DOMContentLoaded",m)};c.addEventListener("DOMContentLoaded",m),s._reactRetry=m}}function Ba(s){for(;s!=null;s=s.nextSibling){var l=s.nodeType;if(l===1||l===3)break;if(l===8){if(l=s.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return s}var Mv=null;function N1(s){s=s.nextSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(l===0)return Ba(s.nextSibling);l--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||l++}s=s.nextSibling}return null}function S1(s){s=s.previousSibling;for(var l=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(l===0)return s;l--}else c!=="/$"&&c!=="/&"||l++}s=s.previousSibling}return null}function C1(s,l,c){switch(l=_d(c),s){case"html":if(s=l.documentElement,!s)throw Error(r(452));return s;case"head":if(s=l.head,!s)throw Error(r(453));return s;case"body":if(s=l.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function mc(s){for(var l=s.attributes;l.length;)s.removeAttributeNode(l[0]);Rf(s)}var La=new Map,w1=new Set;function Bd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ur=B.d;B.d={f:ZR,r:QR,D:JR,C:e_,L:t_,m:n_,X:r_,S:a_,M:s_};function ZR(){var s=Ur.f(),l=Dd();return s||l}function QR(s){var l=nl(s);l!==null&&l.tag===5&&l.type==="form"?$N(l):Ur.r(s)}var Il=typeof document>"u"?null:document;function A1(s,l,c){var m=Il;if(m&&typeof l=="string"&&l){var g=Pa(l);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),w1.has(g)||(w1.add(g),s={rel:s,crossOrigin:c,href:l},m.querySelector(g)===null&&(l=m.createElement("link"),kn(l,"link",s),jn(l),m.head.appendChild(l)))}}function JR(s){Ur.D(s),A1("dns-prefetch",s,null)}function e_(s,l){Ur.C(s,l),A1("preconnect",s,l)}function t_(s,l,c){Ur.L(s,l,c);var m=Il;if(m&&s&&l){var g='link[rel="preload"][as="'+Pa(l)+'"]';l==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Pa(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Pa(c.imageSizes)+'"]')):g+='[href="'+Pa(s)+'"]';var b=g;switch(l){case"style":b=Rl(s);break;case"script":b=_l(s)}La.has(b)||(s=v({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:s,as:l},c),La.set(b,s),m.querySelector(g)!==null||l==="style"&&m.querySelector(fc(b))||l==="script"&&m.querySelector(pc(b))||(l=m.createElement("link"),kn(l,"link",s),jn(l),m.head.appendChild(l)))}}function n_(s,l){Ur.m(s,l);var c=Il;if(c&&s){var m=l&&typeof l.as=="string"?l.as:"script",g='link[rel="modulepreload"][as="'+Pa(m)+'"][href="'+Pa(s)+'"]',b=g;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=_l(s)}if(!La.has(b)&&(s=v({rel:"modulepreload",href:s},l),La.set(b,s),c.querySelector(g)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(pc(b)))return}m=c.createElement("link"),kn(m,"link",s),jn(m),c.head.appendChild(m)}}}function a_(s,l,c){Ur.S(s,l,c);var m=Il;if(m&&s){var g=al(m).hoistableStyles,b=Rl(s);l=l||"default";var I=g.get(b);if(!I){var Y={loading:0,preload:null};if(I=m.querySelector(fc(b)))Y.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":l},c),(c=La.get(b))&&Iv(s,c);var ae=I=m.createElement("link");jn(ae),kn(ae,"link",s),ae._p=new Promise(function(pe,Ne){ae.onload=pe,ae.onerror=Ne}),ae.addEventListener("load",function(){Y.loading|=1}),ae.addEventListener("error",function(){Y.loading|=2}),Y.loading|=4,Ld(I,l,m)}I={type:"stylesheet",instance:I,count:1,state:Y},g.set(b,I)}}}function r_(s,l){Ur.X(s,l);var c=Il;if(c&&s){var m=al(c).hoistableScripts,g=_l(s),b=m.get(g);b||(b=c.querySelector(pc(g)),b||(s=v({src:s,async:!0},l),(l=La.get(g))&&Rv(s,l),b=c.createElement("script"),jn(b),kn(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(g,b))}}function s_(s,l){Ur.M(s,l);var c=Il;if(c&&s){var m=al(c).hoistableScripts,g=_l(s),b=m.get(g);b||(b=c.querySelector(pc(g)),b||(s=v({src:s,async:!0,type:"module"},l),(l=La.get(g))&&Rv(s,l),b=c.createElement("script"),jn(b),kn(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},m.set(g,b))}}function E1(s,l,c,m){var g=(g=A.current)?Bd(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Rl(c.href),c=al(g).hoistableStyles,m=c.get(l),m||(m={type:"style",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=Rl(c.href);var b=al(g).hoistableStyles,I=b.get(s);if(I||(g=g.ownerDocument||g,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,I),(b=g.querySelector(fc(s)))&&!b._p&&(I.instance=b,I.state.loading=5),La.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},La.set(s,c),b||i_(g,s,c,I.state))),l&&m===null)throw Error(r(528,""));return I}if(l&&m!==null)throw Error(r(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=_l(c),c=al(g).hoistableScripts,m=c.get(l),m||(m={type:"script",instance:null,count:0,state:null},c.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function Rl(s){return'href="'+Pa(s)+'"'}function fc(s){return'link[rel="stylesheet"]['+s+"]"}function D1(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function i_(s,l,c,m){s.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=s.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),kn(l,"link",c),jn(l),s.head.appendChild(l))}function _l(s){return'[src="'+Pa(s)+'"]'}function pc(s){return"script[async]"+s}function O1(s,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var m=s.querySelector('style[data-href~="'+Pa(c.href)+'"]');if(m)return l.instance=m,jn(m),m;var g=v({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return m=(s.ownerDocument||s).createElement("style"),jn(m),kn(m,"style",g),Ld(m,c.precedence,s),l.instance=m;case"stylesheet":g=Rl(c.href);var b=s.querySelector(fc(g));if(b)return l.state.loading|=4,l.instance=b,jn(b),b;m=D1(c),(g=La.get(g))&&Iv(m,g),b=(s.ownerDocument||s).createElement("link"),jn(b);var I=b;return I._p=new Promise(function(Y,ae){I.onload=Y,I.onerror=ae}),kn(b,"link",m),l.state.loading|=4,Ld(b,c.precedence,s),l.instance=b;case"script":return b=_l(c.src),(g=s.querySelector(pc(b)))?(l.instance=g,jn(g),g):(m=c,(g=La.get(b))&&(m=v({},c),Rv(m,g)),s=s.ownerDocument||s,g=s.createElement("script"),jn(g),kn(g,"link",m),s.head.appendChild(g),l.instance=g);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Ld(m,c.precedence,s));return l.instance}function Ld(s,l,c){for(var m=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=m.length?m[m.length-1]:null,b=g,I=0;I<m.length;I++){var Y=m[I];if(Y.dataset.precedence===l)b=Y;else if(b!==g)break}b?b.parentNode.insertBefore(s,b.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(s,l.firstChild))}function Iv(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.title==null&&(s.title=l.title)}function Rv(s,l){s.crossOrigin==null&&(s.crossOrigin=l.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=l.referrerPolicy),s.integrity==null&&(s.integrity=l.integrity)}var Fd=null;function P1(s,l,c){if(Fd===null){var m=new Map,g=Fd=new Map;g.set(c,m)}else g=Fd,m=g.get(c),m||(m=new Map,g.set(c,m));if(m.has(s))return m;for(m.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var b=c[g];if(!(b[ko]||b[En]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var I=b.getAttribute(l)||"";I=s+I;var Y=m.get(I);Y?Y.push(b):m.set(I,[b])}}return m}function k1(s,l,c){s=s.ownerDocument||s,s.head.insertBefore(c,l==="title"?s.querySelector("head > title"):null)}function l_(s,l,c){if(c===1||l.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return s=l.disabled,typeof l.precedence=="string"&&s==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function T1(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function o_(s,l,c,m){if(c.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=Rl(m.href),b=l.querySelector(fc(g));if(b){l=b._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(s.count++,s=zd.bind(s),l.then(s,s)),c.state.loading|=4,c.instance=b,jn(b);return}b=l.ownerDocument||l,m=D1(m),(g=La.get(g))&&Iv(m,g),b=b.createElement("link"),jn(b);var I=b;I._p=new Promise(function(Y,ae){I.onload=Y,I.onerror=ae}),kn(b,"link",m),c.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,l),(l=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=zd.bind(s),l.addEventListener("load",c),l.addEventListener("error",c))}}var _v=0;function c_(s,l){return s.stylesheets&&s.count===0&&$d(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var m=setTimeout(function(){if(s.stylesheets&&$d(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+l);0<s.imgBytes&&_v===0&&(_v=62500*qR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&$d(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>_v?50:800)+l);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(m),clearTimeout(g)}}:null}function zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$d(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Ud=null;function $d(s,l){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Ud=new Map,l.forEach(u_,s),Ud=null,zd.call(s))}function u_(s,l){if(!(l.state.loading&4)){var c=Ud.get(s);if(c)var m=c.get(null);else{c=new Map,Ud.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<g.length;b++){var I=g[b];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(c.set(I.dataset.precedence,I),m=I)}m&&c.set(null,m)}g=l.instance,I=g.getAttribute("data-precedence"),b=c.get(I)||m,b===m&&c.set(null,g),c.set(I,g),this.count++,m=zd.bind(this),g.addEventListener("load",m),g.addEventListener("error",m),b?b.parentNode.insertBefore(g,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),l.state.loading|=4}}var vc={$$typeof:E,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function d_(s,l,c,m,g,b,I,Y,ae){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oo(0),this.hiddenUpdates=Oo(null),this.identifierPrefix=m,this.onUncaughtError=g,this.onCaughtError=b,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ae,this.incompleteTransitions=new Map}function M1(s,l,c,m,g,b,I,Y,ae,pe,Ne,we){return s=new d_(s,l,c,I,ae,pe,Ne,we,Y),l=1,b===!0&&(l|=24),b=pa(3,null,null,l),s.current=b,b.stateNode=s,l=pp(),l.refCount++,s.pooledCache=l,l.refCount++,b.memoizedState={element:m,isDehydrated:c,cache:l},yp(b),s}function I1(s){return s?(s=ml,s):ml}function R1(s,l,c,m,g,b){g=I1(g),m.context===null?m.context=g:m.pendingContext=g,m=As(l),m.payload={element:c},b=b===void 0?null:b,b!==null&&(m.callback=b),c=Es(s,m,l),c!==null&&(sa(c,s,l),Ko(c,s,l))}function _1(s,l){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<l?c:l}}function Bv(s,l){_1(s,l),(s=s.alternate)&&_1(s,l)}function B1(s){if(s.tag===13||s.tag===31){var l=fi(s,67108864);l!==null&&sa(l,s,67108864),Bv(s,67108864)}}function L1(s){if(s.tag===13||s.tag===31){var l=ja();l=gs(l);var c=fi(s,l);c!==null&&sa(c,s,l),Bv(s,l)}}var qd=!0;function h_(s,l,c,m){var g=M.T;M.T=null;var b=B.p;try{B.p=2,Lv(s,l,c,m)}finally{B.p=b,M.T=g}}function m_(s,l,c,m){var g=M.T;M.T=null;var b=B.p;try{B.p=8,Lv(s,l,c,m)}finally{B.p=b,M.T=g}}function Lv(s,l,c,m){if(qd){var g=Fv(m);if(g===null)Cv(s,l,m,Hd,c),z1(s,m);else if(p_(g,s,l,c,m))m.stopPropagation();else if(z1(s,m),l&4&&-1<f_.indexOf(s)){for(;g!==null;){var b=nl(g);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var I=Qa(b.pendingLanes);if(I!==0){var Y=b;for(Y.pendingLanes|=2,Y.entangledLanes|=2;I;){var ae=1<<31-Bn(I);Y.entanglements[1]|=ae,I&=~ae}vr(b),(ht&6)===0&&(Ad=dn()+500,uc(0))}}break;case 31:case 13:Y=fi(b,2),Y!==null&&sa(Y,b,2),Dd(),Bv(b,2)}if(b=Fv(m),b===null&&Cv(s,l,m,Hd,c),b===g)break;g=b}g!==null&&m.stopPropagation()}else Cv(s,l,m,null,c)}}function Fv(s){return s=Uf(s),zv(s)}var Hd=null;function zv(s){if(Hd=null,s=tl(s),s!==null){var l=o(s);if(l===null)s=null;else{var c=l.tag;if(c===13){if(s=u(l),s!==null)return s;s=null}else if(c===31){if(s=h(l),s!==null)return s;s=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;s=null}else l!==s&&(s=null)}}return Hd=s,null}function F1(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case Ue:return 2;case Ht:return 8;case Re:case Dt:return 32;case Ee:return 268435456;default:return 32}default:return 32}}var Uv=!1,Ls=null,Fs=null,zs=null,xc=new Map,gc=new Map,Us=[],f_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z1(s,l){switch(s){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Fs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":xc.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":gc.delete(l.pointerId)}}function yc(s,l,c,m,g,b){return s===null||s.nativeEvent!==b?(s={blockedOn:l,domEventName:c,eventSystemFlags:m,nativeEvent:b,targetContainers:[g]},l!==null&&(l=nl(l),l!==null&&B1(l)),s):(s.eventSystemFlags|=m,l=s.targetContainers,g!==null&&l.indexOf(g)===-1&&l.push(g),s)}function p_(s,l,c,m,g){switch(l){case"focusin":return Ls=yc(Ls,s,l,c,m,g),!0;case"dragenter":return Fs=yc(Fs,s,l,c,m,g),!0;case"mouseover":return zs=yc(zs,s,l,c,m,g),!0;case"pointerover":var b=g.pointerId;return xc.set(b,yc(xc.get(b)||null,s,l,c,m,g)),!0;case"gotpointercapture":return b=g.pointerId,gc.set(b,yc(gc.get(b)||null,s,l,c,m,g)),!0}return!1}function U1(s){var l=tl(s.target);if(l!==null){var c=o(l);if(c!==null){if(l=c.tag,l===13){if(l=u(c),l!==null){s.blockedOn=l,Po(s.priority,function(){L1(c)});return}}else if(l===31){if(l=h(c),l!==null){s.blockedOn=l,Po(s.priority,function(){L1(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Vd(s){if(s.blockedOn!==null)return!1;for(var l=s.targetContainers;0<l.length;){var c=Fv(s.nativeEvent);if(c===null){c=s.nativeEvent;var m=new c.constructor(c.type,c);zf=m,c.target.dispatchEvent(m),zf=null}else return l=nl(c),l!==null&&B1(l),s.blockedOn=c,!1;l.shift()}return!0}function $1(s,l,c){Vd(s)&&c.delete(l)}function v_(){Uv=!1,Ls!==null&&Vd(Ls)&&(Ls=null),Fs!==null&&Vd(Fs)&&(Fs=null),zs!==null&&Vd(zs)&&(zs=null),xc.forEach($1),gc.forEach($1)}function Yd(s,l){s.blockedOn===l&&(s.blockedOn=null,Uv||(Uv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,v_)))}var Gd=null;function q1(s){Gd!==s&&(Gd=s,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gd===s&&(Gd=null);for(var l=0;l<s.length;l+=3){var c=s[l],m=s[l+1],g=s[l+2];if(typeof m!="function"){if(zv(m||c)===null)continue;break}var b=nl(c);b!==null&&(s.splice(l,3),l-=3,Fp(b,{pending:!0,data:g,method:c.method,action:m},m,g))}}))}function Bl(s){function l(ae){return Yd(ae,s)}Ls!==null&&Yd(Ls,s),Fs!==null&&Yd(Fs,s),zs!==null&&Yd(zs,s),xc.forEach(l),gc.forEach(l);for(var c=0;c<Us.length;c++){var m=Us[c];m.blockedOn===s&&(m.blockedOn=null)}for(;0<Us.length&&(c=Us[0],c.blockedOn===null);)U1(c),c.blockedOn===null&&Us.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(m=0;m<c.length;m+=3){var g=c[m],b=c[m+1],I=g[Jn]||null;if(typeof b=="function")I||q1(c);else if(I){var Y=null;if(b&&b.hasAttribute("formAction")){if(g=b,I=b[Jn]||null)Y=I.formAction;else if(zv(g)!==null)continue}else Y=I.action;typeof Y=="function"?c[m+1]=Y:(c.splice(m,3),m-=3),q1(c)}}}function H1(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(I){return g=I})},focusReset:"manual",scroll:"manual"})}function l(){g!==null&&(g(),g=null),m||setTimeout(c,20)}function c(){if(!m&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(c,100),function(){m=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),g!==null&&(g(),g=null)}}}function $v(s){this._internalRoot=s}Kd.prototype.render=$v.prototype.render=function(s){var l=this._internalRoot;if(l===null)throw Error(r(409));var c=l.current,m=ja();R1(c,m,s,l,null,null)},Kd.prototype.unmount=$v.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var l=s.containerInfo;R1(s.current,2,null,s,null,null),Dd(),l[el]=null}};function Kd(s){this._internalRoot=s}Kd.prototype.unstable_scheduleHydration=function(s){if(s){var l=Ja();s={blockedOn:null,target:s,priority:l};for(var c=0;c<Us.length&&l!==0&&l<Us[c].priority;c++);Us.splice(c,0,s),c===0&&U1(s)}};var V1=n.version;if(V1!=="19.2.1")throw Error(r(527,V1,"19.2.1"));B.findDOMNode=function(s){var l=s._reactInternals;if(l===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=f(l),s=s!==null?d(s):null,s=s===null?null:s.stateNode,s};var x_={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{hn=Wd.inject(x_),Vt=Wd}catch{}}return bc.createRoot=function(s,l){if(!i(s))throw Error(r(299));var c=!1,m="",g=QN,b=JN,I=eS;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=M1(s,1,!1,null,null,c,m,null,g,b,I,H1),s[el]=l.current,Sv(s),new $v(l)},bc.hydrateRoot=function(s,l,c){if(!i(s))throw Error(r(299));var m=!1,g="",b=QN,I=JN,Y=eS,ae=null;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(I=c.onCaughtError),c.onRecoverableError!==void 0&&(Y=c.onRecoverableError),c.formState!==void 0&&(ae=c.formState)),l=M1(s,1,!0,l,c??null,m,g,ae,b,I,Y,H1),l.context=I1(null),c=l.current,m=ja(),m=gs(m),g=As(m),g.callback=null,Es(c,g,m),c=m,l.current.lanes=c,xs(l,c),vr(l),s[el]=l.current,Sv(s),new Kd(l)},bc.version="19.2.1",bc}var tC;function E_(){if(tC)return Vv.exports;tC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(n){console.error(n)}}return t(),Vv.exports=A_(),Vv.exports}var D_=E_(),Em=v2();const O_=Sr(Em);function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},$c.apply(this,arguments)}var Ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ks||(Ks={}));const nC="popstate";function P_(t){t===void 0&&(t={});function n(r,i){let{pathname:o,search:u,hash:h}=r.location;return Rg("",{pathname:o,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function a(r,i){return typeof i=="string"?i:Eh(i)}return T_(n,a,null,t)}function Jt(t,n){if(t===!1||t===null||typeof t>"u")throw new Error(n)}function Hy(t,n){if(!t){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function k_(){return Math.random().toString(36).substr(2,8)}function aC(t,n){return{usr:t.state,key:t.key,idx:n}}function Rg(t,n,a,r){return a===void 0&&(a=null),$c({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof n=="string"?oo(n):n,{state:a,key:n&&n.key||r||k_()})}function Eh(t){let{pathname:n="/",search:a="",hash:r=""}=t;return a&&a!=="?"&&(n+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function oo(t){let n={};if(t){let a=t.indexOf("#");a>=0&&(n.hash=t.substr(a),t=t.substr(0,a));let r=t.indexOf("?");r>=0&&(n.search=t.substr(r),t=t.substr(0,r)),t&&(n.pathname=t)}return n}function T_(t,n,a,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,u=i.history,h=Ks.Pop,p=null,f=d();f==null&&(f=0,u.replaceState($c({},u.state,{idx:f}),""));function d(){return(u.state||{idx:null}).idx}function v(){h=Ks.Pop;let w=d(),O=w==null?null:w-f;f=w,p&&p({action:h,location:j.location,delta:O})}function y(w,O){h=Ks.Push;let S=Rg(j.location,w,O);f=d()+1;let E=aC(S,f),T=j.createHref(S);try{u.pushState(E,"",T)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(T)}o&&p&&p({action:h,location:j.location,delta:1})}function C(w,O){h=Ks.Replace;let S=Rg(j.location,w,O);f=d();let E=aC(S,f),T=j.createHref(S);u.replaceState(E,"",T),o&&p&&p({action:h,location:j.location,delta:0})}function N(w){let O=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof w=="string"?w:Eh(w);return S=S.replace(/ $/,"%20"),Jt(O,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,O)}let j={get action(){return h},get location(){return t(i,u)},listen(w){if(p)throw new Error("A history only accepts one active listener");return i.addEventListener(nC,v),p=w,()=>{i.removeEventListener(nC,v),p=null}},createHref(w){return n(i,w)},createURL:N,encodeLocation(w){let O=N(w);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:C,go(w){return u.go(w)}};return j}var rC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rC||(rC={}));function M_(t,n,a){return a===void 0&&(a="/"),I_(t,n,a)}function I_(t,n,a,r){let i=typeof n=="string"?oo(n):n,o=Vy(i.pathname||"/",a);if(o==null)return null;let u=x2(t);R_(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let f=G_(o);h=H_(u[p],f)}return h}function x2(t,n,a,r){n===void 0&&(n=[]),a===void 0&&(a=[]),r===void 0&&(r="");let i=(o,u,h)=>{let p={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};p.relativePath.startsWith("/")&&(Jt(p.relativePath.startsWith(r),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(r.length));let f=Ws([r,p.relativePath]),d=a.concat(p);o.children&&o.children.length>0&&(Jt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),x2(o.children,n,d,f)),!(o.path==null&&!o.index)&&n.push({path:f,score:$_(f,o.index),routesMeta:d})};return t.forEach((o,u)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))i(o,u);else for(let p of g2(o.path))i(o,u,p)}),n}function g2(t){let n=t.split("/");if(n.length===0)return[];let[a,...r]=n,i=a.endsWith("?"),o=a.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let u=g2(r.join("/")),h=[];return h.push(...u.map(p=>p===""?o:[o,p].join("/"))),i&&h.push(...u),h.map(p=>t.startsWith("/")&&p===""?"/":p)}function R_(t){t.sort((n,a)=>n.score!==a.score?a.score-n.score:q_(n.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const __=/^:[\w-]+$/,B_=3,L_=2,F_=1,z_=10,U_=-2,sC=t=>t==="*";function $_(t,n){let a=t.split("/"),r=a.length;return a.some(sC)&&(r+=U_),n&&(r+=L_),a.filter(i=>!sC(i)).reduce((i,o)=>i+(__.test(o)?B_:o===""?F_:z_),r)}function q_(t,n){return t.length===n.length&&t.slice(0,-1).every((r,i)=>r===n[i])?t[t.length-1]-n[n.length-1]:0}function H_(t,n,a){let{routesMeta:r}=t,i={},o="/",u=[];for(let h=0;h<r.length;++h){let p=r[h],f=h===r.length-1,d=o==="/"?n:n.slice(o.length)||"/",v=V_({path:p.relativePath,caseSensitive:p.caseSensitive,end:f},d),y=p.route;if(!v)return null;Object.assign(i,v.params),u.push({params:i,pathname:Ws([o,v.pathname]),pathnameBase:Q_(Ws([o,v.pathnameBase])),route:y}),v.pathnameBase!=="/"&&(o=Ws([o,v.pathnameBase]))}return u}function V_(t,n){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=Y_(t.path,t.caseSensitive,t.end),i=n.match(a);if(!i)return null;let o=i[0],u=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((f,d,v)=>{let{paramName:y,isOptional:C}=d;if(y==="*"){let j=h[v]||"";u=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const N=h[v];return C&&!N?f[y]=void 0:f[y]=(N||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:t}}function Y_(t,n,a){n===void 0&&(n=!1),a===void 0&&(a=!0),Hy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),r]}function G_(t){try{return t.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Hy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n+").")),t}}function Vy(t,n){if(n==="/")return t;if(!t.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}const K_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W_=t=>K_.test(t);function X_(t,n){n===void 0&&(n="/");let{pathname:a,search:r="",hash:i=""}=typeof t=="string"?oo(t):t,o;if(a)if(W_(a))o=a;else{if(a.includes("//")){let u=a;a=a.replace(/\/\/+/g,"/"),Hy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+a))}a.startsWith("/")?o=iC(a.substring(1),"/"):o=iC(a,n)}else o=n;return{pathname:o,search:J_(r),hash:e3(i)}}function iC(t,n){let a=n.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?a.length>1&&a.pop():i!=="."&&a.push(i)}),a.length>1?a.join("/"):"/"}function Wv(t,n,a,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z_(t){return t.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function Yy(t,n){let a=Z_(t);return n?a.map((r,i)=>i===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function Gy(t,n,a,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=oo(t):(i=$c({},t),Jt(!i.pathname||!i.pathname.includes("?"),Wv("?","pathname","search",i)),Jt(!i.pathname||!i.pathname.includes("#"),Wv("#","pathname","hash",i)),Jt(!i.search||!i.search.includes("#"),Wv("#","search","hash",i)));let o=t===""||i.pathname==="",u=o?"/":i.pathname,h;if(u==null)h=a;else{let v=n.length-1;if(!r&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;i.pathname=y.join("/")}h=v>=0?n[v]:"/"}let p=X_(i,h),f=u&&u!=="/"&&u.endsWith("/"),d=(o||u===".")&&a.endsWith("/");return!p.pathname.endsWith("/")&&(f||d)&&(p.pathname+="/"),p}const Ws=t=>t.join("/").replace(/\/\/+/g,"/"),Q_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),J_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,e3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function t3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y2=["post","put","patch","delete"];new Set(y2);const n3=["get",...y2];new Set(n3);function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},qc.apply(this,arguments)}const Ky=x.createContext(null),a3=x.createContext(null),ni=x.createContext(null),Dm=x.createContext(null),ai=x.createContext({outlet:null,matches:[],isDataRoute:!1}),j2=x.createContext(null);function r3(t,n){let{relative:a}=n===void 0?{}:n;co()||Jt(!1);let{basename:r,navigator:i}=x.useContext(ni),{hash:o,pathname:u,search:h}=N2(t,{relative:a}),p=u;return r!=="/"&&(p=u==="/"?r:Ws([r,u])),i.createHref({pathname:p,search:h,hash:o})}function co(){return x.useContext(Dm)!=null}function su(){return co()||Jt(!1),x.useContext(Dm).location}function b2(t){x.useContext(ni).static||x.useLayoutEffect(t)}function Om(){let{isDataRoute:t}=x.useContext(ai);return t?x3():s3()}function s3(){co()||Jt(!1);let t=x.useContext(Ky),{basename:n,future:a,navigator:r}=x.useContext(ni),{matches:i}=x.useContext(ai),{pathname:o}=su(),u=JSON.stringify(Yy(i,a.v7_relativeSplatPath)),h=x.useRef(!1);return b2(()=>{h.current=!0}),x.useCallback(function(f,d){if(d===void 0&&(d={}),!h.current)return;if(typeof f=="number"){r.go(f);return}let v=Gy(f,JSON.parse(u),o,d.relative==="path");t==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Ws([n,v.pathname])),(d.replace?r.replace:r.push)(v,d.state,d)},[n,r,u,o,t])}function N2(t,n){let{relative:a}=n===void 0?{}:n,{future:r}=x.useContext(ni),{matches:i}=x.useContext(ai),{pathname:o}=su(),u=JSON.stringify(Yy(i,r.v7_relativeSplatPath));return x.useMemo(()=>Gy(t,JSON.parse(u),o,a==="path"),[t,u,o,a])}function i3(t,n){return l3(t,n)}function l3(t,n,a,r){co()||Jt(!1);let{navigator:i}=x.useContext(ni),{matches:o}=x.useContext(ai),u=o[o.length-1],h=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let f=su(),d;if(n){var v;let w=typeof n=="string"?oo(n):n;p==="/"||(v=w.pathname)!=null&&v.startsWith(p)||Jt(!1),d=w}else d=f;let y=d.pathname||"/",C=y;if(p!=="/"){let w=p.replace(/^\//,"").split("/");C="/"+y.replace(/^\//,"").split("/").slice(w.length).join("/")}let N=M_(t,{pathname:C}),j=h3(N&&N.map(w=>Object.assign({},w,{params:Object.assign({},h,w.params),pathname:Ws([p,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?p:Ws([p,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,a,r);return n&&j?x.createElement(Dm.Provider,{value:{location:qc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ks.Pop}},j):j}function o3(){let t=v3(),n=t3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},n),a?x.createElement("pre",{style:i},a):null,null)}const c3=x.createElement(o3,null);class u3 extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,a){return a.location!==n.location||a.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:a.error,location:a.location,revalidation:n.revalidation||a.revalidation}}componentDidCatch(n,a){console.error("React Router caught the following error during render",n,a)}render(){return this.state.error!==void 0?x.createElement(ai.Provider,{value:this.props.routeContext},x.createElement(j2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function d3(t){let{routeContext:n,match:a,children:r}=t,i=x.useContext(Ky);return i&&i.static&&i.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=a.route.id),x.createElement(ai.Provider,{value:n},r)}function h3(t,n,a,r){var i;if(n===void 0&&(n=[]),a===void 0&&(a=null),r===void 0&&(r=null),t==null){var o;if(!a)return null;if(a.errors)t=a.matches;else if((o=r)!=null&&o.v7_partialHydration&&n.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let u=t,h=(i=a)==null?void 0:i.errors;if(h!=null){let d=u.findIndex(v=>v.route.id&&h?.[v.route.id]!==void 0);d>=0||Jt(!1),u=u.slice(0,Math.min(u.length,d+1))}let p=!1,f=-1;if(a&&r&&r.v7_partialHydration)for(let d=0;d<u.length;d++){let v=u[d];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(f=d),v.route.id){let{loaderData:y,errors:C}=a,N=v.route.loader&&y[v.route.id]===void 0&&(!C||C[v.route.id]===void 0);if(v.route.lazy||N){p=!0,f>=0?u=u.slice(0,f+1):u=[u[0]];break}}}return u.reduceRight((d,v,y)=>{let C,N=!1,j=null,w=null;a&&(C=h&&v.route.id?h[v.route.id]:void 0,j=v.route.errorElement||c3,p&&(f<0&&y===0?(g3("route-fallback"),N=!0,w=null):f===y&&(N=!0,w=v.route.hydrateFallbackElement||null)));let O=n.concat(u.slice(0,y+1)),S=()=>{let E;return C?E=j:N?E=w:v.route.Component?E=x.createElement(v.route.Component,null):v.route.element?E=v.route.element:E=d,x.createElement(d3,{match:v,routeContext:{outlet:d,matches:O,isDataRoute:a!=null},children:E})};return a&&(v.route.ErrorBoundary||v.route.errorElement||y===0)?x.createElement(u3,{location:a.location,revalidation:a.revalidation,component:j,error:C,children:S(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):S()},null)}var S2=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(S2||{}),C2=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(C2||{});function m3(t){let n=x.useContext(Ky);return n||Jt(!1),n}function f3(t){let n=x.useContext(a3);return n||Jt(!1),n}function p3(t){let n=x.useContext(ai);return n||Jt(!1),n}function w2(t){let n=p3(),a=n.matches[n.matches.length-1];return a.route.id||Jt(!1),a.route.id}function v3(){var t;let n=x.useContext(j2),a=f3(),r=w2();return n!==void 0?n:(t=a.errors)==null?void 0:t[r]}function x3(){let{router:t}=m3(S2.UseNavigateStable),n=w2(C2.UseNavigateStable),a=x.useRef(!1);return b2(()=>{a.current=!0}),x.useCallback(function(i,o){o===void 0&&(o={}),a.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qc({fromRouteId:n},o)))},[t,n])}const lC={};function g3(t,n,a){lC[t]||(lC[t]=!0)}function y3(t,n){t?.v7_startTransition,t?.v7_relativeSplatPath}function A2(t){let{to:n,replace:a,state:r,relative:i}=t;co()||Jt(!1);let{future:o,static:u}=x.useContext(ni),{matches:h}=x.useContext(ai),{pathname:p}=su(),f=Om(),d=Gy(n,Yy(h,o.v7_relativeSplatPath),p,i==="path"),v=JSON.stringify(d);return x.useEffect(()=>f(JSON.parse(v),{replace:a,state:r,relative:i}),[f,v,i,a,r]),null}function qe(t){Jt(!1)}function j3(t){let{basename:n="/",children:a=null,location:r,navigationType:i=Ks.Pop,navigator:o,static:u=!1,future:h}=t;co()&&Jt(!1);let p=n.replace(/^\/*/,"/"),f=x.useMemo(()=>({basename:p,navigator:o,static:u,future:qc({v7_relativeSplatPath:!1},h)}),[p,h,o,u]);typeof r=="string"&&(r=oo(r));let{pathname:d="/",search:v="",hash:y="",state:C=null,key:N="default"}=r,j=x.useMemo(()=>{let w=Vy(d,p);return w==null?null:{location:{pathname:w,search:v,hash:y,state:C,key:N},navigationType:i}},[p,d,v,y,C,N,i]);return j==null?null:x.createElement(ni.Provider,{value:f},x.createElement(Dm.Provider,{children:a,value:j}))}function b3(t){let{children:n,location:a}=t;return i3(_g(n),a)}new Promise(()=>{});function _g(t,n){n===void 0&&(n=[]);let a=[];return x.Children.forEach(t,(r,i)=>{if(!x.isValidElement(r))return;let o=[...n,i];if(r.type===x.Fragment){a.push.apply(a,_g(r.props.children,o));return}r.type!==qe&&Jt(!1),!r.props.index||!r.props.children||Jt(!1);let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=_g(r.props.children,o)),a.push(u)}),a}function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Bg.apply(this,arguments)}function N3(t,n){if(t==null)return{};var a={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(n.indexOf(i)>=0)&&(a[i]=t[i]);return a}function S3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function C3(t,n){return t.button===0&&(!n||n==="_self")&&!S3(t)}const w3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],A3="6";try{window.__reactRouterVersion=A3}catch{}const E3="startTransition",oC=p2[E3];function D3(t){let{basename:n,children:a,future:r,window:i}=t,o=x.useRef();o.current==null&&(o.current=P_({window:i,v5Compat:!0}));let u=o.current,[h,p]=x.useState({action:u.action,location:u.location}),{v7_startTransition:f}=r||{},d=x.useCallback(v=>{f&&oC?oC(()=>p(v)):p(v)},[p,f]);return x.useLayoutEffect(()=>u.listen(d),[u,d]),x.useEffect(()=>y3(r),[r]),x.createElement(j3,{basename:n,children:a,location:h.location,navigationType:h.action,navigator:u,future:r})}const O3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",P3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=x.forwardRef(function(n,a){let{onClick:r,relative:i,reloadDocument:o,replace:u,state:h,target:p,to:f,preventScrollReset:d,viewTransition:v}=n,y=N3(n,w3),{basename:C}=x.useContext(ni),N,j=!1;if(typeof f=="string"&&P3.test(f)&&(N=f,O3))try{let E=new URL(window.location.href),T=f.startsWith("//")?new URL(E.protocol+f):new URL(f),k=Vy(T.pathname,C);T.origin===E.origin&&k!=null?f=k+T.search+T.hash:j=!0}catch{}let w=r3(f,{relative:i}),O=k3(f,{replace:u,state:h,target:p,preventScrollReset:d,relative:i,viewTransition:v});function S(E){r&&r(E),E.defaultPrevented||O(E)}return x.createElement("a",Bg({},y,{href:N||w,onClick:j||o?r:S,ref:a,target:p}))});var cC;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cC||(cC={}));var uC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uC||(uC={}));function k3(t,n){let{target:a,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:h}=n===void 0?{}:n,p=Om(),f=su(),d=N2(t,{relative:u});return x.useCallback(v=>{if(C3(v,a)){v.preventDefault();let y=r!==void 0?r:Eh(f)===Eh(d);p(t,{replace:y,state:i,preventScrollReset:o,relative:u,viewTransition:h})}},[f,p,d,r,i,a,t,o,u,h])}function E2(t,n){return function(){return t.apply(n,arguments)}}const{toString:T3}=Object.prototype,{getPrototypeOf:Wy}=Object,{iterator:Pm,toStringTag:D2}=Symbol,km=(t=>n=>{const a=T3.call(n);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),dr=t=>(t=t.toLowerCase(),n=>km(n)===t),Tm=t=>n=>typeof n===t,{isArray:uo}=Array,Zl=Tm("undefined");function iu(t){return t!==null&&!Zl(t)&&t.constructor!==null&&!Zl(t.constructor)&&oa(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const O2=dr("ArrayBuffer");function M3(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&O2(t.buffer),n}const I3=Tm("string"),oa=Tm("function"),P2=Tm("number"),lu=t=>t!==null&&typeof t=="object",R3=t=>t===!0||t===!1,yh=t=>{if(km(t)!=="object")return!1;const n=Wy(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(D2 in t)&&!(Pm in t)},_3=t=>{if(!lu(t)||iu(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},B3=dr("Date"),L3=dr("File"),F3=dr("Blob"),z3=dr("FileList"),U3=t=>lu(t)&&oa(t.pipe),$3=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||oa(t.append)&&((n=km(t))==="formdata"||n==="object"&&oa(t.toString)&&t.toString()==="[object FormData]"))},q3=dr("URLSearchParams"),[H3,V3,Y3,G3]=["ReadableStream","Request","Response","Headers"].map(dr),K3=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ou(t,n,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),uo(t))for(r=0,i=t.length;r<i;r++)n.call(null,t[r],r,t);else{if(iu(t))return;const o=a?Object.getOwnPropertyNames(t):Object.keys(t),u=o.length;let h;for(r=0;r<u;r++)h=o[r],n.call(null,t[h],h,t)}}function k2(t,n){if(iu(t))return null;n=n.toLowerCase();const a=Object.keys(t);let r=a.length,i;for(;r-- >0;)if(i=a[r],n===i.toLowerCase())return i;return null}const ki=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,T2=t=>!Zl(t)&&t!==ki;function Lg(){const{caseless:t,skipUndefined:n}=T2(this)&&this||{},a={},r=(i,o)=>{const u=t&&k2(a,o)||o;yh(a[u])&&yh(i)?a[u]=Lg(a[u],i):yh(i)?a[u]=Lg({},i):uo(i)?a[u]=i.slice():(!n||!Zl(i))&&(a[u]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&ou(arguments[i],r);return a}const W3=(t,n,a,{allOwnKeys:r}={})=>(ou(n,(i,o)=>{a&&oa(i)?t[o]=E2(i,a):t[o]=i},{allOwnKeys:r}),t),X3=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Z3=(t,n,a,r)=>{t.prototype=Object.create(n.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),a&&Object.assign(t.prototype,a)},Q3=(t,n,a,r)=>{let i,o,u;const h={};if(n=n||{},t==null)return n;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)u=i[o],(!r||r(u,t,n))&&!h[u]&&(n[u]=t[u],h[u]=!0);t=a!==!1&&Wy(t)}while(t&&(!a||a(t,n))&&t!==Object.prototype);return n},J3=(t,n,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=n.length;const r=t.indexOf(n,a);return r!==-1&&r===a},eB=t=>{if(!t)return null;if(uo(t))return t;let n=t.length;if(!P2(n))return null;const a=new Array(n);for(;n-- >0;)a[n]=t[n];return a},tB=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&Wy(Uint8Array)),nB=(t,n)=>{const r=(t&&t[Pm]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;n.call(t,o[0],o[1])}},aB=(t,n)=>{let a;const r=[];for(;(a=t.exec(n))!==null;)r.push(a);return r},rB=dr("HTMLFormElement"),sB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,i){return r.toUpperCase()+i}),dC=(({hasOwnProperty:t})=>(n,a)=>t.call(n,a))(Object.prototype),iB=dr("RegExp"),M2=(t,n)=>{const a=Object.getOwnPropertyDescriptors(t),r={};ou(a,(i,o)=>{let u;(u=n(i,o,t))!==!1&&(r[o]=u||i)}),Object.defineProperties(t,r)},lB=t=>{M2(t,(n,a)=>{if(oa(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(oa(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},oB=(t,n)=>{const a={},r=i=>{i.forEach(o=>{a[o]=!0})};return uo(t)?r(t):r(String(t).split(n)),a},cB=()=>{},uB=(t,n)=>t!=null&&Number.isFinite(t=+t)?t:n;function dB(t){return!!(t&&oa(t.append)&&t[D2]==="FormData"&&t[Pm])}const hB=t=>{const n=new Array(10),a=(r,i)=>{if(lu(r)){if(n.indexOf(r)>=0)return;if(iu(r))return r;if(!("toJSON"in r)){n[i]=r;const o=uo(r)?[]:{};return ou(r,(u,h)=>{const p=a(u,i+1);!Zl(p)&&(o[h]=p)}),n[i]=void 0,o}}return r};return a(t,0)},mB=dr("AsyncFunction"),fB=t=>t&&(lu(t)||oa(t))&&oa(t.then)&&oa(t.catch),I2=((t,n)=>t?setImmediate:n?((a,r)=>(ki.addEventListener("message",({source:i,data:o})=>{i===ki&&o===a&&r.length&&r.shift()()},!1),i=>{r.push(i),ki.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",oa(ki.postMessage)),pB=typeof queueMicrotask<"u"?queueMicrotask.bind(ki):typeof process<"u"&&process.nextTick||I2,vB=t=>t!=null&&oa(t[Pm]),ye={isArray:uo,isArrayBuffer:O2,isBuffer:iu,isFormData:$3,isArrayBufferView:M3,isString:I3,isNumber:P2,isBoolean:R3,isObject:lu,isPlainObject:yh,isEmptyObject:_3,isReadableStream:H3,isRequest:V3,isResponse:Y3,isHeaders:G3,isUndefined:Zl,isDate:B3,isFile:L3,isBlob:F3,isRegExp:iB,isFunction:oa,isStream:U3,isURLSearchParams:q3,isTypedArray:tB,isFileList:z3,forEach:ou,merge:Lg,extend:W3,trim:K3,stripBOM:X3,inherits:Z3,toFlatObject:Q3,kindOf:km,kindOfTest:dr,endsWith:J3,toArray:eB,forEachEntry:nB,matchAll:aB,isHTMLForm:rB,hasOwnProperty:dC,hasOwnProp:dC,reduceDescriptors:M2,freezeMethods:lB,toObjectSet:oB,toCamelCase:sB,noop:cB,toFiniteNumber:uB,findKey:k2,global:ki,isContextDefined:T2,isSpecCompliantForm:dB,toJSONObject:hB,isAsyncFn:mB,isThenable:fB,setImmediate:I2,asap:pB,isIterable:vB};function Xe(t,n,a,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),a&&(this.config=a),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ye.inherits(Xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const R2=Xe.prototype,_2={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{_2[t]={value:t}});Object.defineProperties(Xe,_2);Object.defineProperty(R2,"isAxiosError",{value:!0});Xe.from=(t,n,a,r,i,o)=>{const u=Object.create(R2);ye.toFlatObject(t,u,function(d){return d!==Error.prototype},f=>f!=="isAxiosError");const h=t&&t.message?t.message:"Error",p=n==null&&t?t.code:n;return Xe.call(u,h,p,a,r,i),t&&u.cause==null&&Object.defineProperty(u,"cause",{value:t,configurable:!0}),u.name=t&&t.name||"Error",o&&Object.assign(u,o),u};const xB=null;function Fg(t){return ye.isPlainObject(t)||ye.isArray(t)}function B2(t){return ye.endsWith(t,"[]")?t.slice(0,-2):t}function hC(t,n,a){return t?t.concat(n).map(function(i,o){return i=B2(i),!a&&o?"["+i+"]":i}).join(a?".":""):n}function gB(t){return ye.isArray(t)&&!t.some(Fg)}const yB=ye.toFlatObject(ye,{},null,function(n){return/^is[A-Z]/.test(n)});function Mm(t,n,a){if(!ye.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,a=ye.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,w){return!ye.isUndefined(w[j])});const r=a.metaTokens,i=a.visitor||d,o=a.dots,u=a.indexes,p=(a.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(n);if(!ye.isFunction(i))throw new TypeError("visitor must be a function");function f(N){if(N===null)return"";if(ye.isDate(N))return N.toISOString();if(ye.isBoolean(N))return N.toString();if(!p&&ye.isBlob(N))throw new Xe("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(N)||ye.isTypedArray(N)?p&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function d(N,j,w){let O=N;if(N&&!w&&typeof N=="object"){if(ye.endsWith(j,"{}"))j=r?j:j.slice(0,-2),N=JSON.stringify(N);else if(ye.isArray(N)&&gB(N)||(ye.isFileList(N)||ye.endsWith(j,"[]"))&&(O=ye.toArray(N)))return j=B2(j),O.forEach(function(E,T){!(ye.isUndefined(E)||E===null)&&n.append(u===!0?hC([j],T,o):u===null?j:j+"[]",f(E))}),!1}return Fg(N)?!0:(n.append(hC(w,j,o),f(N)),!1)}const v=[],y=Object.assign(yB,{defaultVisitor:d,convertValue:f,isVisitable:Fg});function C(N,j){if(!ye.isUndefined(N)){if(v.indexOf(N)!==-1)throw Error("Circular reference detected in "+j.join("."));v.push(N),ye.forEach(N,function(O,S){(!(ye.isUndefined(O)||O===null)&&i.call(n,O,ye.isString(S)?S.trim():S,j,y))===!0&&C(O,j?j.concat(S):[S])}),v.pop()}}if(!ye.isObject(t))throw new TypeError("data must be an object");return C(t),n}function mC(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function Xy(t,n){this._pairs=[],t&&Mm(t,this,n)}const L2=Xy.prototype;L2.append=function(n,a){this._pairs.push([n,a])};L2.toString=function(n){const a=n?function(r){return n.call(this,r,mC)}:mC;return this._pairs.map(function(i){return a(i[0])+"="+a(i[1])},"").join("&")};function jB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function F2(t,n,a){if(!n)return t;const r=a&&a.encode||jB;ye.isFunction(a)&&(a={serialize:a});const i=a&&a.serialize;let o;if(i?o=i(n,a):o=ye.isURLSearchParams(n)?n.toString():new Xy(n,a).toString(r),o){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class fC{constructor(){this.handlers=[]}use(n,a,r){return this.handlers.push({fulfilled:n,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){ye.forEach(this.handlers,function(r){r!==null&&n(r)})}}const z2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},bB=typeof URLSearchParams<"u"?URLSearchParams:Xy,NB=typeof FormData<"u"?FormData:null,SB=typeof Blob<"u"?Blob:null,CB={isBrowser:!0,classes:{URLSearchParams:bB,FormData:NB,Blob:SB},protocols:["http","https","file","blob","url","data"]},Zy=typeof window<"u"&&typeof document<"u",zg=typeof navigator=="object"&&navigator||void 0,wB=Zy&&(!zg||["ReactNative","NativeScript","NS"].indexOf(zg.product)<0),AB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EB=Zy&&window.location.href||"http://localhost",DB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zy,hasStandardBrowserEnv:wB,hasStandardBrowserWebWorkerEnv:AB,navigator:zg,origin:EB},Symbol.toStringTag,{value:"Module"})),$n={...DB,...CB};function OB(t,n){return Mm(t,new $n.classes.URLSearchParams,{visitor:function(a,r,i,o){return $n.isNode&&ye.isBuffer(a)?(this.append(r,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...n})}function PB(t){return ye.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function kB(t){const n={},a=Object.keys(t);let r;const i=a.length;let o;for(r=0;r<i;r++)o=a[r],n[o]=t[o];return n}function U2(t){function n(a,r,i,o){let u=a[o++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),p=o>=a.length;return u=!u&&ye.isArray(i)?i.length:u,p?(ye.hasOwnProp(i,u)?i[u]=[i[u],r]:i[u]=r,!h):((!i[u]||!ye.isObject(i[u]))&&(i[u]=[]),n(a,r,i[u],o)&&ye.isArray(i[u])&&(i[u]=kB(i[u])),!h)}if(ye.isFormData(t)&&ye.isFunction(t.entries)){const a={};return ye.forEachEntry(t,(r,i)=>{n(PB(r),i,a,0)}),a}return null}function TB(t,n,a){if(ye.isString(t))try{return(n||JSON.parse)(t),ye.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const cu={transitional:z2,adapter:["xhr","http","fetch"],transformRequest:[function(n,a){const r=a.getContentType()||"",i=r.indexOf("application/json")>-1,o=ye.isObject(n);if(o&&ye.isHTMLForm(n)&&(n=new FormData(n)),ye.isFormData(n))return i?JSON.stringify(U2(n)):n;if(ye.isArrayBuffer(n)||ye.isBuffer(n)||ye.isStream(n)||ye.isFile(n)||ye.isBlob(n)||ye.isReadableStream(n))return n;if(ye.isArrayBufferView(n))return n.buffer;if(ye.isURLSearchParams(n))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return OB(n,this.formSerializer).toString();if((h=ye.isFileList(n))||r.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Mm(h?{"files[]":n}:n,p&&new p,this.formSerializer)}}return o||i?(a.setContentType("application/json",!1),TB(n)):n}],transformResponse:[function(n){const a=this.transitional||cu.transitional,r=a&&a.forcedJSONParsing,i=this.responseType==="json";if(ye.isResponse(n)||ye.isReadableStream(n))return n;if(n&&ye.isString(n)&&(r&&!this.responseType||i)){const u=!(a&&a.silentJSONParsing)&&i;try{return JSON.parse(n,this.parseReviver)}catch(h){if(u)throw h.name==="SyntaxError"?Xe.from(h,Xe.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],t=>{cu.headers[t]={}});const MB=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IB=t=>{const n={};let a,r,i;return t&&t.split(`
`).forEach(function(u){i=u.indexOf(":"),a=u.substring(0,i).trim().toLowerCase(),r=u.substring(i+1).trim(),!(!a||n[a]&&MB[a])&&(a==="set-cookie"?n[a]?n[a].push(r):n[a]=[r]:n[a]=n[a]?n[a]+", "+r:r)}),n},pC=Symbol("internals");function Nc(t){return t&&String(t).trim().toLowerCase()}function jh(t){return t===!1||t==null?t:ye.isArray(t)?t.map(jh):String(t)}function RB(t){const n=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)n[r[1]]=r[2];return n}const _B=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Xv(t,n,a,r,i){if(ye.isFunction(r))return r.call(this,n,a);if(i&&(n=a),!!ye.isString(n)){if(ye.isString(r))return n.indexOf(r)!==-1;if(ye.isRegExp(r))return r.test(n)}}function BB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,a,r)=>a.toUpperCase()+r)}function LB(t,n){const a=ye.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(i,o,u){return this[r].call(this,n,i,o,u)},configurable:!0})})}let ca=class{constructor(n){n&&this.set(n)}set(n,a,r){const i=this;function o(h,p,f){const d=Nc(p);if(!d)throw new Error("header name must be a non-empty string");const v=ye.findKey(i,d);(!v||i[v]===void 0||f===!0||f===void 0&&i[v]!==!1)&&(i[v||p]=jh(h))}const u=(h,p)=>ye.forEach(h,(f,d)=>o(f,d,p));if(ye.isPlainObject(n)||n instanceof this.constructor)u(n,a);else if(ye.isString(n)&&(n=n.trim())&&!_B(n))u(IB(n),a);else if(ye.isObject(n)&&ye.isIterable(n)){let h={},p,f;for(const d of n){if(!ye.isArray(d))throw TypeError("Object iterator must return a key-value pair");h[f=d[0]]=(p=h[f])?ye.isArray(p)?[...p,d[1]]:[p,d[1]]:d[1]}u(h,a)}else n!=null&&o(a,n,r);return this}get(n,a){if(n=Nc(n),n){const r=ye.findKey(this,n);if(r){const i=this[r];if(!a)return i;if(a===!0)return RB(i);if(ye.isFunction(a))return a.call(this,i,r);if(ye.isRegExp(a))return a.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,a){if(n=Nc(n),n){const r=ye.findKey(this,n);return!!(r&&this[r]!==void 0&&(!a||Xv(this,this[r],r,a)))}return!1}delete(n,a){const r=this;let i=!1;function o(u){if(u=Nc(u),u){const h=ye.findKey(r,u);h&&(!a||Xv(r,r[h],h,a))&&(delete r[h],i=!0)}}return ye.isArray(n)?n.forEach(o):o(n),i}clear(n){const a=Object.keys(this);let r=a.length,i=!1;for(;r--;){const o=a[r];(!n||Xv(this,this[o],o,n,!0))&&(delete this[o],i=!0)}return i}normalize(n){const a=this,r={};return ye.forEach(this,(i,o)=>{const u=ye.findKey(r,o);if(u){a[u]=jh(i),delete a[o];return}const h=n?BB(o):String(o).trim();h!==o&&delete a[o],a[h]=jh(i),r[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const a=Object.create(null);return ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(a[i]=n&&ye.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,a])=>n+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...a){const r=new this(n);return a.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[pC]=this[pC]={accessors:{}}).accessors,i=this.prototype;function o(u){const h=Nc(u);r[h]||(LB(i,u),r[h]=!0)}return ye.isArray(n)?n.forEach(o):o(n),this}};ca.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(ca.prototype,({value:t},n)=>{let a=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(r){this[a]=r}}});ye.freezeMethods(ca);function Zv(t,n){const a=this||cu,r=n||a,i=ca.from(r.headers);let o=r.data;return ye.forEach(t,function(h){o=h.call(a,o,i.normalize(),n?n.status:void 0)}),i.normalize(),o}function $2(t){return!!(t&&t.__CANCEL__)}function ho(t,n,a){Xe.call(this,t??"canceled",Xe.ERR_CANCELED,n,a),this.name="CanceledError"}ye.inherits(ho,Xe,{__CANCEL__:!0});function q2(t,n,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):n(new Xe("Request failed with status code "+a.status,[Xe.ERR_BAD_REQUEST,Xe.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function FB(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function zB(t,n){t=t||10;const a=new Array(t),r=new Array(t);let i=0,o=0,u;return n=n!==void 0?n:1e3,function(p){const f=Date.now(),d=r[o];u||(u=f),a[i]=p,r[i]=f;let v=o,y=0;for(;v!==i;)y+=a[v++],v=v%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),f-u<n)return;const C=d&&f-d;return C?Math.round(y*1e3/C):void 0}}function UB(t,n){let a=0,r=1e3/n,i,o;const u=(f,d=Date.now())=>{a=d,i=null,o&&(clearTimeout(o),o=null),t(...f)};return[(...f)=>{const d=Date.now(),v=d-a;v>=r?u(f,d):(i=f,o||(o=setTimeout(()=>{o=null,u(i)},r-v)))},()=>i&&u(i)]}const Dh=(t,n,a=3)=>{let r=0;const i=zB(50,250);return UB(o=>{const u=o.loaded,h=o.lengthComputable?o.total:void 0,p=u-r,f=i(p),d=u<=h;r=u;const v={loaded:u,total:h,progress:h?u/h:void 0,bytes:p,rate:f||void 0,estimated:f&&h&&d?(h-u)/f:void 0,event:o,lengthComputable:h!=null,[n?"download":"upload"]:!0};t(v)},a)},vC=(t,n)=>{const a=t!=null;return[r=>n[0]({lengthComputable:a,total:t,loaded:r}),n[1]]},xC=t=>(...n)=>ye.asap(()=>t(...n)),$B=$n.hasStandardBrowserEnv?((t,n)=>a=>(a=new URL(a,$n.origin),t.protocol===a.protocol&&t.host===a.host&&(n||t.port===a.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,qB=$n.hasStandardBrowserEnv?{write(t,n,a,r,i,o,u){if(typeof document>"u")return;const h=[`${t}=${encodeURIComponent(n)}`];ye.isNumber(a)&&h.push(`expires=${new Date(a).toUTCString()}`),ye.isString(r)&&h.push(`path=${r}`),ye.isString(i)&&h.push(`domain=${i}`),o===!0&&h.push("secure"),ye.isString(u)&&h.push(`SameSite=${u}`),document.cookie=h.join("; ")},read(t){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function HB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function VB(t,n){return n?t.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):t}function H2(t,n,a){let r=!HB(n);return t&&(r||a==!1)?VB(t,n):n}const gC=t=>t instanceof ca?{...t}:t;function Ui(t,n){n=n||{};const a={};function r(f,d,v,y){return ye.isPlainObject(f)&&ye.isPlainObject(d)?ye.merge.call({caseless:y},f,d):ye.isPlainObject(d)?ye.merge({},d):ye.isArray(d)?d.slice():d}function i(f,d,v,y){if(ye.isUndefined(d)){if(!ye.isUndefined(f))return r(void 0,f,v,y)}else return r(f,d,v,y)}function o(f,d){if(!ye.isUndefined(d))return r(void 0,d)}function u(f,d){if(ye.isUndefined(d)){if(!ye.isUndefined(f))return r(void 0,f)}else return r(void 0,d)}function h(f,d,v){if(v in n)return r(f,d);if(v in t)return r(void 0,f)}const p={url:o,method:o,data:o,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(f,d,v)=>i(gC(f),gC(d),v,!0)};return ye.forEach(Object.keys({...t,...n}),function(d){const v=p[d]||i,y=v(t[d],n[d],d);ye.isUndefined(y)&&v!==h||(a[d]=y)}),a}const V2=t=>{const n=Ui({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:u,auth:h}=n;if(n.headers=u=ca.from(u),n.url=F2(H2(n.baseURL,n.url,n.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),ye.isFormData(a)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(ye.isFunction(a.getHeaders)){const p=a.getHeaders(),f=["content-type","content-length"];Object.entries(p).forEach(([d,v])=>{f.includes(d.toLowerCase())&&u.set(d,v)})}}if($n.hasStandardBrowserEnv&&(r&&ye.isFunction(r)&&(r=r(n)),r||r!==!1&&$B(n.url))){const p=i&&o&&qB.read(o);p&&u.set(i,p)}return n},YB=typeof XMLHttpRequest<"u",GB=YB&&function(t){return new Promise(function(a,r){const i=V2(t);let o=i.data;const u=ca.from(i.headers).normalize();let{responseType:h,onUploadProgress:p,onDownloadProgress:f}=i,d,v,y,C,N;function j(){C&&C(),N&&N(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function O(){if(!w)return;const E=ca.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),k={data:!h||h==="text"||h==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:E,config:t,request:w};q2(function(P){a(P),j()},function(P){r(P),j()},k),w=null}"onloadend"in w?w.onloadend=O:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(O)},w.onabort=function(){w&&(r(new Xe("Request aborted",Xe.ECONNABORTED,t,w)),w=null)},w.onerror=function(T){const k=T&&T.message?T.message:"Network Error",F=new Xe(k,Xe.ERR_NETWORK,t,w);F.event=T||null,r(F),w=null},w.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||z2;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),r(new Xe(T,k.clarifyTimeoutError?Xe.ETIMEDOUT:Xe.ECONNABORTED,t,w)),w=null},o===void 0&&u.setContentType(null),"setRequestHeader"in w&&ye.forEach(u.toJSON(),function(T,k){w.setRequestHeader(k,T)}),ye.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),h&&h!=="json"&&(w.responseType=i.responseType),f&&([y,N]=Dh(f,!0),w.addEventListener("progress",y)),p&&w.upload&&([v,C]=Dh(p),w.upload.addEventListener("progress",v),w.upload.addEventListener("loadend",C)),(i.cancelToken||i.signal)&&(d=E=>{w&&(r(!E||E.type?new ho(null,t,w):E),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const S=FB(i.url);if(S&&$n.protocols.indexOf(S)===-1){r(new Xe("Unsupported protocol "+S+":",Xe.ERR_BAD_REQUEST,t));return}w.send(o||null)})},KB=(t,n)=>{const{length:a}=t=t?t.filter(Boolean):[];if(n||a){let r=new AbortController,i;const o=function(f){if(!i){i=!0,h();const d=f instanceof Error?f:this.reason;r.abort(d instanceof Xe?d:new ho(d instanceof Error?d.message:d))}};let u=n&&setTimeout(()=>{u=null,o(new Xe(`timeout ${n} of ms exceeded`,Xe.ETIMEDOUT))},n);const h=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),t=null)};t.forEach(f=>f.addEventListener("abort",o));const{signal:p}=r;return p.unsubscribe=()=>ye.asap(h),p}},WB=function*(t,n){let a=t.byteLength;if(a<n){yield t;return}let r=0,i;for(;r<a;)i=r+n,yield t.slice(r,i),r=i},XB=async function*(t,n){for await(const a of ZB(t))yield*WB(a,n)},ZB=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const n=t.getReader();try{for(;;){const{done:a,value:r}=await n.read();if(a)break;yield r}}finally{await n.cancel()}},yC=(t,n,a,r)=>{const i=XB(t,n);let o=0,u,h=p=>{u||(u=!0,r&&r(p))};return new ReadableStream({async pull(p){try{const{done:f,value:d}=await i.next();if(f){h(),p.close();return}let v=d.byteLength;if(a){let y=o+=v;a(y)}p.enqueue(new Uint8Array(d))}catch(f){throw h(f),f}},cancel(p){return h(p),i.return()}},{highWaterMark:2})},jC=64*1024,{isFunction:Xd}=ye,QB=(({Request:t,Response:n})=>({Request:t,Response:n}))(ye.global),{ReadableStream:bC,TextEncoder:NC}=ye.global,SC=(t,...n)=>{try{return!!t(...n)}catch{return!1}},JB=t=>{t=ye.merge.call({skipUndefined:!0},QB,t);const{fetch:n,Request:a,Response:r}=t,i=n?Xd(n):typeof fetch=="function",o=Xd(a),u=Xd(r);if(!i)return!1;const h=i&&Xd(bC),p=i&&(typeof NC=="function"?(N=>j=>N.encode(j))(new NC):async N=>new Uint8Array(await new a(N).arrayBuffer())),f=o&&h&&SC(()=>{let N=!1;const j=new a($n.origin,{body:new bC,method:"POST",get duplex(){return N=!0,"half"}}).headers.has("Content-Type");return N&&!j}),d=u&&h&&SC(()=>ye.isReadableStream(new r("").body)),v={stream:d&&(N=>N.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(N=>{!v[N]&&(v[N]=(j,w)=>{let O=j&&j[N];if(O)return O.call(j);throw new Xe(`Response type '${N}' is not supported`,Xe.ERR_NOT_SUPPORT,w)})});const y=async N=>{if(N==null)return 0;if(ye.isBlob(N))return N.size;if(ye.isSpecCompliantForm(N))return(await new a($n.origin,{method:"POST",body:N}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(N)||ye.isArrayBuffer(N))return N.byteLength;if(ye.isURLSearchParams(N)&&(N=N+""),ye.isString(N))return(await p(N)).byteLength},C=async(N,j)=>{const w=ye.toFiniteNumber(N.getContentLength());return w??y(j)};return async N=>{let{url:j,method:w,data:O,signal:S,cancelToken:E,timeout:T,onDownloadProgress:k,onUploadProgress:F,responseType:P,headers:W,withCredentials:R="same-origin",fetchOptions:U}=V2(N),J=n||fetch;P=P?(P+"").toLowerCase():"text";let se=KB([S,E&&E.toAbortSignal()],T),X=null;const le=se&&se.unsubscribe&&(()=>{se.unsubscribe()});let G;try{if(F&&f&&w!=="get"&&w!=="head"&&(G=await C(W,O))!==0){let _=new a(j,{method:"POST",body:O,duplex:"half"}),z;if(ye.isFormData(O)&&(z=_.headers.get("content-type"))&&W.setContentType(z),_.body){const[L,$]=vC(G,Dh(xC(F)));O=yC(_.body,jC,L,$)}}ye.isString(R)||(R=R?"include":"omit");const M=o&&"credentials"in a.prototype,B={...U,signal:se,method:w.toUpperCase(),headers:W.normalize().toJSON(),body:O,duplex:"half",credentials:M?R:void 0};X=o&&new a(j,B);let re=await(o?J(X,U):J(j,B));const Z=d&&(P==="stream"||P==="response");if(d&&(k||Z&&le)){const _={};["status","statusText","headers"].forEach(q=>{_[q]=re[q]});const z=ye.toFiniteNumber(re.headers.get("content-length")),[L,$]=k&&vC(z,Dh(xC(k),!0))||[];re=new r(yC(re.body,jC,L,()=>{$&&$(),le&&le()}),_)}P=P||"text";let te=await v[ye.findKey(v,P)||"text"](re,N);return!Z&&le&&le(),await new Promise((_,z)=>{q2(_,z,{data:te,headers:ca.from(re.headers),status:re.status,statusText:re.statusText,config:N,request:X})})}catch(M){throw le&&le(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new Xe("Network Error",Xe.ERR_NETWORK,N,X),{cause:M.cause||M}):Xe.from(M,M&&M.code,N,X)}}},eL=new Map,Y2=t=>{let n=t&&t.env||{};const{fetch:a,Request:r,Response:i}=n,o=[r,i,a];let u=o.length,h=u,p,f,d=eL;for(;h--;)p=o[h],f=d.get(p),f===void 0&&d.set(p,f=h?new Map:JB(n)),d=f;return f};Y2();const Qy={http:xB,xhr:GB,fetch:{get:Y2}};ye.forEach(Qy,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const CC=t=>`- ${t}`,tL=t=>ye.isFunction(t)||t===null||t===!1;function nL(t,n){t=ye.isArray(t)?t:[t];const{length:a}=t;let r,i;const o={};for(let u=0;u<a;u++){r=t[u];let h;if(i=r,!tL(r)&&(i=Qy[(h=String(r)).toLowerCase()],i===void 0))throw new Xe(`Unknown adapter '${h}'`);if(i&&(ye.isFunction(i)||(i=i.get(n))))break;o[h||"#"+u]=i}if(!i){const u=Object.entries(o).map(([p,f])=>`adapter ${p} `+(f===!1?"is not supported by the environment":"is not available in the build"));let h=a?u.length>1?`since :
`+u.map(CC).join(`
`):" "+CC(u[0]):"as no adapter specified";throw new Xe("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i}const G2={getAdapter:nL,adapters:Qy};function Qv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ho(null,t)}function wC(t){return Qv(t),t.headers=ca.from(t.headers),t.data=Zv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),G2.getAdapter(t.adapter||cu.adapter,t)(t).then(function(r){return Qv(t),r.data=Zv.call(t,t.transformResponse,r),r.headers=ca.from(r.headers),r},function(r){return $2(r)||(Qv(t),r&&r.response&&(r.response.data=Zv.call(t,t.transformResponse,r.response),r.response.headers=ca.from(r.response.headers))),Promise.reject(r)})}const K2="1.13.2",Im={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{Im[t]=function(r){return typeof r===t||"a"+(n<1?"n ":" ")+t}});const AC={};Im.transitional=function(n,a,r){function i(o,u){return"[Axios v"+K2+"] Transitional option '"+o+"'"+u+(r?". "+r:"")}return(o,u,h)=>{if(n===!1)throw new Xe(i(u," has been removed"+(a?" in "+a:"")),Xe.ERR_DEPRECATED);return a&&!AC[u]&&(AC[u]=!0,console.warn(i(u," has been deprecated since v"+a+" and will be removed in the near future"))),n?n(o,u,h):!0}};Im.spelling=function(n){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${n}`),!0)};function aL(t,n,a){if(typeof t!="object")throw new Xe("options must be an object",Xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],u=n[o];if(u){const h=t[o],p=h===void 0||u(h,o,t);if(p!==!0)throw new Xe("option "+o+" must be "+p,Xe.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Xe("Unknown option "+o,Xe.ERR_BAD_OPTION)}}const bh={assertOptions:aL,validators:Im},xr=bh.validators;let Ri=class{constructor(n){this.defaults=n||{},this.interceptors={request:new fC,response:new fC}}async request(n,a){try{return await this._request(n,a)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(n,a){typeof n=="string"?(a=a||{},a.url=n):a=n||{},a=Ui(this.defaults,a);const{transitional:r,paramsSerializer:i,headers:o}=a;r!==void 0&&bh.assertOptions(r,{silentJSONParsing:xr.transitional(xr.boolean),forcedJSONParsing:xr.transitional(xr.boolean),clarifyTimeoutError:xr.transitional(xr.boolean)},!1),i!=null&&(ye.isFunction(i)?a.paramsSerializer={serialize:i}:bh.assertOptions(i,{encode:xr.function,serialize:xr.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),bh.assertOptions(a,{baseUrl:xr.spelling("baseURL"),withXsrfToken:xr.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let u=o&&ye.merge(o.common,o[a.method]);o&&ye.forEach(["delete","get","head","post","put","patch","common"],N=>{delete o[N]}),a.headers=ca.concat(u,o);const h=[];let p=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(a)===!1||(p=p&&j.synchronous,h.unshift(j.fulfilled,j.rejected))});const f=[];this.interceptors.response.forEach(function(j){f.push(j.fulfilled,j.rejected)});let d,v=0,y;if(!p){const N=[wC.bind(this),void 0];for(N.unshift(...h),N.push(...f),y=N.length,d=Promise.resolve(a);v<y;)d=d.then(N[v++],N[v++]);return d}y=h.length;let C=a;for(;v<y;){const N=h[v++],j=h[v++];try{C=N(C)}catch(w){j.call(this,w);break}}try{d=wC.call(this,C)}catch(N){return Promise.reject(N)}for(v=0,y=f.length;v<y;)d=d.then(f[v++],f[v++]);return d}getUri(n){n=Ui(this.defaults,n);const a=H2(n.baseURL,n.url,n.allowAbsoluteUrls);return F2(a,n.params,n.paramsSerializer)}};ye.forEach(["delete","get","head","options"],function(n){Ri.prototype[n]=function(a,r){return this.request(Ui(r||{},{method:n,url:a,data:(r||{}).data}))}});ye.forEach(["post","put","patch"],function(n){function a(r){return function(o,u,h){return this.request(Ui(h||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:u}))}}Ri.prototype[n]=a(),Ri.prototype[n+"Form"]=a(!0)});let rL=class W2{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const u=new Promise(h=>{r.subscribe(h),o=h}).then(i);return u.cancel=function(){r.unsubscribe(o)},u},n(function(o,u,h){r.reason||(r.reason=new ho(o,u,h),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const a=this._listeners.indexOf(n);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const n=new AbortController,a=r=>{n.abort(r)};return this.subscribe(a),n.signal.unsubscribe=()=>this.unsubscribe(a),n.signal}static source(){let n;return{token:new W2(function(i){n=i}),cancel:n}}};function sL(t){return function(a){return t.apply(null,a)}}function iL(t){return ye.isObject(t)&&t.isAxiosError===!0}const Ug={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ug).forEach(([t,n])=>{Ug[n]=t});function X2(t){const n=new Ri(t),a=E2(Ri.prototype.request,n);return ye.extend(a,Ri.prototype,n,{allOwnKeys:!0}),ye.extend(a,n,null,{allOwnKeys:!0}),a.create=function(i){return X2(Ui(t,i))},a}const Wt=X2(cu);Wt.Axios=Ri;Wt.CanceledError=ho;Wt.CancelToken=rL;Wt.isCancel=$2;Wt.VERSION=K2;Wt.toFormData=Mm;Wt.AxiosError=Xe;Wt.Cancel=Wt.CanceledError;Wt.all=function(n){return Promise.all(n)};Wt.spread=sL;Wt.isAxiosError=iL;Wt.mergeConfig=Ui;Wt.AxiosHeaders=ca;Wt.formToJSON=t=>U2(ye.isHTMLForm(t)?new FormData(t):t);Wt.getAdapter=G2.getAdapter;Wt.HttpStatusCode=Ug;Wt.default=Wt;const{Axios:nJ,AxiosError:aJ,CanceledError:rJ,isCancel:sJ,CancelToken:iJ,VERSION:lJ,all:oJ,Cancel:cJ,isAxiosError:uJ,spread:dJ,toFormData:hJ,AxiosHeaders:mJ,HttpStatusCode:fJ,formToJSON:pJ,getAdapter:vJ,mergeConfig:xJ}=Wt,lL="https://finance-qr54.onrender.com/api",oe=Wt.create({baseURL:lL});oe.interceptors.request.use(t=>{const n=localStorage.getItem("token");return n&&(t.headers.Authorization=`Bearer ${n}`),t},t=>Promise.reject(t));const Jv={login:t=>oe.post("/auth/login",t),register:t=>oe.post("/auth/register",t),getCurrentUser:()=>oe.get("/auth/me")},Z2=x.createContext(),Rm=()=>{const t=x.useContext(Z2);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},oL=({children:t})=>{const[n,a]=x.useState(null),[r,i]=x.useState(!0);x.useEffect(()=>{localStorage.getItem("token")?Jv.getCurrentUser().then(d=>{a(d.data.user)}).catch(()=>{localStorage.removeItem("token")}).finally(()=>{i(!1)}):i(!1)},[]);const p={user:n,login:async f=>{try{const d=await Jv.login(f);return localStorage.setItem("token",d.data.token),a(d.data.user),{success:!0}}catch(d){return{success:!1,message:d.response?.data?.message||"Login failed"}}},register:async f=>{try{const d=await Jv.register(f);return localStorage.setItem("token",d.data.token),a(d.data.user),{success:!0}}catch(d){return{success:!1,message:d.response?.data?.message||"Registration failed"}}},logout:()=>{localStorage.removeItem("token"),a(null)},loading:r,isAuthenticated:!!n};return e.jsx(Z2.Provider,{value:p,children:t})},Ve=({children:t})=>{const{isAuthenticated:n,loading:a}=Rm();return a?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:"Loading..."}):n?t:e.jsx(A2,{to:"/login"})},cL=()=>{const[t,n]=x.useState(!1),[a,r]=x.useState(!1),[i,o]=x.useState(!1),[u,h]=x.useState(!1),[p,f]=x.useState(!1),[d,v]=x.useState(!1),[y,C]=x.useState(!1),{logout:N}=Rm(),j=Om(),w=()=>{N(),j("/login")};return e.jsxs("div",{className:"sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsx("h2",{children:"Finance App"})}),e.jsxs("nav",{className:"sidebar-nav",children:[e.jsx(Be,{to:"/dashboard",className:"nav-item",children:"Dashboard"}),e.jsx(Be,{to:"/family-profile",className:"nav-item",children:"Family Profile"}),e.jsx(Be,{to:"/company-profile",className:"nav-item",children:"Company Profile"}),e.jsxs("div",{className:"nav-section",children:[e.jsx("div",{className:`nav-item nav-header ${t?"active":""}`,onClick:()=>n(!t),children:"Family"}),t&&e.jsxs("div",{className:"submenu",children:[e.jsxs("div",{className:"nav-subsection",children:[e.jsx("div",{className:`submenu-item nav-header ${p?"active":""}`,onClick:()=>f(!p),children:"Daily"}),p&&e.jsxs("div",{className:"nested-submenu",children:[e.jsx(Be,{to:"/family/daily/cash-cards-bank",className:"nested-submenu-item",children:"Cash, Cards & Bank Transactions"}),e.jsx(Be,{to:"/family/daily/loan-udhar",className:"nested-submenu-item",children:"Udhar Lena/Dena"}),e.jsx(Be,{to:"/family/daily/bill-paying",className:"nested-submenu-item",children:"Bill Paying Checklist"}),e.jsx(Be,{to:"/family/daily/manage-finance",className:"nested-submenu-item",children:"Manage Finance"}),e.jsx(Be,{to:"/family/daily/income-expenses",className:"nested-submenu-item",children:"Income & Expenses"}),e.jsx(Be,{to:"/family/daily/telephone-conversation",className:"nested-submenu-item",children:"Telephone Conversation"})]})]}),e.jsxs("div",{className:"nav-subsection",children:[e.jsx("div",{className:`submenu-item nav-header ${d?"active":""}`,onClick:()=>v(!d),children:"Monitoring"}),d&&e.jsxs("div",{className:"nested-submenu",children:[e.jsx(Be,{to:"/family/monitoring/budget",className:"nested-submenu-item",children:"Budget"}),e.jsx(Be,{to:"/family/monitoring/bill-dates",className:"nested-submenu-item",children:"Bill Dates"}),e.jsx(Be,{to:"/family/monitoring/multiple-calendars",className:"nested-submenu-item",children:"Multiple Calendars"}),e.jsx(Be,{to:"/family/monitoring/reminders-notifications",className:"nested-submenu-item",children:"Reminders, Notifications"}),e.jsx(Be,{to:"/family/monitoring/yearly-calendar",className:"nested-submenu-item",children:"Yearly Calendar"}),e.jsx(Be,{to:"/family/monitoring/weekly-appointment",className:"nested-submenu-item",children:"Weekly Appointment Chart"})]})]}),e.jsxs("div",{className:"nav-subsection",children:[e.jsx("div",{className:`submenu-item nav-header ${i?"active":""}`,onClick:()=>o(!i),children:"Investments"}),i&&e.jsxs("div",{className:"nested-submenu",children:[e.jsx(Be,{to:"/family/investments/nps-ppf",className:"nested-submenu-item",children:"NPS / Post Office / PPF"}),e.jsx(Be,{to:"/family/investments/gold-sgb",className:"nested-submenu-item",children:"Gold / SGB / Silver / Bonds"}),e.jsx(Be,{to:"/family/investments/bank-schemes",className:"nested-submenu-item",children:"Bank Schemes - RD, FD"}),e.jsx(Be,{to:"/family/investments/mf-insurance-shares",className:"nested-submenu-item",children:"MF, Insurance, Shares"}),e.jsx(Be,{to:"/family/investments/valuation-allocation",className:"nested-submenu-item",children:"Investment Valuation & Sectoral Allocation"}),e.jsx(Be,{to:"/family/investments/project-income-expense",className:"nested-submenu-item",children:"Project Wise Income / Expense"}),e.jsx(Be,{to:"/family/investments/profile",className:"nested-submenu-item",children:"Online Access"}),e.jsx(Be,{to:"/family/investments/loan-amortization",className:"nested-submenu-item",children:"Loan Amortization"}),e.jsx(Be,{to:"/family/investments/retirement",className:"nested-submenu-item",children:"Retirement Financial"})]})]}),e.jsxs("div",{className:"nav-subsection",children:[e.jsx("div",{className:`submenu-item nav-header ${u?"active":""}`,onClick:()=>h(!u),children:"Static"}),u&&e.jsxs("div",{className:"nested-submenu",children:[e.jsx(Be,{to:"/family/static/basic-details",className:"nested-submenu-item",children:"Basic Details"}),e.jsx(Be,{to:"/family/static/company-records",className:"nested-submenu-item",children:"Company Records"}),e.jsx(Be,{to:"/family/static/customer-support",className:"nested-submenu-item",children:"Customer Support"}),e.jsx(Be,{to:"/family/static/land-records",className:"nested-submenu-item",children:"Land Records"}),e.jsx(Be,{to:"/family/static/membership-list",className:"nested-submenu-item",children:"Membership List"}),e.jsx(Be,{to:"/family/static/online-access-details",className:"nested-submenu-item",children:"Online Access Details"}),e.jsx(Be,{to:"/family/static/mobile-email-details",className:"nested-submenu-item",children:"Mobile & Email Details"}),e.jsx(Be,{to:"/family/static/personal-records",className:"nested-submenu-item",children:"Personal Records"}),e.jsx(Be,{to:"/family/static/digital-assets",className:"nested-submenu-item",children:"Digital Assets"}),e.jsx(Be,{to:"/family/static/family-profile",className:"nested-submenu-item",children:"Family Profile"}),e.jsx(Be,{to:"/family/static/inventory-record",className:"nested-submenu-item",children:"Inventory Record"}),e.jsx(Be,{to:"/family/static/contact-management",className:"nested-submenu-item",children:"Contact Management"})]})]}),e.jsx(Be,{to:"/family/analytics",className:"submenu-item",children:"Analytics"}),e.jsx(Be,{to:"/family/tasks",className:"submenu-item",children:"Tasks to Do"}),e.jsx(Be,{to:"/family/files",className:"submenu-item",children:"Files & Folders"})]})]}),e.jsxs("div",{className:"nav-section",children:[e.jsx("div",{className:`nav-item nav-header ${a?"active":""}`,onClick:()=>r(!a),children:"Business"}),a&&e.jsxs("div",{className:"submenu",children:[e.jsx(Be,{to:"/business/investments",className:"submenu-item",children:"Investments"}),e.jsxs("div",{className:"nav-subsection",children:[e.jsx("div",{className:`submenu-item nav-header ${y?"active":""}`,onClick:()=>C(!y),children:"Daily"}),y&&e.jsxs("div",{className:"nested-submenu",children:[e.jsx(Be,{to:"/business/daily/cash-cards-bank",className:"nested-submenu-item",children:"Cash, Cards & Bank Transactions"}),e.jsx(Be,{to:"/business/daily/loan-udhar",className:"nested-submenu-item",children:"Udhar Lena/Dena"}),e.jsx(Be,{to:"/business/daily/bill-paying",className:"nested-submenu-item",children:"Bill Paying Checklist"}),e.jsx(Be,{to:"/business/daily/income-expenses",className:"nested-submenu-item",children:"Income & Expenses"}),e.jsx(Be,{to:"/business/daily/telephone-conversation",className:"nested-submenu-item",children:"Telephone Conversation"})]})]}),e.jsx(Be,{to:"/business/monitoring",className:"submenu-item",children:"Monitoring"}),e.jsx(Be,{to:"/business/static",className:"submenu-item",children:"Static"}),e.jsx(Be,{to:"/business/analytics",className:"submenu-item",children:"Analytics"}),e.jsx(Be,{to:"/business/goals",className:"submenu-item",children:"Goal & Targets"}),e.jsx(Be,{to:"/business/business",className:"submenu-item",children:"Business"}),e.jsx(Be,{to:"/business/sales",className:"submenu-item",children:"Sales"}),e.jsx(Be,{to:"/business/tasks",className:"submenu-item",children:"Tasks to Do"}),e.jsx(Be,{to:"/business/files",className:"submenu-item",children:"Files & Folders"})]})]}),e.jsx(Be,{to:"/libraries",className:"nav-item",children:"Libraries"}),e.jsx(Be,{to:"/subscription",className:"nav-item",children:"Subscription Plan"}),e.jsx(Be,{to:"/feedback",className:"nav-item",children:"Feedback"}),e.jsx(Be,{to:"/contact",className:"nav-item",children:"Contact Developer"}),e.jsx("div",{onClick:w,className:"nav-item logout",children:"Logout"})]})]})},Ye=({children:t})=>e.jsxs("div",{className:"layout",children:[e.jsx(cL,{}),e.jsx("main",{className:"main-content",children:t})]}),uL=()=>{const[t,n]=x.useState(""),[a,r]=x.useState(""),[i,o]=x.useState(""),[u,h]=x.useState(!1),{login:p}=Rm(),f=Om(),d=async v=>{v.preventDefault(),o(""),h(!0);const y=await p({email:t,password:a});y.success?f("/dashboard"):o(y.message),h(!1)};return e.jsx("div",{className:"login-container",children:e.jsxs("div",{className:"login-box",children:[e.jsx("h1",{children:"Finance Management System"}),e.jsx("h2",{children:"Login"}),i&&e.jsx("div",{className:"error-message",children:i}),e.jsxs("form",{onSubmit:d,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",value:t,onChange:v=>n(v.target.value),required:!0,placeholder:"Enter your email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:a,onChange:v=>r(v.target.value),required:!0,placeholder:"Enter your password"})]}),e.jsx("button",{type:"submit",disabled:u,className:"login-button",children:u?"Logging in...":"Login"})]}),e.jsxs("p",{className:"demo-credentials",children:["Demo: email: ",e.jsx("strong",{children:"demo@example.com"}),", password: ",e.jsx("strong",{children:"demo123"})]})]})})},dL=()=>{const{user:t}=Rm();return e.jsxs("div",{className:"dashboard",children:[e.jsx("h1",{children:"Dashboard"}),e.jsxs("div",{className:"welcome-card",children:[e.jsxs("h2",{children:["Welcome, ",t?.name,"!"]}),e.jsx("p",{children:"Welcome to your Finance Management System"})]}),e.jsxs("div",{className:"dashboard-grid",children:[e.jsxs("div",{className:"dashboard-card",children:[e.jsx("h3",{children:"Family Section"}),e.jsx("p",{children:"Manage your family finances, investments, and transactions"})]}),e.jsxs("div",{className:"dashboard-card",children:[e.jsx("h3",{children:"Business Section"}),e.jsx("p",{children:"Track business finances, goals, and sales"})]}),e.jsxs("div",{className:"dashboard-card",children:[e.jsx("h3",{children:"Quick Stats"}),e.jsx("p",{children:"View your financial overview and analytics"})]}),e.jsxs("div",{className:"dashboard-card",children:[e.jsx("h3",{children:"Recent Activity"}),e.jsx("p",{children:"Check your recent transactions and updates"})]})]})]})},Ll=({title:t})=>e.jsxs("div",{style:{padding:"40px",animation:"fadeIn 0.5s ease-in"},children:[e.jsx("h1",{style:{fontSize:"42px",fontWeight:"800",background:"linear-gradient(135deg, #C084FC 0%, #9333EA 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",marginBottom:"20px"},children:t}),e.jsxs("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)",padding:"40px",borderRadius:"20px",boxShadow:"0 5px 25px rgba(0, 0, 0, 0.08)",textAlign:"center",border:"1px solid rgba(102, 126, 234, 0.1)"},children:[e.jsx("div",{style:{fontSize:"60px",marginBottom:"20px"},children:""}),e.jsx("p",{style:{fontSize:"18px",color:"#5a6c7d",fontWeight:"500"},children:"This page is under construction."}),e.jsx("p",{style:{fontSize:"15px",color:"#8a9ba8",marginTop:"10px"},children:"Coming soon with amazing features!"})]})]});var Q2={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},EC=wa.createContext&&wa.createContext(Q2),hL=["attr","size","title"];function mL(t,n){if(t==null)return{};var a=fL(t,n),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function fL(t,n){if(t==null)return{};var a={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(n.indexOf(r)>=0)continue;a[r]=t[r]}return a}function Oh(){return Oh=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Oh.apply(this,arguments)}function DC(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Ph(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?DC(Object(a),!0).forEach(function(r){pL(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):DC(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function pL(t,n,a){return n=vL(n),n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function vL(t){var n=xL(t,"string");return typeof n=="symbol"?n:n+""}function xL(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function J2(t){return t&&t.map((n,a)=>wa.createElement(n.tag,Ph({key:a},n.attr),J2(n.child)))}function Fe(t){return n=>wa.createElement(gL,Oh({attr:Ph({},t.attr)},n),J2(t.child))}function gL(t){var n=a=>{var{attr:r,size:i,title:o}=t,u=mL(t,hL),h=i||a.size||"1em",p;return a.className&&(p=a.className),t.className&&(p=(p?p+" ":"")+t.className),wa.createElement("svg",Oh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,u,{className:p,style:Ph(Ph({color:t.color||a.color},a.style),t.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),o&&wa.createElement("title",null,o),t.children)};return EC!==void 0?wa.createElement(EC.Consumer,null,a=>n(a)):n(Q2)}function Jr(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"},child:[]}]})(t)}function kh(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function yL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"},child:[]},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"},child:[]}]})(t)}function jL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"17",y1:"10",x2:"3",y2:"10"},child:[]},{tag:"line",attr:{x1:"21",y1:"6",x2:"3",y2:"6"},child:[]},{tag:"line",attr:{x1:"21",y1:"14",x2:"3",y2:"14"},child:[]},{tag:"line",attr:{x1:"17",y1:"18",x2:"3",y2:"18"},child:[]}]})(t)}function OC(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"17",y1:"7",x2:"7",y2:"17"},child:[]},{tag:"polyline",attr:{points:"17 17 7 17 7 7"},child:[]}]})(t)}function bL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"7",y1:"17",x2:"17",y2:"7"},child:[]},{tag:"polyline",attr:{points:"7 7 17 7 17 17"},child:[]}]})(t)}function NL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"8",r:"7"},child:[]},{tag:"polyline",attr:{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"},child:[]}]})(t)}function Kr(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function Rc(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"},child:[]},{tag:"path",attr:{d:"M13.73 21a2 2 0 0 1-3.46 0"},child:[]}]})(t)}function SL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"},child:[]},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"},child:[]}]})(t)}function ar(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"},child:[]}]})(t)}function Va(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"16",y1:"2",x2:"16",y2:"6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"6"},child:[]},{tag:"line",attr:{x1:"3",y1:"10",x2:"21",y2:"10"},child:[]}]})(t)}function _m(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"},child:[]},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"},child:[]}]})(t)}function Th(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function eO(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(t)}function tO(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(t)}function lr(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(t)}function Fl(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"},child:[]},{tag:"polyline",attr:{points:"8 6 2 12 8 18"},child:[]}]})(t)}function Sc(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(t)}function Jy(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"4",width:"22",height:"16",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"1",y1:"10",x2:"23",y2:"10"},child:[]}]})(t)}function Pi(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"},child:[]},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"},child:[]}]})(t)}function ua(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(t)}function CL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(t)}function ct(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"},child:[]}]})(t)}function qa(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(t)}function Hl(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(t)}function wL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(t)}function $g(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"},child:[]}]})(t)}function Cc(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"},child:[]}]})(t)}function ba(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"path",attr:{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"},child:[]}]})(t)}function PC(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function AL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(t)}function Bm(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function EL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(t)}function Lm(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(t)}function Zd(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"1 6 1 22 8 18 16 22 23 18 23 2 16 6 8 2 1 6"},child:[]},{tag:"line",attr:{x1:"8",y1:"2",x2:"8",y2:"18"},child:[]},{tag:"line",attr:{x1:"16",y1:"6",x2:"16",y2:"22"},child:[]}]})(t)}function ex(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"3",width:"20",height:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"8",y1:"21",x2:"16",y2:"21"},child:[]},{tag:"line",attr:{x1:"12",y1:"17",x2:"12",y2:"21"},child:[]}]})(t)}function kC(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(t)}function DL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15.05 5A5 5 0 0 1 19 8.95M15.05 1A9 9 0 0 1 23 8.94m-1 7.98v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function Mh(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(t)}function es(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"},child:[]},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"},child:[]}]})(t)}function Oe(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(t)}function OL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(t)}function ej(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"17 1 21 5 17 9"},child:[]},{tag:"path",attr:{d:"M3 11V9a4 4 0 0 1 4-4h14"},child:[]},{tag:"polyline",attr:{points:"7 23 3 19 7 15"},child:[]},{tag:"path",attr:{d:"M21 13v2a4 4 0 0 1-4 4H3"},child:[]}]})(t)}function cs(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"},child:[]},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"},child:[]},{tag:"polyline",attr:{points:"7 3 7 8 15 8"},child:[]}]})(t)}function qs(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"6.01",y2:"6"},child:[]},{tag:"line",attr:{x1:"6",y1:"18",x2:"6.01",y2:"18"},child:[]}]})(t)}function zc(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"},child:[]}]})(t)}function Hs(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(t)}function nO(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"},child:[]},{tag:"line",attr:{x1:"7",y1:"7",x2:"7.01",y2:"7"},child:[]}]})(t)}function Ze(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function PL(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"},child:[]},{tag:"polyline",attr:{points:"17 18 23 18 23 12"},child:[]}]})(t)}function In(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"},child:[]},{tag:"polyline",attr:{points:"17 6 23 6 23 12"},child:[]}]})(t)}function Wr(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}function Xr(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(t)}function Ge(t){return Fe({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(t)}const ze={getBasicDetails:()=>oe.get("/static/basic-details"),createBasicDetails:t=>oe.post("/static/basic-details",t),updateBasicDetails:(t,n)=>oe.put(`/static/basic-details/${t}`,n),deleteBasicDetails:t=>oe.delete(`/static/basic-details/${t}`),getCompanyRecords:()=>oe.get("/static/company-records"),createCompanyRecord:t=>oe.post("/static/company-records",t),updateCompanyRecord:(t,n)=>oe.put(`/static/company-records/${t}`,n),deleteCompanyRecord:t=>oe.delete(`/static/company-records/${t}`),getCustomerSupport:()=>oe.get("/static/customer-support"),createCustomerSupport:t=>oe.post("/static/customer-support",t),updateCustomerSupport:(t,n)=>oe.put(`/static/customer-support/${t}`,n),deleteCustomerSupport:t=>oe.delete(`/static/customer-support/${t}`),getFamilyProfile:()=>oe.get("/static/family-profile"),createFamilyProfile:t=>oe.post("/static/family-profile",t),updateFamilyProfile:(t,n)=>oe.put(`/static/family-profile/${t}`,n),deleteFamilyProfile:t=>oe.delete(`/static/family-profile/${t}`),getLandRecords:()=>oe.get("/static/land-records"),createLandRecord:t=>oe.post("/static/land-records",t),updateLandRecord:(t,n)=>oe.put(`/static/land-records/${t}`,n),deleteLandRecord:t=>oe.delete(`/static/land-records/${t}`),getMembershipList:()=>oe.get("/static/membership-list"),createMembership:t=>oe.post("/static/membership-list",t),updateMembership:(t,n)=>oe.put(`/static/membership-list/${t}`,n),deleteMembership:t=>oe.delete(`/static/membership-list/${t}`),getOnlineAccessDetails:()=>oe.get("/static/online-access-details"),createOnlineAccessDetails:t=>oe.post("/static/online-access-details",t),updateOnlineAccessDetails:(t,n)=>oe.put(`/static/online-access-details/${t}`,n),deleteOnlineAccessDetails:t=>oe.delete(`/static/online-access-details/${t}`),getMobileEmailDetails:()=>oe.get("/static/mobile-email-details"),createMobileEmailDetails:t=>oe.post("/static/mobile-email-details",t),updateMobileEmailDetails:(t,n)=>oe.put(`/static/mobile-email-details/${t}`,n),deleteMobileEmailDetails:t=>oe.delete(`/static/mobile-email-details/${t}`),getPersonalRecords:()=>oe.get("/static/personal-records"),createPersonalRecord:t=>oe.post("/static/personal-records",t),updatePersonalRecord:(t,n)=>oe.put(`/static/personal-records/${t}`,n),deletePersonalRecord:t=>oe.delete(`/static/personal-records/${t}`),getDigitalAssets:()=>oe.get("/static/digital-assets"),createDigitalAsset:t=>oe.post("/static/digital-assets",t),updateDigitalAsset:(t,n)=>oe.put(`/static/digital-assets/${t}`,n),deleteDigitalAsset:t=>oe.delete(`/static/digital-assets/${t}`),getFamilyProfile:()=>oe.get("/static/family-profile"),createFamilyProfile:t=>oe.post("/static/family-profile",t),updateFamilyProfile:(t,n)=>oe.put(`/static/family-profile/${t}`,n),deleteFamilyProfile:t=>oe.delete(`/static/family-profile/${t}`),getInventoryRecord:()=>oe.get("/static/inventory-record"),createInventoryRecord:t=>oe.post("/static/inventory-record",t),updateInventoryRecord:(t,n)=>oe.put(`/static/inventory-record/${t}`,n),deleteInventoryRecord:t=>oe.delete(`/static/inventory-record/${t}`),getContactManagement:()=>oe.get("/static/contact-management"),createContactManagement:t=>oe.post("/static/contact-management",t),updateContactManagement:(t,n)=>oe.put(`/static/contact-management/${t}`,n),deleteContactManagement:t=>oe.delete(`/static/contact-management/${t}`),getAllStatic:()=>oe.get("/static"),getFamilyTasks:()=>oe.get("/static/family-tasks"),createFamilyTask:t=>oe.post("/static/family-tasks",t),updateFamilyTask:(t,n)=>oe.put(`/static/family-tasks/${t}`,n),deleteFamilyTask:t=>oe.delete(`/static/family-tasks/${t}`),getAll:t=>oe.get(`/static/${t}`),create:(t,n)=>oe.post(`/static/${t}`,n),update:(t,n)=>oe.put(`/static/family-tasks/${t}`,n),delete:t=>oe.delete(`/static/family-tasks/${t}`)},kL=()=>{const[t,n]=x.useState(!1),[a,r]=x.useState(!1),[i,o]=x.useState([]),[u,h]=x.useState(!1),[p,f]=x.useState(null),[d,v]=x.useState({companyName:"",companyType:"",industry:"",registrationNumber:"",incorporationDate:"",panNumber:"",tanNumber:"",gstNumber:"",cinNumber:"",registeredOffice:{address:"",city:"",state:"",pincode:"",country:"India",phone:"",email:"",website:""},corporateOffice:{address:"",city:"",state:"",pincode:"",country:"India",phone:"",email:""},sameAsRegistered:!0,directors:[],shareholders:[],authorizedSignatories:[],businessActivities:[],turnover:"",employeeCount:"",branches:[],bankAccounts:[],complianceStatus:"",lastAuditDate:"",nextAuditDue:"",taxStatus:"",documents:{incorporationCertificate:"",moa:"",aoa:"",panCard:"",gstCertificate:"",tanCertificate:"",boardResolution:""}}),y=["Private Limited","Public Limited","LLP","Partnership","Sole Proprietorship","One Person Company"],C=["IT Services","Manufacturing","Trading","Consulting","Healthcare","Education","Real Estate","Finance","Other"];x.useEffect(()=>{N()},[]);const N=async()=>{try{r(!0);const k=await ze.getCompanyRecords();o(k.data||[])}catch(k){console.error("Error fetching company records:",k),o([{id:"demo-1",companyName:"Tech Solutions Pvt Ltd",companyType:"Private Limited",industry:"IT Services",registrationNumber:"ROC-12345",incorporationDate:"2020-01-15",panNumber:"AAACT1234C",gstNumber:"27AAACT1234C1ZV",registeredOffice:{address:"123 Tech Park, Sector 15",city:"Mumbai",state:"Maharashtra",pincode:"400001",phone:"+91 22 1234 5678",email:"info@techsolutions.com",website:"www.techsolutions.com"},directors:[{name:"John Doe",din:"12345678",appointmentDate:"2020-01-15"},{name:"Jane Smith",din:"87654321",appointmentDate:"2020-01-15"}],turnover:"50000000",employeeCount:"50"}])}finally{r(!1)}},j=(k,F)=>{v(P=>({...P,[k]:F}))},w=async()=>{try{r(!0);let k;if(p){const F=p._id||p.id;k=await ze.updateCompanyRecord(F,d),o(P=>P.map(W=>(W._id||W.id)===F?{...d,_id:F}:W))}else{k=await ze.createCompanyRecord(d);const F={...d,_id:k.data?._id||k.data?.id};o(P=>[...P,F])}h(!1),f(null),n(!1),E()}catch(k){console.error("Error saving company record:",k),alert("Failed to save company record. Please try again.")}finally{r(!1)}},O=k=>{f(k),v(k),h(!0),n(!0)},S=async k=>{try{await ze.deleteCompanyRecord(k),o(F=>F.filter(P=>(P._id||P.id)!==k))}catch(F){console.error("Error deleting company:",F),alert("Failed to delete company record. Please try again.")}},E=()=>{v({companyName:"",companyType:"",industry:"",registrationNumber:"",incorporationDate:"",panNumber:"",tanNumber:"",gstNumber:"",cinNumber:"",registeredOffice:{address:"",city:"",state:"",pincode:"",country:"India",phone:"",email:"",website:""},corporateOffice:{address:"",city:"",state:"",pincode:"",country:"India",phone:"",email:""},sameAsRegistered:!0,directors:[],shareholders:[],authorizedSignatories:[],businessActivities:[],turnover:"",employeeCount:"",branches:[],bankAccounts:[],complianceStatus:"",lastAuditDate:"",nextAuditDue:"",taxStatus:"",documents:{incorporationCertificate:"",moa:"",aoa:"",panCard:"",gstCertificate:"",tanCertificate:"",boardResolution:""}})},T=()=>{h(!1),f(null),n(!1),E()};return a&&i.length===0?e.jsxs("div",{className:"static-page-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading company records..."})]}):e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(ar,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Company Profile"}),e.jsx("p",{children:"Manage your company information and documents"})]})]}),e.jsx("div",{className:"header-actions",children:u?e.jsxs("div",{className:"edit-actions",children:[e.jsxs("button",{className:"btn-success",onClick:w,children:[e.jsx(cs,{})," Save"]}),e.jsxs("button",{className:"btn-secondary",onClick:T,children:[e.jsx(Ge,{})," Cancel"]})]}):e.jsxs("button",{className:"btn-primary",onClick:()=>h(!0),children:[e.jsx(Oe,{})," Add Company"]})})]}),e.jsx("div",{className:"static-content",children:u?e.jsx("div",{className:"company-form",children:e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ar,{className:"section-icon"}),e.jsx("h3",{children:"Basic Company Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:d.companyName,onChange:k=>j("companyName",k.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Type"}),e.jsxs("select",{value:d.companyType,onChange:k=>j("companyType",k.target.value),children:[e.jsx("option",{value:"",children:"Select Type"}),y.map(k=>e.jsx("option",{value:k,children:k},k))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Industry"}),e.jsxs("select",{value:d.industry,onChange:k=>j("industry",k.target.value),children:[e.jsx("option",{value:"",children:"Select Industry"}),C.map(k=>e.jsx("option",{value:k,children:k},k))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registration Number"}),e.jsx("input",{type:"text",value:d.registrationNumber,onChange:k=>j("registrationNumber",k.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Incorporation Date"}),e.jsx("input",{type:"date",value:d.incorporationDate,onChange:k=>j("incorporationDate",k.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PAN Number"}),e.jsx("input",{type:"text",value:d.panNumber,onChange:k=>j("panNumber",k.target.value),maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TAN Number"}),e.jsx("input",{type:"text",value:d.tanNumber,onChange:k=>j("tanNumber",k.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GST Number"}),e.jsx("input",{type:"text",value:d.gstNumber,onChange:k=>j("gstNumber",k.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CIN Number"}),e.jsx("input",{type:"text",value:d.cinNumber,onChange:k=>j("cinNumber",k.target.value)})]})]})})]})}):e.jsx("div",{className:"companies-list",children:i.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:e.jsx(ar,{})}),e.jsx("h3",{children:"No Companies Added"}),e.jsx("p",{children:"Start by adding your first company record"}),e.jsxs("button",{className:"btn-primary",onClick:()=>h(!0),children:[e.jsx(Oe,{})," Add First Company"]})]}):e.jsx("div",{className:"companies-table-container",children:e.jsxs("table",{className:"companies-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Industry"}),e.jsx("th",{children:"PAN"}),e.jsx("th",{children:"GST"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:i.map(k=>e.jsxs("tr",{children:[e.jsx("td",{className:"company-name",children:k.companyName}),e.jsx("td",{children:k.companyType}),e.jsx("td",{children:k.industry}),e.jsx("td",{children:k.panNumber}),e.jsx("td",{children:k.gstNumber}),e.jsxs("td",{children:[k.registeredOffice?.city,", ",k.registeredOffice?.state]}),e.jsxs("td",{className:"table-actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>O(k),children:e.jsx(ct,{})}),e.jsx("button",{className:"btn-remove",onClick:()=>S(k._id||k.id),children:e.jsx(Ge,{})})]})]},k._id||k.id))})]})})})})]})};function aO(t){var n,a,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(n=0;n<i;n++)t[n]&&(a=aO(t[n]))&&(r&&(r+=" "),r+=a)}else for(a in t)t[a]&&(r&&(r+=" "),r+=a);return r}function ut(){for(var t,n,a=0,r="",i=arguments.length;a<i;a++)(t=arguments[a])&&(n=aO(t))&&(r&&(r+=" "),r+=n);return r}var TL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function tj(t){if(typeof t!="string")return!1;var n=TL;return n.includes(t)}var ML=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IL=new Set(ML);function rO(t){return typeof t!="string"?!1:IL.has(t)}function sO(t){return typeof t=="string"&&t.startsWith("data-")}function da(t){if(typeof t!="object"||t===null)return{};var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(rO(a)||sO(a))&&(n[a]=t[a]);return n}function $i(t){if(t==null)return null;if(x.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var n=t.props;return da(n)}return typeof t=="object"&&!Array.isArray(t)?da(t):null}function Kn(t){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(rO(a)||sO(a)||tj(a))&&(n[a]=t[a]);return n}function RL(t){return t==null?null:x.isValidElement(t)?Kn(t.props):typeof t=="object"&&!Array.isArray(t)?Kn(t):null}var _L=["children","width","height","viewBox","className","style","title","desc"];function qg(){return qg=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},qg.apply(null,arguments)}function BL(t,n){if(t==null)return{};var a,r,i=LL(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function LL(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var nj=x.forwardRef((t,n)=>{var{children:a,width:r,height:i,viewBox:o,className:u,style:h,title:p,desc:f}=t,d=BL(t,_L),v=o||{width:r,height:i,x:0,y:0},y=ut("recharts-surface",u);return x.createElement("svg",qg({},Kn(d),{className:y,width:r,height:i,style:h,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:n}),x.createElement("title",null,p),x.createElement("desc",null,f),a)}),FL=["children","className"];function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Hg.apply(null,arguments)}function zL(t,n){if(t==null)return{};var a,r,i=UL(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function UL(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var en=x.forwardRef((t,n)=>{var{children:a,className:r}=t,i=zL(t,FL),o=ut("recharts-layer",r);return x.createElement("g",Hg({className:o},Kn(i),{ref:n}),a)}),iO=x.createContext(null),$L=()=>x.useContext(iO);function At(t){return function(){return t}}const lO=Math.cos,Ih=Math.sin,hr=Math.sqrt,Rh=Math.PI,Fm=2*Rh,Vg=Math.PI,Yg=2*Vg,Ei=1e-6,qL=Yg-Ei;function oO(t){this._+=t[0];for(let n=1,a=t.length;n<a;++n)this._+=arguments[n]+t[n]}function HL(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return oO;const a=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*a)/a+r[i]}}class VL{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?oO:HL(n)}moveTo(n,a){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,a){this._append`L${this._x1=+n},${this._y1=+a}`}quadraticCurveTo(n,a,r,i){this._append`Q${+n},${+a},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,a,r,i,o,u){this._append`C${+n},${+a},${+r},${+i},${this._x1=+o},${this._y1=+u}`}arcTo(n,a,r,i,o){if(n=+n,a=+a,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,h=this._y1,p=r-n,f=i-a,d=u-n,v=h-a,y=d*d+v*v;if(this._x1===null)this._append`M${this._x1=n},${this._y1=a}`;else if(y>Ei)if(!(Math.abs(v*p-f*d)>Ei)||!o)this._append`L${this._x1=n},${this._y1=a}`;else{let C=r-u,N=i-h,j=p*p+f*f,w=C*C+N*N,O=Math.sqrt(j),S=Math.sqrt(y),E=o*Math.tan((Vg-Math.acos((j+y-w)/(2*O*S)))/2),T=E/S,k=E/O;Math.abs(T-1)>Ei&&this._append`L${n+T*d},${a+T*v}`,this._append`A${o},${o},0,0,${+(v*C>d*N)},${this._x1=n+k*p},${this._y1=a+k*f}`}}arc(n,a,r,i,o,u){if(n=+n,a=+a,r=+r,u=!!u,r<0)throw new Error(`negative radius: ${r}`);let h=r*Math.cos(i),p=r*Math.sin(i),f=n+h,d=a+p,v=1^u,y=u?i-o:o-i;this._x1===null?this._append`M${f},${d}`:(Math.abs(this._x1-f)>Ei||Math.abs(this._y1-d)>Ei)&&this._append`L${f},${d}`,r&&(y<0&&(y=y%Yg+Yg),y>qL?this._append`A${r},${r},0,1,${v},${n-h},${a-p}A${r},${r},0,1,${v},${this._x1=f},${this._y1=d}`:y>Ei&&this._append`A${r},${r},0,${+(y>=Vg)},${v},${this._x1=n+r*Math.cos(o)},${this._y1=a+r*Math.sin(o)}`)}rect(n,a,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+a}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aj(t){let n=3;return t.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);n=r}return t},()=>new VL(n)}function rj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cO(t){this._context=t}cO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n);break}}};function zm(t){return new cO(t)}function uO(t){return t[0]}function dO(t){return t[1]}function hO(t,n){var a=At(!0),r=null,i=zm,o=null,u=aj(h);t=typeof t=="function"?t:t===void 0?uO:At(t),n=typeof n=="function"?n:n===void 0?dO:At(n);function h(p){var f,d=(p=rj(p)).length,v,y=!1,C;for(r==null&&(o=i(C=u())),f=0;f<=d;++f)!(f<d&&a(v=p[f],f,p))===y&&((y=!y)?o.lineStart():o.lineEnd()),y&&o.point(+t(v,f,p),+n(v,f,p));if(C)return o=null,C+""||null}return h.x=function(p){return arguments.length?(t=typeof p=="function"?p:At(+p),h):t},h.y=function(p){return arguments.length?(n=typeof p=="function"?p:At(+p),h):n},h.defined=function(p){return arguments.length?(a=typeof p=="function"?p:At(!!p),h):a},h.curve=function(p){return arguments.length?(i=p,r!=null&&(o=i(r)),h):i},h.context=function(p){return arguments.length?(p==null?r=o=null:o=i(r=p),h):r},h}function Qd(t,n,a){var r=null,i=At(!0),o=null,u=zm,h=null,p=aj(f);t=typeof t=="function"?t:t===void 0?uO:At(+t),n=typeof n=="function"?n:At(n===void 0?0:+n),a=typeof a=="function"?a:a===void 0?dO:At(+a);function f(v){var y,C,N,j=(v=rj(v)).length,w,O=!1,S,E=new Array(j),T=new Array(j);for(o==null&&(h=u(S=p())),y=0;y<=j;++y){if(!(y<j&&i(w=v[y],y,v))===O)if(O=!O)C=y,h.areaStart(),h.lineStart();else{for(h.lineEnd(),h.lineStart(),N=y-1;N>=C;--N)h.point(E[N],T[N]);h.lineEnd(),h.areaEnd()}O&&(E[y]=+t(w,y,v),T[y]=+n(w,y,v),h.point(r?+r(w,y,v):E[y],a?+a(w,y,v):T[y]))}if(S)return h=null,S+""||null}function d(){return hO().defined(i).curve(u).context(o)}return f.x=function(v){return arguments.length?(t=typeof v=="function"?v:At(+v),r=null,f):t},f.x0=function(v){return arguments.length?(t=typeof v=="function"?v:At(+v),f):t},f.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:At(+v),f):r},f.y=function(v){return arguments.length?(n=typeof v=="function"?v:At(+v),a=null,f):n},f.y0=function(v){return arguments.length?(n=typeof v=="function"?v:At(+v),f):n},f.y1=function(v){return arguments.length?(a=v==null?null:typeof v=="function"?v:At(+v),f):a},f.lineX0=f.lineY0=function(){return d().x(t).y(n)},f.lineY1=function(){return d().x(t).y(a)},f.lineX1=function(){return d().x(r).y(n)},f.defined=function(v){return arguments.length?(i=typeof v=="function"?v:At(!!v),f):i},f.curve=function(v){return arguments.length?(u=v,o!=null&&(h=u(o)),f):u},f.context=function(v){return arguments.length?(v==null?o=h=null:h=u(o=v),f):o},f}class mO{constructor(n,a){this._context=n,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,a){switch(n=+n,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,a):this._context.moveTo(n,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,a,n,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,n,this._y0,n,a);break}}this._x0=n,this._y0=a}}function YL(t){return new mO(t,!0)}function GL(t){return new mO(t,!1)}const sj={draw(t,n){const a=hr(n/Rh);t.moveTo(a,0),t.arc(0,0,a,0,Fm)}},KL={draw(t,n){const a=hr(n/5)/2;t.moveTo(-3*a,-a),t.lineTo(-a,-a),t.lineTo(-a,-3*a),t.lineTo(a,-3*a),t.lineTo(a,-a),t.lineTo(3*a,-a),t.lineTo(3*a,a),t.lineTo(a,a),t.lineTo(a,3*a),t.lineTo(-a,3*a),t.lineTo(-a,a),t.lineTo(-3*a,a),t.closePath()}},fO=hr(1/3),WL=fO*2,XL={draw(t,n){const a=hr(n/WL),r=a*fO;t.moveTo(0,-a),t.lineTo(r,0),t.lineTo(0,a),t.lineTo(-r,0),t.closePath()}},ZL={draw(t,n){const a=hr(n),r=-a/2;t.rect(r,r,a,a)}},QL=.8908130915292852,pO=Ih(Rh/10)/Ih(7*Rh/10),JL=Ih(Fm/10)*pO,e4=-lO(Fm/10)*pO,t4={draw(t,n){const a=hr(n*QL),r=JL*a,i=e4*a;t.moveTo(0,-a),t.lineTo(r,i);for(let o=1;o<5;++o){const u=Fm*o/5,h=lO(u),p=Ih(u);t.lineTo(p*a,-h*a),t.lineTo(h*r-p*i,p*r+h*i)}t.closePath()}},tx=hr(3),n4={draw(t,n){const a=-hr(n/(tx*3));t.moveTo(0,a*2),t.lineTo(-tx*a,-a),t.lineTo(tx*a,-a),t.closePath()}},Fa=-.5,za=hr(3)/2,Gg=1/hr(12),a4=(Gg/2+1)*3,r4={draw(t,n){const a=hr(n/a4),r=a/2,i=a*Gg,o=r,u=a*Gg+a,h=-o,p=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(h,p),t.lineTo(Fa*r-za*i,za*r+Fa*i),t.lineTo(Fa*o-za*u,za*o+Fa*u),t.lineTo(Fa*h-za*p,za*h+Fa*p),t.lineTo(Fa*r+za*i,Fa*i-za*r),t.lineTo(Fa*o+za*u,Fa*u-za*o),t.lineTo(Fa*h+za*p,Fa*p-za*h),t.closePath()}};function s4(t,n){let a=null,r=aj(i);t=typeof t=="function"?t:At(t||sj),n=typeof n=="function"?n:At(n===void 0?64:+n);function i(){let o;if(a||(a=o=r()),t.apply(this,arguments).draw(a,+n.apply(this,arguments)),o)return a=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:At(o),i):t},i.size=function(o){return arguments.length?(n=typeof o=="function"?o:At(+o),i):n},i.context=function(o){return arguments.length?(a=o??null,i):a},i}function _h(){}function Bh(t,n,a){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+a)/6)}function vO(t){this._context=t}vO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Bh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Bh(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function i4(t){return new vO(t)}function xO(t){this._context=t}xO.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Bh(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function l4(t){return new xO(t)}function gO(t){this._context=t}gO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Bh(this,t,n);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};function o4(t){return new gO(t)}function yO(t){this._context=t}yO.prototype={areaStart:_h,areaEnd:_h,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};function c4(t){return new yO(t)}function TC(t){return t<0?-1:1}function MC(t,n,a){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(a-t._y1)/(i||r<0&&-0),h=(o*i+u*r)/(r+i);return(TC(o)+TC(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(h))||0}function IC(t,n){var a=t._x1-t._x0;return a?(3*(t._y1-t._y0)/a-n)/2:n}function nx(t,n,a){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,h=(o-r)/3;t._context.bezierCurveTo(r+h,i+h*n,o-h,u-h*a,o,u)}function Lh(t){this._context=t}Lh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nx(this,this._t0,IC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var a=NaN;if(t=+t,n=+n,!(t===this._x1&&n===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,nx(this,IC(this,a=MC(this,t,n)),a);break;default:nx(this,this._t0,a=MC(this,t,n));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=a}}};function jO(t){this._context=new bO(t)}(jO.prototype=Object.create(Lh.prototype)).point=function(t,n){Lh.prototype.point.call(this,n,t)};function bO(t){this._context=t}bO.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,a,r,i,o){this._context.bezierCurveTo(n,t,r,a,o,i)}};function u4(t){return new Lh(t)}function d4(t){return new jO(t)}function NO(t){this._context=t}NO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,a=t.length;if(a)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),a===2)this._context.lineTo(t[1],n[1]);else for(var r=RC(t),i=RC(n),o=0,u=1;u<a;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};function RC(t){var n,a=t.length-1,r,i=new Array(a),o=new Array(a),u=new Array(a);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<a-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[a-1]=2,o[a-1]=7,u[a-1]=8*t[a-1]+t[a],n=1;n<a;++n)r=i[n]/o[n-1],o[n]-=r,u[n]-=r*u[n-1];for(i[a-1]=u[a-1]/o[a-1],n=a-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[a-1]=(t[a]+i[a-1])/2,n=0;n<a-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}function h4(t){return new NO(t)}function Um(t,n){this._context=t,this._t=n}Um.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var a=this._x*(1-this._t)+t*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,n)}break}}this._x=t,this._y=n}};function m4(t){return new Um(t,.5)}function f4(t){return new Um(t,0)}function p4(t){return new Um(t,1)}function Ql(t,n){if((u=t.length)>1)for(var a=1,r,i,o=t[n[0]],u,h=o.length;a<u;++a)for(i=o,o=t[n[a]],r=0;r<h;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Kg(t){for(var n=t.length,a=new Array(n);--n>=0;)a[n]=n;return a}function v4(t,n){return t[n]}function x4(t){const n=[];return n.key=t,n}function g4(){var t=At([]),n=Kg,a=Ql,r=v4;function i(o){var u=Array.from(t.apply(this,arguments),x4),h,p=u.length,f=-1,d;for(const v of o)for(h=0,++f;h<p;++h)(u[h][f]=[0,+r(v,u[h].key,f,o)]).data=v;for(h=0,d=rj(n(u));h<p;++h)u[d[h]].index=h;return a(u,d),u}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:At(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:At(+o),i):r},i.order=function(o){return arguments.length?(n=o==null?Kg:typeof o=="function"?o:At(Array.from(o)),i):n},i.offset=function(o){return arguments.length?(a=o??Ql,i):a},i}function y4(t,n){if((r=t.length)>0){for(var a,r,i=0,o=t[0].length,u;i<o;++i){for(u=a=0;a<r;++a)u+=t[a][i][1]||0;if(u)for(a=0;a<r;++a)t[a][i][1]/=u}Ql(t,n)}}function j4(t,n){if((i=t.length)>0){for(var a=0,r=t[n[0]],i,o=r.length;a<o;++a){for(var u=0,h=0;u<i;++u)h+=t[u][a][1]||0;r[a][1]+=r[a][0]=-h/2}Ql(t,n)}}function b4(t,n){if(!(!((u=t.length)>0)||!((o=(i=t[n[0]]).length)>0))){for(var a=0,r=1,i,o,u;r<o;++r){for(var h=0,p=0,f=0;h<u;++h){for(var d=t[n[h]],v=d[r][1]||0,y=d[r-1][1]||0,C=(v-y)/2,N=0;N<h;++N){var j=t[n[N]],w=j[r][1]||0,O=j[r-1][1]||0;C+=w-O}p+=v,f+=C*v}i[r-1][1]+=i[r-1][0]=a,p&&(a-=f/p)}i[r-1][1]+=i[r-1][0]=a,Ql(t,n)}}var ax={},rx={},_C;function N4(){return _C||(_C=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return a==="__proto__"}t.isUnsafeProperty=n})(rx)),rx}var sx={},BC;function SO(){return BC||(BC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}t.isDeepKey=n})(sx)),sx}var ix={},LC;function ij(){return LC||(LC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return typeof a=="string"||typeof a=="symbol"?a:Object.is(a?.valueOf?.(),-0)?"-0":String(a)}t.toKey=n})(ix)),ix}var lx={},ox={},FC;function S4(){return FC||(FC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){if(a==null)return"";if(typeof a=="string")return a;if(Array.isArray(a))return a.map(n).join(",");const r=String(a);return r==="0"&&Object.is(Number(a),-0)?"-0":r}t.toString=n})(ox)),ox}var zC;function lj(){return zC||(zC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=S4(),a=ij();function r(i){if(Array.isArray(i))return i.map(a.toKey);if(typeof i=="symbol")return[i];i=n.toString(i);const o=[],u=i.length;if(u===0)return o;let h=0,p="",f="",d=!1;for(i.charCodeAt(0)===46&&(o.push(""),h++);h<u;){const v=i[h];f?v==="\\"&&h+1<u?(h++,p+=i[h]):v===f?f="":p+=v:d?v==='"'||v==="'"?f=v:v==="]"?(d=!1,o.push(p),p=""):p+=v:v==="["?(d=!0,p&&(o.push(p),p="")):v==="."?p&&(o.push(p),p=""):p+=v,h++}return p&&o.push(p),o}t.toPath=r})(lx)),lx}var UC;function oj(){return UC||(UC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=N4(),a=SO(),r=ij(),i=lj();function o(h,p,f){if(h==null)return f;switch(typeof p){case"string":{if(n.isUnsafeProperty(p))return f;const d=h[p];return d===void 0?a.isDeepKey(p)?o(h,i.toPath(p),f):f:d}case"number":case"symbol":{typeof p=="number"&&(p=r.toKey(p));const d=h[p];return d===void 0?f:d}default:{if(Array.isArray(p))return u(h,p,f);if(Object.is(p?.valueOf(),-0)?p="-0":p=String(p),n.isUnsafeProperty(p))return f;const d=h[p];return d===void 0?f:d}}}function u(h,p,f){if(p.length===0)return f;let d=h;for(let v=0;v<p.length;v++){if(d==null||n.isUnsafeProperty(p[v]))return f;d=d[p[v]]}return d===void 0?f:d}t.get=o})(ax)),ax}var cx,$C;function C4(){return $C||($C=1,cx=oj().get),cx}var w4=C4();const qi=Sr(w4);var wn=t=>t===0?0:t>0?1:-1,Ya=t=>typeof t=="number"&&t!=+t,ts=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Pe=t=>(typeof t=="number"||t instanceof Number)&&!Ya(t),jr=t=>Pe(t)||typeof t=="string",A4=0,Hc=t=>{var n=++A4;return"".concat(t||"").concat(n)},qn=function(n,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(n)&&typeof n!="string")return r;var o;if(ts(n)){if(a==null)return r;var u=n.indexOf("%");o=a*parseFloat(n.slice(0,u))/100}else o=+n;return Ya(o)&&(o=r),i&&a!=null&&o>a&&(o=a),o},CO=t=>{if(!Array.isArray(t))return!1;for(var n=t.length,a={},r=0;r<n;r++)if(!a[t[r]])a[t[r]]=!0;else return!0;return!1};function Tt(t,n,a){return Pe(t)&&Pe(n)?t+a*(n-t):n}function wO(t,n,a){if(!(!t||!t.length))return t.find(r=>r&&(typeof n=="function"?n(r):qi(r,n))===a)}var Ut=t=>t===null||typeof t>"u",uu=t=>Ut(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function E4(t){return t!=null}function du(){}var D4=["type","size","sizeType"];function Wg(){return Wg=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Wg.apply(null,arguments)}function qC(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function HC(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?qC(Object(a),!0).forEach(function(r){O4(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qC(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function O4(t,n,a){return(n=P4(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function P4(t){var n=k4(t,"string");return typeof n=="symbol"?n:n+""}function k4(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function T4(t,n){if(t==null)return{};var a,r,i=M4(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function M4(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var AO={symbolCircle:sj,symbolCross:KL,symbolDiamond:XL,symbolSquare:ZL,symbolStar:t4,symbolTriangle:n4,symbolWye:r4},I4=Math.PI/180,R4=t=>{var n="symbol".concat(uu(t));return AO[n]||sj},_4=(t,n,a)=>{if(n==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*I4;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},B4=(t,n)=>{AO["symbol".concat(uu(t))]=n},cj=t=>{var{type:n="circle",size:a=64,sizeType:r="area"}=t,i=T4(t,D4),o=HC(HC({},i),{},{type:n,size:a,sizeType:r}),u="circle";typeof n=="string"&&(u=n);var h=()=>{var y=R4(u),C=s4().type(y).size(_4(a,r,u)),N=C();if(N!==null)return N},{className:p,cx:f,cy:d}=o,v=Kn(o);return Pe(f)&&Pe(d)&&Pe(a)?x.createElement("path",Wg({},v,{className:ut("recharts-symbols",p),transform:"translate(".concat(f,", ").concat(d,")"),d:h()})):null};cj.registerSymbol=B4;var EO=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,uj=(t,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(x.isValidElement(t)&&(a=t.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(i=>{tj(i)&&(r[i]=(o=>a[i](a,o)))}),r},L4=(t,n,a)=>r=>(t(n,a,r),null),hu=(t,n,a)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];tj(i)&&typeof o=="function"&&(r||(r={}),r[i]=L4(o,n,a))}),r};function VC(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function F4(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?VC(Object(a),!0).forEach(function(r){z4(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):VC(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function z4(t,n,a){return(n=U4(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function U4(t){var n=$4(t,"string");return typeof n=="symbol"?n:n+""}function $4(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function un(t,n){var a=F4({},t),r=n,i=Object.keys(n),o=i.reduce((u,h)=>(u[h]===void 0&&r[h]!==void 0&&(u[h]=r[h]),u),a);return o}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Fh.apply(null,arguments)}function YC(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function q4(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?YC(Object(a),!0).forEach(function(r){H4(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):YC(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function H4(t,n,a){return(n=V4(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function V4(t){var n=Y4(t,"string");return typeof n=="symbol"?n:n+""}function Y4(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var $a=32,G4={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function K4(t){var{data:n,iconType:a,inactiveColor:r}=t,i=$a/2,o=$a/6,u=$a/3,h=n.inactive?r:n.color,p=a??n.type;if(p==="none")return null;if(p==="plainline"){var f;return x.createElement("line",{strokeWidth:4,fill:"none",stroke:h,strokeDasharray:(f=n.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:$a,y2:i,className:"recharts-legend-icon"})}if(p==="line")return x.createElement("path",{strokeWidth:4,fill:"none",stroke:h,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat($a,"M").concat(2*u,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(p==="rect")return x.createElement("path",{stroke:"none",fill:h,d:"M0,".concat($a/8,"h").concat($a,"v").concat($a*3/4,"h").concat(-$a,"z"),className:"recharts-legend-icon"});if(x.isValidElement(n.legendIcon)){var d=q4({},n);return delete d.legendIcon,x.cloneElement(n.legendIcon,d)}return x.createElement(cj,{fill:h,cx:i,cy:i,size:$a,sizeType:"diameter",type:p})}function W4(t){var{payload:n,iconSize:a,layout:r,formatter:i,inactiveColor:o,iconType:u}=t,h={x:0,y:0,width:$a,height:$a},p={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((d,v)=>{var y=d.formatter||i,C=ut({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:d.inactive});if(d.type==="none")return null;var N=d.inactive?o:d.color,j=y?y(d.value,d,v):d.value;return x.createElement("li",Fh({className:C,style:p,key:"legend-item-".concat(v)},hu(t,d,v)),x.createElement(nj,{width:a,height:a,viewBox:h,style:f,"aria-label":"".concat(j," legend icon")},x.createElement(K4,{data:d,iconType:u,inactiveColor:o})),x.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},j))})}var X4=t=>{var n=un(t,G4),{payload:a,layout:r,align:i}=n;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return x.createElement("ul",{className:"recharts-default-legend",style:o},x.createElement(W4,Fh({},n,{payload:a})))},ux={},dx={},GC;function Z4(){return GC||(GC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a,r){const i=new Map;for(let o=0;o<a.length;o++){const u=a[o],h=r(u);i.has(h)||i.set(h,u)}return Array.from(i.values())}t.uniqBy=n})(dx)),dx}var hx={},KC;function DO(){return KC||(KC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return a}t.identity=n})(hx)),hx}var mx={},fx={},px={},WC;function Q4(){return WC||(WC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return Number.isSafeInteger(a)&&a>=0}t.isLength=n})(px)),px}var XC;function dj(){return XC||(XC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=Q4();function a(r){return r!=null&&typeof r!="function"&&n.isLength(r.length)}t.isArrayLike=a})(fx)),fx}var vx={},ZC;function J4(){return ZC||(ZC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return typeof a=="object"&&a!==null}t.isObjectLike=n})(vx)),vx}var QC;function eF(){return QC||(QC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=dj(),a=J4();function r(i){return a.isObjectLike(i)&&n.isArrayLike(i)}t.isArrayLikeObject=r})(mx)),mx}var xx={},gx={},JC;function tF(){return JC||(JC=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=oj();function a(r){return function(i){return n.get(i,r)}}t.property=a})(gx)),gx}var yx={},jx={},bx={},Nx={},ew;function OO(){return ew||(ew=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return a!==null&&(typeof a=="object"||typeof a=="function")}t.isObject=n})(Nx)),Nx}var Sx={},tw;function PO(){return tw||(tw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return a==null||typeof a!="object"&&typeof a!="function"}t.isPrimitive=n})(Sx)),Sx}var Cx={},nw;function kO(){return nw||(nw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}t.eq=n})(Cx)),Cx}var aw;function nF(){return aw||(aw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=OO(),a=PO(),r=kO();function i(d,v,y){return typeof y!="function"?i(d,v,()=>{}):o(d,v,function C(N,j,w,O,S,E){const T=y(N,j,w,O,S,E);return T!==void 0?!!T:o(N,j,C,E)},new Map)}function o(d,v,y,C){if(v===d)return!0;switch(typeof v){case"object":return u(d,v,y,C);case"function":return Object.keys(v).length>0?o(d,{...v},y,C):r.eq(d,v);default:return n.isObject(d)?typeof v=="string"?v==="":!0:r.eq(d,v)}}function u(d,v,y,C){if(v==null)return!0;if(Array.isArray(v))return p(d,v,y,C);if(v instanceof Map)return h(d,v,y,C);if(v instanceof Set)return f(d,v,y,C);const N=Object.keys(v);if(d==null)return N.length===0;if(N.length===0)return!0;if(C?.has(v))return C.get(v)===d;C?.set(v,d);try{for(let j=0;j<N.length;j++){const w=N[j];if(!a.isPrimitive(d)&&!(w in d)||v[w]===void 0&&d[w]!==void 0||v[w]===null&&d[w]!==null||!y(d[w],v[w],w,d,v,C))return!1}return!0}finally{C?.delete(v)}}function h(d,v,y,C){if(v.size===0)return!0;if(!(d instanceof Map))return!1;for(const[N,j]of v.entries()){const w=d.get(N);if(y(w,j,N,d,v,C)===!1)return!1}return!0}function p(d,v,y,C){if(v.length===0)return!0;if(!Array.isArray(d))return!1;const N=new Set;for(let j=0;j<v.length;j++){const w=v[j];let O=!1;for(let S=0;S<d.length;S++){if(N.has(S))continue;const E=d[S];let T=!1;if(y(E,w,j,d,v,C)&&(T=!0),T){N.add(S),O=!0;break}}if(!O)return!1}return!0}function f(d,v,y,C){return v.size===0?!0:d instanceof Set?p([...d],[...v],y,C):!1}t.isMatchWith=i,t.isSetMatch=f})(bx)),bx}var rw;function TO(){return rw||(rw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=nF();function a(r,i){return n.isMatchWith(r,i,()=>{})}t.isMatch=a})(jx)),jx}var wx={},Ax={},Ex={},sw;function aF(){return sw||(sw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}t.getSymbols=n})(Ex)),Ex}var Dx={},iw;function MO(){return iw||(iw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}t.getTag=n})(Dx)),Dx}var Ox={},lw;function IO(){return lw||(lw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n="[object RegExp]",a="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",u="[object Symbol]",h="[object Date]",p="[object Map]",f="[object Set]",d="[object Array]",v="[object Function]",y="[object ArrayBuffer]",C="[object Object]",N="[object Error]",j="[object DataView]",w="[object Uint8Array]",O="[object Uint8ClampedArray]",S="[object Uint16Array]",E="[object Uint32Array]",T="[object BigUint64Array]",k="[object Int8Array]",F="[object Int16Array]",P="[object Int32Array]",W="[object BigInt64Array]",R="[object Float32Array]",U="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=y,t.arrayTag=d,t.bigInt64ArrayTag=W,t.bigUint64ArrayTag=T,t.booleanTag=i,t.dataViewTag=j,t.dateTag=h,t.errorTag=N,t.float32ArrayTag=R,t.float64ArrayTag=U,t.functionTag=v,t.int16ArrayTag=F,t.int32ArrayTag=P,t.int8ArrayTag=k,t.mapTag=p,t.numberTag=r,t.objectTag=C,t.regexpTag=n,t.setTag=f,t.stringTag=a,t.symbolTag=u,t.uint16ArrayTag=S,t.uint32ArrayTag=E,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=O})(Ox)),Ox}var Px={},ow;function rF(){return ow||(ow=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}t.isTypedArray=n})(Px)),Px}var cw;function RO(){return cw||(cw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=aF(),a=MO(),r=IO(),i=PO(),o=rF();function u(d,v){return h(d,void 0,d,new Map,v)}function h(d,v,y,C=new Map,N=void 0){const j=N?.(d,v,y,C);if(j!==void 0)return j;if(i.isPrimitive(d))return d;if(C.has(d))return C.get(d);if(Array.isArray(d)){const w=new Array(d.length);C.set(d,w);for(let O=0;O<d.length;O++)w[O]=h(d[O],O,y,C,N);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;C.set(d,w);for(const[O,S]of d)w.set(O,h(S,O,y,C,N));return w}if(d instanceof Set){const w=new Set;C.set(d,w);for(const O of d)w.add(h(O,void 0,y,C,N));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(o.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);C.set(d,w);for(let O=0;O<d.length;O++)w[O]=h(d[O],O,y,C,N);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return C.set(d,w),p(w,d,y,C,N),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return C.set(d,w),p(w,d,y,C,N),w}if(typeof Blob<"u"&&d instanceof Blob){const w=new Blob([d],{type:d.type});return C.set(d,w),p(w,d,y,C,N),w}if(d instanceof Error){const w=new d.constructor;return C.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,p(w,d,y,C,N),w}if(d instanceof Boolean){const w=new Boolean(d.valueOf());return C.set(d,w),p(w,d,y,C,N),w}if(d instanceof Number){const w=new Number(d.valueOf());return C.set(d,w),p(w,d,y,C,N),w}if(d instanceof String){const w=new String(d.valueOf());return C.set(d,w),p(w,d,y,C,N),w}if(typeof d=="object"&&f(d)){const w=Object.create(Object.getPrototypeOf(d));return C.set(d,w),p(w,d,y,C,N),w}return d}function p(d,v,y=d,C,N){const j=[...Object.keys(v),...n.getSymbols(v)];for(let w=0;w<j.length;w++){const O=j[w],S=Object.getOwnPropertyDescriptor(d,O);(S==null||S.writable)&&(d[O]=h(v[O],O,y,C,N))}}function f(d){switch(a.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=u,t.cloneDeepWithImpl=h,t.copyProperties=p})(Ax)),Ax}var uw;function sF(){return uw||(uw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=RO();function a(r){return n.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=a})(wx)),wx}var dw;function iF(){return dw||(dw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=TO(),a=sF();function r(i){return i=a.cloneDeep(i),o=>n.isMatch(o,i)}t.matches=r})(yx)),yx}var kx={},Tx={},Mx={},hw;function lF(){return hw||(hw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=RO(),a=IO();function r(i,o){return n.cloneDeepWith(i,(u,h,p,f)=>{const d=o?.(u,h,p,f);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case a.numberTag:case a.stringTag:case a.booleanTag:{const v=new i.constructor(i?.valueOf());return n.copyProperties(v,i),v}case a.argumentsTag:{const v={};return n.copyProperties(v,i),v.length=i.length,v[Symbol.iterator]=i[Symbol.iterator],v}default:return}})}t.cloneDeepWith=r})(Mx)),Mx}var mw;function oF(){return mw||(mw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=lF();function a(r){return n.cloneDeepWith(r)}t.cloneDeep=a})(Tx)),Tx}var Ix={},Rx={},fw;function _O(){return fw||(fw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=/^(?:0|[1-9]\d*)$/;function a(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return n.test(r)}}t.isIndex=a})(Rx)),Rx}var _x={},pw;function cF(){return pw||(pw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=MO();function a(r){return r!==null&&typeof r=="object"&&n.getTag(r)==="[object Arguments]"}t.isArguments=a})(_x)),_x}var vw;function uF(){return vw||(vw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=SO(),a=_O(),r=cF(),i=lj();function o(u,h){let p;if(Array.isArray(h)?p=h:typeof h=="string"&&n.isDeepKey(h)&&u?.[h]==null?p=i.toPath(h):p=[h],p.length===0)return!1;let f=u;for(let d=0;d<p.length;d++){const v=p[d];if((f==null||!Object.hasOwn(f,v))&&!((Array.isArray(f)||r.isArguments(f))&&a.isIndex(v)&&v<f.length))return!1;f=f[v]}return!0}t.has=o})(Ix)),Ix}var xw;function dF(){return xw||(xw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=TO(),a=ij(),r=oF(),i=oj(),o=uF();function u(h,p){switch(typeof h){case"object":{Object.is(h?.valueOf(),-0)&&(h="-0");break}case"number":{h=a.toKey(h);break}}return p=r.cloneDeep(p),function(f){const d=i.get(f,h);return d===void 0?o.has(f,h):p===void 0?d===void 0:n.isMatch(d,p)}}t.matchesProperty=u})(kx)),kx}var gw;function hF(){return gw||(gw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=DO(),a=tF(),r=iF(),i=dF();function o(u){if(u==null)return n.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?i.matchesProperty(u[0],u[1]):r.matches(u);case"string":case"symbol":case"number":return a.property(u)}}t.iteratee=o})(xx)),xx}var yw;function mF(){return yw||(yw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=Z4(),a=DO(),r=eF(),i=hF();function o(u,h=a.identity){return r.isArrayLikeObject(u)?n.uniqBy(Array.from(u),i.iteratee(h)):[]}t.uniqBy=o})(ux)),ux}var Bx,jw;function fF(){return jw||(jw=1,Bx=mF().uniqBy),Bx}var pF=fF();const bw=Sr(pF);function BO(t,n,a){return n===!0?bw(t,a):typeof n=="function"?bw(t,n):t}var Lx={exports:{}},Fx={},zx={exports:{}},Ux={};var Nw;function vF(){if(Nw)return Ux;Nw=1;var t=lo();function n(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var a=typeof Object.is=="function"?Object.is:n,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,u=t.useDebugValue;function h(v,y){var C=y(),N=r({inst:{value:C,getSnapshot:y}}),j=N[0].inst,w=N[1];return o(function(){j.value=C,j.getSnapshot=y,p(j)&&w({inst:j})},[v,C,y]),i(function(){return p(j)&&w({inst:j}),v(function(){p(j)&&w({inst:j})})},[v]),u(C),C}function p(v){var y=v.getSnapshot;v=v.value;try{var C=y();return!a(v,C)}catch{return!0}}function f(v,y){return y()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:h;return Ux.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,Ux}var Sw;function xF(){return Sw||(Sw=1,zx.exports=vF()),zx.exports}var Cw;function gF(){if(Cw)return Fx;Cw=1;var t=lo(),n=xF();function a(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:a,i=n.useSyncExternalStore,o=t.useRef,u=t.useEffect,h=t.useMemo,p=t.useDebugValue;return Fx.useSyncExternalStoreWithSelector=function(f,d,v,y,C){var N=o(null);if(N.current===null){var j={hasValue:!1,value:null};N.current=j}else j=N.current;N=h(function(){function O(F){if(!S){if(S=!0,E=F,F=y(F),C!==void 0&&j.hasValue){var P=j.value;if(C(P,F))return T=P}return T=F}if(P=T,r(E,F))return P;var W=y(F);return C!==void 0&&C(P,W)?(E=F,P):(E=F,T=W)}var S=!1,E,T,k=v===void 0?null:v;return[function(){return O(d())},k===null?void 0:function(){return O(k())}]},[d,v,y,C]);var w=i(f,N[0],N[1]);return u(function(){j.hasValue=!0,j.value=w},[w]),p(w),w},Fx}var ww;function yF(){return ww||(ww=1,Lx.exports=gF()),Lx.exports}var jF=yF(),hj=x.createContext(null),bF=t=>t,Et=()=>{var t=x.useContext(hj);return t?t.store.dispatch:bF},Nh=()=>{},NF=()=>Nh,SF=(t,n)=>t===n;function ke(t){var n=x.useContext(hj);return jF.useSyncExternalStoreWithSelector(n?n.subscription.addNestedSub:NF,n?n.store.getState:Nh,n?n.store.getState:Nh,n?t:Nh,SF)}function CF(t,n=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(n)}function wF(t,n=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(n)}function AF(t,n="expected all items to be functions, instead received the following types: "){if(!t.every(a=>typeof a=="function")){const a=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${n}[${a}]`)}}var Aw=t=>Array.isArray(t)?t:[t];function EF(t){const n=Array.isArray(t[0])?t[0]:t;return AF(n,"createSelector expects all input-selectors to be functions, but received the following types: "),n}function DF(t,n){const a=[],{length:r}=t;for(let i=0;i<r;i++)a.push(t[i].apply(null,n));return a}var OF=class{constructor(t){this.value=t}deref(){return this.value}},PF=typeof WeakRef<"u"?WeakRef:OF,kF=0,Ew=1;function Jd(){return{s:kF,v:void 0,o:null,p:null}}function LO(t,n={}){let a=Jd();const{resultEqualityCheck:r}=n;let i,o=0;function u(){let h=a;const{length:p}=arguments;for(let v=0,y=p;v<y;v++){const C=arguments[v];if(typeof C=="function"||typeof C=="object"&&C!==null){let N=h.o;N===null&&(h.o=N=new WeakMap);const j=N.get(C);j===void 0?(h=Jd(),N.set(C,h)):h=j}else{let N=h.p;N===null&&(h.p=N=new Map);const j=N.get(C);j===void 0?(h=Jd(),N.set(C,h)):h=j}}const f=h;let d;if(h.s===Ew)d=h.v;else if(d=t.apply(null,arguments),o++,r){const v=i?.deref?.()??i;v!=null&&r(v,d)&&(d=v,o!==0&&o--),i=typeof d=="object"&&d!==null||typeof d=="function"?new PF(d):d}return f.s=Ew,f.v=d,d}return u.clearCache=()=>{a=Jd(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function TF(t,...n){const a=typeof t=="function"?{memoize:t,memoizeOptions:n}:t,r=(...i)=>{let o=0,u=0,h,p={},f=i.pop();typeof f=="object"&&(p=f,f=i.pop()),CF(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const d={...a,...p},{memoize:v,memoizeOptions:y=[],argsMemoize:C=LO,argsMemoizeOptions:N=[]}=d,j=Aw(y),w=Aw(N),O=EF(i),S=v(function(){return o++,f.apply(null,arguments)},...j),E=C(function(){u++;const k=DF(O,arguments);return h=S.apply(null,k),h},...w);return Object.assign(E,{resultFunc:f,memoizedResultFunc:S,dependencies:O,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>h,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:v,argsMemoize:C})};return Object.assign(r,{withTypes:()=>r}),r}var ve=TF(LO),MF=Object.assign((t,n=ve)=>{wF(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const a=Object.keys(t),r=a.map(o=>t[o]);return n(r,(...o)=>o.reduce((u,h,p)=>(u[a[p]]=h,u),{}))},{withTypes:()=>MF}),$x={},qx={},Hx={},Dw;function IF(){return Dw||(Dw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,i,o)=>{if(r!==i){const u=n(r),h=n(i);if(u===h&&u===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?h-u:u-h}return 0};t.compareValues=a})(Hx)),Hx}var Vx={},Yx={},Ow;function FO(){return Ow||(Ow=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return typeof a=="symbol"||a instanceof Symbol}t.isSymbol=n})(Yx)),Yx}var Pw;function RF(){return Pw||(Pw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=FO(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||n.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!a.test(o))||u!=null&&Object.hasOwn(u,o)}t.isKey=i})(Vx)),Vx}var kw;function _F(){return kw||(kw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=IF(),a=RF(),r=lj();function i(o,u,h,p){if(o==null)return[];h=p?void 0:h,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(h)||(h=h==null?[]:[h]),h=h.map(C=>String(C));const f=(C,N)=>{let j=C;for(let w=0;w<N.length&&j!=null;++w)j=j[N[w]];return j},d=(C,N)=>N==null||C==null?N:typeof C=="object"&&"key"in C?Object.hasOwn(N,C.key)?N[C.key]:f(N,C.path):typeof C=="function"?C(N):Array.isArray(C)?f(N,C):typeof N=="object"?N[C]:N,v=u.map(C=>(Array.isArray(C)&&C.length===1&&(C=C[0]),C==null||typeof C=="function"||Array.isArray(C)||a.isKey(C)?C:{key:C,path:r.toPath(C)}));return o.map(C=>({original:C,criteria:v.map(N=>d(N,C))})).slice().sort((C,N)=>{for(let j=0;j<v.length;j++){const w=n.compareValues(C.criteria[j],N.criteria[j],h[j]);if(w!==0)return w}return 0}).map(C=>C.original)}t.orderBy=i})(qx)),qx}var Gx={},Tw;function BF(){return Tw||(Tw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a,r=1){const i=[],o=Math.floor(r),u=(h,p)=>{for(let f=0;f<h.length;f++){const d=h[f];Array.isArray(d)&&p<o?u(d,p+1):i.push(d)}};return u(a,0),i}t.flatten=n})(Gx)),Gx}var Kx={},Mw;function zO(){return Mw||(Mw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=_O(),a=dj(),r=OO(),i=kO();function o(u,h,p){return r.isObject(p)&&(typeof h=="number"&&a.isArrayLike(p)&&n.isIndex(h)&&h<p.length||typeof h=="string"&&h in p)?i.eq(p[h],u):!1}t.isIterateeCall=o})(Kx)),Kx}var Iw;function LF(){return Iw||(Iw=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=_F(),a=BF(),r=zO();function i(o,...u){const h=u.length;return h>1&&r.isIterateeCall(o,u[0],u[1])?u=[]:h>2&&r.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),n.orderBy(o,a.flatten(u),["asc"])}t.sortBy=i})($x)),$x}var Wx,Rw;function FF(){return Rw||(Rw=1,Wx=LF().sortBy),Wx}var zF=FF();const $m=Sr(zF);var UO=t=>t.legend.settings,UF=t=>t.legend.size,$F=t=>t.legend.payload,qF=ve([$F,UO],(t,n)=>{var{itemSorter:a}=n,r=t.flat(1);return a?$m(r,a):r});function HF(){return ke(qF)}var eh=1;function $O(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[n,a]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-n.height)>eh||Math.abs(u.left-n.left)>eh||Math.abs(u.top-n.top)>eh||Math.abs(u.width-n.width)>eh)&&a({height:u.height,left:u.left,top:u.top,width:u.width})}},[n.width,n.height,n.top,n.left,...t]);return[n,r]}function Tn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var VF=typeof Symbol=="function"&&Symbol.observable||"@@observable",_w=VF,Xx=()=>Math.random().toString(36).substring(7).split("").join("."),YF={INIT:`@@redux/INIT${Xx()}`,REPLACE:`@@redux/REPLACE${Xx()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Xx()}`},zh=YF;function mj(t){if(typeof t!="object"||t===null)return!1;let n=t;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(t)===n||Object.getPrototypeOf(t)===null}function qO(t,n,a){if(typeof t!="function")throw new Error(Tn(2));if(typeof n=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(Tn(0));if(typeof n=="function"&&typeof a>"u"&&(a=n,n=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(Tn(1));return a(qO)(t,n)}let r=t,i=n,o=new Map,u=o,h=0,p=!1;function f(){u===o&&(u=new Map,o.forEach((w,O)=>{u.set(O,w)}))}function d(){if(p)throw new Error(Tn(3));return i}function v(w){if(typeof w!="function")throw new Error(Tn(4));if(p)throw new Error(Tn(5));let O=!0;f();const S=h++;return u.set(S,w),function(){if(O){if(p)throw new Error(Tn(6));O=!1,f(),u.delete(S),o=null}}}function y(w){if(!mj(w))throw new Error(Tn(7));if(typeof w.type>"u")throw new Error(Tn(8));if(typeof w.type!="string")throw new Error(Tn(17));if(p)throw new Error(Tn(9));try{p=!0,i=r(i,w)}finally{p=!1}return(o=u).forEach(S=>{S()}),w}function C(w){if(typeof w!="function")throw new Error(Tn(10));r=w,y({type:zh.REPLACE})}function N(){const w=v;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Tn(11));function S(){const T=O;T.next&&T.next(d())}return S(),{unsubscribe:w(S)}},[_w](){return this}}}return y({type:zh.INIT}),{dispatch:y,subscribe:v,getState:d,replaceReducer:C,[_w]:N}}function GF(t){Object.keys(t).forEach(n=>{const a=t[n];if(typeof a(void 0,{type:zh.INIT})>"u")throw new Error(Tn(12));if(typeof a(void 0,{type:zh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Tn(13))})}function HO(t){const n=Object.keys(t),a={};for(let o=0;o<n.length;o++){const u=n[o];typeof t[u]=="function"&&(a[u]=t[u])}const r=Object.keys(a);let i;try{GF(a)}catch(o){i=o}return function(u={},h){if(i)throw i;let p=!1;const f={};for(let d=0;d<r.length;d++){const v=r[d],y=a[v],C=u[v],N=y(C,h);if(typeof N>"u")throw h&&h.type,new Error(Tn(14));f[v]=N,p=p||N!==C}return p=p||r.length!==Object.keys(u).length,p?f:u}}function Uh(...t){return t.length===0?n=>n:t.length===1?t[0]:t.reduce((n,a)=>(...r)=>n(a(...r)))}function KF(...t){return n=>(a,r)=>{const i=n(a,r);let o=()=>{throw new Error(Tn(15))};const u={getState:i.getState,dispatch:(p,...f)=>o(p,...f)},h=t.map(p=>p(u));return o=Uh(...h)(i.dispatch),{...i,dispatch:o}}}function VO(t){return mj(t)&&"type"in t&&typeof t.type=="string"}var YO=Symbol.for("immer-nothing"),Bw=Symbol.for("immer-draftable"),Wn=Symbol.for("immer-state");function rr(t,...n){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Ca=Object,Jl=Ca.getPrototypeOf,$h="constructor",qm="prototype",Xg="configurable",qh="enumerable",Sh="writable",Vc="value",ns=t=>!!t&&!!t[Wn];function cr(t){return t?GO(t)||Hm(t)||!!t[Bw]||!!t[$h]?.[Bw]||Vm(t)||Ym(t):!1}var WF=Ca[qm][$h].toString(),Lw=new WeakMap;function GO(t){if(!t||!fj(t))return!1;const n=Jl(t);if(n===null||n===Ca[qm])return!0;const a=Ca.hasOwnProperty.call(n,$h)&&n[$h];if(a===Object)return!0;if(!ql(a))return!1;let r=Lw.get(a);return r===void 0&&(r=Function.toString.call(a),Lw.set(a,r)),r===WF}function mu(t,n,a=!0){fu(t)===0?(a?Reflect.ownKeys(t):Ca.keys(t)).forEach(i=>{n(i,t[i],t)}):t.forEach((r,i)=>n(i,r,t))}function fu(t){const n=t[Wn];return n?n.type_:Hm(t)?1:Vm(t)?2:Ym(t)?3:0}var Fw=(t,n,a=fu(t))=>a===2?t.has(n):Ca[qm].hasOwnProperty.call(t,n),Zg=(t,n,a=fu(t))=>a===2?t.get(n):t[n],Hh=(t,n,a,r=fu(t))=>{r===2?t.set(n,a):r===3?t.add(a):t[n]=a};function XF(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}var Hm=Array.isArray,Vm=t=>t instanceof Map,Ym=t=>t instanceof Set,fj=t=>typeof t=="object",ql=t=>typeof t=="function",Zx=t=>typeof t=="boolean",$r=t=>t.copy_||t.base_,pj=t=>t.modified_?t.copy_:t.base_;function Qg(t,n){if(Vm(t))return new Map(t);if(Ym(t))return new Set(t);if(Hm(t))return Array[qm].slice.call(t);const a=GO(t);if(n===!0||n==="class_only"&&!a){const r=Ca.getOwnPropertyDescriptors(t);delete r[Wn];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const u=i[o],h=r[u];h[Sh]===!1&&(h[Sh]=!0,h[Xg]=!0),(h.get||h.set)&&(r[u]={[Xg]:!0,[Sh]:!0,[qh]:h[qh],[Vc]:t[u]})}return Ca.create(Jl(t),r)}else{const r=Jl(t);if(r!==null&&a)return{...t};const i=Ca.create(r);return Ca.assign(i,t)}}function vj(t,n=!1){return Gm(t)||ns(t)||!cr(t)||(fu(t)>1&&Ca.defineProperties(t,{set:th,add:th,clear:th,delete:th}),Ca.freeze(t),n&&mu(t,(a,r)=>{vj(r,!0)},!1)),t}function ZF(){rr(2)}var th={[Vc]:ZF};function Gm(t){return t===null||!fj(t)?!0:Ca.isFrozen(t)}var Vh="MapSet",Jg="Patches",KO={};function eo(t){const n=KO[t];return n||rr(0,t),n}var QF=t=>!!KO[t],Yc,WO=()=>Yc,JF=(t,n)=>({drafts_:[],parent_:t,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:QF(Vh)?eo(Vh):void 0});function zw(t,n){n&&(t.patchPlugin_=eo(Jg),t.patches_=[],t.inversePatches_=[],t.patchListener_=n)}function ey(t){ty(t),t.drafts_.forEach(e5),t.drafts_=null}function ty(t){t===Yc&&(Yc=t.parent_)}var Uw=t=>Yc=JF(Yc,t);function e5(t){const n=t[Wn];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function $w(t,n){n.unfinalizedDrafts_=n.drafts_.length;const a=n.drafts_[0];if(t!==void 0&&t!==a){a[Wn].modified_&&(ey(n),rr(4)),cr(t)&&(t=qw(n,t));const{patchPlugin_:i}=n;i&&i.generateReplacementPatches_(a[Wn].base_,t,n)}else t=qw(n,a);return t5(n,t,!0),ey(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),t!==YO?t:void 0}function qw(t,n){if(Gm(n))return n;const a=n[Wn];if(!a)return xj(n,t.handledSet_,t);if(!Km(a,t))return n;if(!a.modified_)return a.base_;if(!a.finalized_){const{callbacks_:r}=a;if(r)for(;r.length>0;)r.pop()(t);QO(a,t)}return a.copy_}function t5(t,n,a=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&vj(n,a)}function XO(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Km=(t,n)=>t.scope_===n,n5=[];function ZO(t,n,a,r){const i=$r(t),o=t.type_;if(r!==void 0&&Zg(i,r,o)===n){Hh(i,r,a,o);return}if(!t.draftLocations_){const h=t.draftLocations_=new Map;mu(i,(p,f)=>{if(ns(f)){const d=h.get(f)||[];d.push(p),h.set(f,d)}})}const u=t.draftLocations_.get(n)??n5;for(const h of u)Hh(i,h,a,o)}function a5(t,n,a){t.callbacks_.push(function(i){const o=n;if(!o||!Km(o,i))return;i.mapSetPlugin_?.fixSetContents(o);const u=pj(o);ZO(t,o.draft_??o,u,a),QO(o,i)})}function QO(t,n){if(t.modified_&&!t.finalized_&&(t.type_===3||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=n;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,n)}XO(t)}}function r5(t,n,a){const{scope_:r}=t;if(ns(a)){const i=a[Wn];Km(i,r)&&i.callbacks_.push(function(){Ch(t);const u=pj(i);ZO(t,a,u,n)})}else cr(a)&&t.callbacks_.push(function(){const o=$r(t);Zg(o,n,t.type_)===a&&r.drafts_.length>1&&(t.assigned_.get(n)??!1)===!0&&t.copy_&&xj(Zg(t.copy_,n,t.type_),r.handledSet_,r)})}function xj(t,n,a){return!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1||ns(t)||n.has(t)||!cr(t)||Gm(t)||(n.add(t),mu(t,(r,i)=>{if(ns(i)){const o=i[Wn];if(Km(o,a)){const u=pj(o);Hh(t,r,u,t.type_),XO(o)}}else cr(i)&&xj(i,n,a)})),t}function s5(t,n){const a=Hm(t),r={type_:a?1:0,scope_:n?n.scope_:WO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:n,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=gj;a&&(i=[r],o=Gc);const{revoke:u,proxy:h}=Proxy.revocable(i,o);return r.draft_=h,r.revoke_=u,[h,r]}var gj={get(t,n){if(n===Wn)return t;const a=$r(t);if(!Fw(a,n,t.type_))return i5(t,a,n);const r=a[n];if(t.finalized_||!cr(r))return r;if(r===Qx(t.base_,n)){Ch(t);const i=t.type_===1?+n:n,o=ay(t.scope_,r,t,i);return t.copy_[i]=o}return r},has(t,n){return n in $r(t)},ownKeys(t){return Reflect.ownKeys($r(t))},set(t,n,a){const r=JO($r(t),n);if(r?.set)return r.set.call(t.draft_,a),!0;if(!t.modified_){const i=Qx($r(t),n),o=i?.[Wn];if(o&&o.base_===a)return t.copy_[n]=a,t.assigned_.set(n,!1),!0;if(XF(a,i)&&(a!==void 0||Fw(t.base_,n,t.type_)))return!0;Ch(t),ny(t)}return t.copy_[n]===a&&(a!==void 0||n in t.copy_)||Number.isNaN(a)&&Number.isNaN(t.copy_[n])||(t.copy_[n]=a,t.assigned_.set(n,!0),r5(t,n,a)),!0},deleteProperty(t,n){return Ch(t),Qx(t.base_,n)!==void 0||n in t.base_?(t.assigned_.set(n,!1),ny(t)):t.assigned_.delete(n),t.copy_&&delete t.copy_[n],!0},getOwnPropertyDescriptor(t,n){const a=$r(t),r=Reflect.getOwnPropertyDescriptor(a,n);return r&&{[Sh]:!0,[Xg]:t.type_!==1||n!=="length",[qh]:r[qh],[Vc]:a[n]}},defineProperty(){rr(11)},getPrototypeOf(t){return Jl(t.base_)},setPrototypeOf(){rr(12)}},Gc={};mu(gj,(t,n)=>{Gc[t]=function(){const a=arguments;return a[0]=a[0][0],n.apply(this,a)}});Gc.deleteProperty=function(t,n){return Gc.set.call(this,t,n,void 0)};Gc.set=function(t,n,a){return gj.set.call(this,t[0],n,a,t[0])};function Qx(t,n){const a=t[Wn];return(a?$r(a):t)[n]}function i5(t,n,a){const r=JO(n,a);return r?Vc in r?r[Vc]:r.get?.call(t.draft_):void 0}function JO(t,n){if(!(n in t))return;let a=Jl(t);for(;a;){const r=Object.getOwnPropertyDescriptor(a,n);if(r)return r;a=Jl(a)}}function ny(t){t.modified_||(t.modified_=!0,t.parent_&&ny(t.parent_))}function Ch(t){t.copy_||(t.assigned_=new Map,t.copy_=Qg(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var l5=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(a,r,i)=>{if(ql(a)&&!ql(r)){const u=r;r=a;const h=this;return function(f=u,...d){return h.produce(f,v=>r.call(this,v,...d))}}ql(r)||rr(6),i!==void 0&&!ql(i)&&rr(7);let o;if(cr(a)){const u=Uw(this),h=ay(u,a,void 0);let p=!0;try{o=r(h),p=!1}finally{p?ey(u):ty(u)}return zw(u,i),$w(o,u)}else if(!a||!fj(a)){if(o=r(a),o===void 0&&(o=a),o===YO&&(o=void 0),this.autoFreeze_&&vj(o,!0),i){const u=[],h=[];eo(Jg).generateReplacementPatches_(a,o,{patches_:u,inversePatches_:h}),i(u,h)}return o}else rr(1,a)},this.produceWithPatches=(a,r)=>{if(ql(a))return(h,...p)=>this.produceWithPatches(h,f=>a(f,...p));let i,o;return[this.produce(a,r,(h,p)=>{i=h,o=p}),i,o]},Zx(n?.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),Zx(n?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),Zx(n?.useStrictIteration)&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){cr(n)||rr(8),ns(n)&&(n=or(n));const a=Uw(this),r=ay(a,n,void 0);return r[Wn].isManual_=!0,ty(a),r}finishDraft(n,a){const r=n&&n[Wn];(!r||!r.isManual_)&&rr(9);const{scope_:i}=r;return zw(i,a),$w(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,a){let r;for(r=a.length-1;r>=0;r--){const o=a[r];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}r>-1&&(a=a.slice(r+1));const i=eo(Jg).applyPatches_;return ns(n)?i(n,a):this.produce(n,o=>i(o,a))}};function ay(t,n,a,r){const[i,o]=Vm(n)?eo(Vh).proxyMap_(n,a):Ym(n)?eo(Vh).proxySet_(n,a):s5(n,a);return(a?.scope_??WO()).drafts_.push(i),o.callbacks_=a?.callbacks_??[],o.key_=r,a&&r!==void 0?a5(a,o,r):o.callbacks_.push(function(p){p.mapSetPlugin_?.fixSetContents(o);const{patchPlugin_:f}=p;o.modified_&&f&&f.generatePatches_(o,[],p)}),i}function or(t){return ns(t)||rr(10,t),eP(t)}function eP(t){if(!cr(t)||Gm(t))return t;const n=t[Wn];let a,r=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,a=Qg(t,n.scope_.immer_.useStrictShallowCopy_),r=n.scope_.immer_.shouldUseStrictIteration()}else a=Qg(t,!0);return mu(a,(i,o)=>{Hh(a,i,eP(o))},r),n&&(n.finalized_=!1),a}var o5=new l5,tP=o5.produce;function nP(t){return({dispatch:a,getState:r})=>i=>o=>typeof o=="function"?o(a,r,t):i(o)}var c5=nP(),u5=nP,d5=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Uh:Uh.apply(null,arguments)};function Ga(t,n){function a(...r){if(n){let i=n(...r);if(!i)throw new Error(Aa(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return a.toString=()=>`${t}`,a.type=t,a.match=r=>VO(r)&&r.type===t,a}var aP=class _c extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,_c.prototype)}static get[Symbol.species](){return _c}concat(...n){return super.concat.apply(this,n)}prepend(...n){return n.length===1&&Array.isArray(n[0])?new _c(...n[0].concat(this)):new _c(...n.concat(this))}};function Hw(t){return cr(t)?tP(t,()=>{}):t}function nh(t,n,a){return t.has(n)?t.get(n):t.set(n,a(n)).get(n)}function h5(t){return typeof t=="boolean"}var m5=()=>function(n){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=n??{};let u=new aP;return a&&(h5(a)?u.push(c5):u.push(u5(a.extraArgument))),u},rP="RTK_autoBatch",Lt=()=>t=>({payload:t,meta:{[rP]:!0}}),Vw=t=>n=>{setTimeout(n,t)},sP=(t={type:"raf"})=>n=>(...a)=>{const r=n(...a);let i=!0,o=!1,u=!1;const h=new Set,p=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Vw(10):t.type==="callback"?t.queueNotification:Vw(t.timeout),f=()=>{u=!1,o&&(o=!1,h.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const v=()=>i&&d(),y=r.subscribe(v);return h.add(d),()=>{y(),h.delete(d)}},dispatch(d){try{return i=!d?.meta?.[rP],o=!i,o&&(u||(u=!0,p(f))),r.dispatch(d)}finally{i=!0}}})},f5=t=>function(a){const{autoBatch:r=!0}=a??{};let i=new aP(t);return r&&i.push(sP(typeof r=="object"?r:void 0)),i};function p5(t){const n=m5(),{reducer:a=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:u=void 0}=t||{};let h;if(typeof a=="function")h=a;else if(mj(a))h=HO(a);else throw new Error(Aa(1));let p;typeof r=="function"?p=r(n):p=n();let f=Uh;i&&(f=d5({trace:!1,...typeof i=="object"&&i}));const d=KF(...p),v=f5(d);let y=typeof u=="function"?u(v):v();const C=f(...y);return qO(h,o,C)}function iP(t){const n={},a=[];let r;const i={addCase(o,u){const h=typeof o=="string"?o:o.type;if(!h)throw new Error(Aa(28));if(h in n)throw new Error(Aa(29));return n[h]=u,i},addAsyncThunk(o,u){return u.pending&&(n[o.pending.type]=u.pending),u.rejected&&(n[o.rejected.type]=u.rejected),u.fulfilled&&(n[o.fulfilled.type]=u.fulfilled),u.settled&&a.push({matcher:o.settled,reducer:u.settled}),i},addMatcher(o,u){return a.push({matcher:o,reducer:u}),i},addDefaultCase(o){return r=o,i}};return t(i),[n,a,r]}function v5(t){return typeof t=="function"}function x5(t,n){let[a,r,i]=iP(n),o;if(v5(t))o=()=>Hw(t());else{const h=Hw(t);o=()=>h}function u(h=o(),p){let f=[a[p.type],...r.filter(({matcher:d})=>d(p)).map(({reducer:d})=>d)];return f.filter(d=>!!d).length===0&&(f=[i]),f.reduce((d,v)=>{if(v)if(ns(d)){const C=v(d,p);return C===void 0?d:C}else{if(cr(d))return tP(d,y=>v(y,p));{const y=v(d,p);if(y===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return d},h)}return u.getInitialState=o,u}var g5="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",y5=(t=21)=>{let n="",a=t;for(;a--;)n+=g5[Math.random()*64|0];return n},j5=Symbol.for("rtk-slice-createasyncthunk");function b5(t,n){return`${t}/${n}`}function N5({creators:t}={}){const n=t?.asyncThunk?.[j5];return function(r){const{name:i,reducerPath:o=i}=r;if(!i)throw new Error(Aa(11));const u=(typeof r.reducers=="function"?r.reducers(C5()):r.reducers)||{},h=Object.keys(u),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(E,T){const k=typeof E=="string"?E:E.type;if(!k)throw new Error(Aa(12));if(k in p.sliceCaseReducersByType)throw new Error(Aa(13));return p.sliceCaseReducersByType[k]=T,f},addMatcher(E,T){return p.sliceMatchers.push({matcher:E,reducer:T}),f},exposeAction(E,T){return p.actionCreators[E]=T,f},exposeCaseReducer(E,T){return p.sliceCaseReducersByName[E]=T,f}};h.forEach(E=>{const T=u[E],k={reducerName:E,type:b5(i,E),createNotation:typeof r.reducers=="function"};A5(T)?D5(k,T,f,n):w5(k,T,f)});function d(){const[E={},T=[],k=void 0]=typeof r.extraReducers=="function"?iP(r.extraReducers):[r.extraReducers],F={...E,...p.sliceCaseReducersByType};return x5(r.initialState,P=>{for(let W in F)P.addCase(W,F[W]);for(let W of p.sliceMatchers)P.addMatcher(W.matcher,W.reducer);for(let W of T)P.addMatcher(W.matcher,W.reducer);k&&P.addDefaultCase(k)})}const v=E=>E,y=new Map,C=new WeakMap;let N;function j(E,T){return N||(N=d()),N(E,T)}function w(){return N||(N=d()),N.getInitialState()}function O(E,T=!1){function k(P){let W=P[E];return typeof W>"u"&&T&&(W=nh(C,k,w)),W}function F(P=v){const W=nh(y,T,()=>new WeakMap);return nh(W,P,()=>{const R={};for(const[U,J]of Object.entries(r.selectors??{}))R[U]=S5(J,P,()=>nh(C,P,w),T);return R})}return{reducerPath:E,getSelectors:F,get selectors(){return F(k)},selectSlice:k}}const S={name:i,reducer:j,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:w,...O(o),injectInto(E,{reducerPath:T,...k}={}){const F=T??o;return E.inject({reducerPath:F,reducer:j},k),{...S,...O(F,!0)}}};return S}}function S5(t,n,a,r){function i(o,...u){let h=n(o);return typeof h>"u"&&r&&(h=a()),t(h,...u)}return i.unwrapped=t,i}var ha=N5();function C5(){function t(n,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:n,...a}}return t.withTypes=()=>t,{reducer(n){return Object.assign({[n.name](...a){return n(...a)}}[n.name],{_reducerDefinitionType:"reducer"})},preparedReducer(n,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:n,reducer:a}},asyncThunk:t}}function w5({type:t,reducerName:n,createNotation:a},r,i){let o,u;if("reducer"in r){if(a&&!E5(r))throw new Error(Aa(17));o=r.reducer,u=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(n,o).exposeAction(n,u?Ga(t,u):Ga(t))}function A5(t){return t._reducerDefinitionType==="asyncThunk"}function E5(t){return t._reducerDefinitionType==="reducerWithPrepare"}function D5({type:t,reducerName:n},a,r,i){if(!i)throw new Error(Aa(18));const{payloadCreator:o,fulfilled:u,pending:h,rejected:p,settled:f,options:d}=a,v=i(t,o,d);r.exposeAction(n,v),u&&r.addCase(v.fulfilled,u),h&&r.addCase(v.pending,h),p&&r.addCase(v.rejected,p),f&&r.addMatcher(v.settled,f),r.exposeCaseReducer(n,{fulfilled:u||ah,pending:h||ah,rejected:p||ah,settled:f||ah})}function ah(){}var O5="task",lP="listener",oP="completed",yj="cancelled",P5=`task-${yj}`,k5=`task-${oP}`,ry=`${lP}-${yj}`,T5=`${lP}-${oP}`,Wm=class{constructor(t){this.code=t,this.message=`${O5} ${yj} (reason: ${t})`}name="TaskAbortError";message},jj=(t,n)=>{if(typeof t!="function")throw new TypeError(Aa(32))},Yh=()=>{},cP=(t,n=Yh)=>(t.catch(n),t),uP=(t,n)=>(t.addEventListener("abort",n,{once:!0}),()=>t.removeEventListener("abort",n)),_i=(t,n)=>{const a=t.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:n,configurable:!0,writable:!0}),t.abort(n))},Bi=t=>{if(t.aborted){const{reason:n}=t;throw new Wm(n)}};function dP(t,n){let a=Yh;return new Promise((r,i)=>{const o=()=>i(new Wm(t.reason));if(t.aborted){o();return}a=uP(t,o),n.finally(()=>a()).then(r,i)}).finally(()=>{a=Yh})}var M5=async(t,n)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(a){return{status:a instanceof Wm?"cancelled":"rejected",error:a}}finally{n?.()}},Gh=t=>n=>cP(dP(t,n).then(a=>(Bi(t),a))),hP=t=>{const n=Gh(t);return a=>n(new Promise(r=>setTimeout(r,a)))},{assign:Kl}=Object,Yw={},Xm="listenerMiddleware",I5=(t,n)=>{const a=r=>uP(t,()=>_i(r,t.reason));return(r,i)=>{jj(r);const o=new AbortController;a(o);const u=M5(async()=>{Bi(t),Bi(o.signal);const h=await r({pause:Gh(o.signal),delay:hP(o.signal),signal:o.signal});return Bi(o.signal),h},()=>_i(o,k5));return i?.autoJoin&&n.push(u.catch(Yh)),{result:Gh(t)(u),cancel(){_i(o,P5)}}}},R5=(t,n)=>{const a=async(r,i)=>{Bi(n);let o=()=>{};const h=[new Promise((p,f)=>{let d=t({predicate:r,effect:(v,y)=>{y.unsubscribe(),p([v,y.getState(),y.getOriginalState()])}});o=()=>{d(),f()}})];i!=null&&h.push(new Promise(p=>setTimeout(p,i,null)));try{const p=await dP(n,Promise.race(h));return Bi(n),p}finally{o()}};return(r,i)=>cP(a(r,i))},mP=t=>{let{type:n,actionCreator:a,matcher:r,predicate:i,effect:o}=t;if(n)i=Ga(n).match;else if(a)n=a.type,i=a.match;else if(r)i=r;else if(!i)throw new Error(Aa(21));return jj(o),{predicate:i,type:n,effect:o}},fP=Kl(t=>{const{type:n,predicate:a,effect:r}=mP(t);return{id:y5(),effect:r,type:n,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(Aa(22))}}},{withTypes:()=>fP}),Gw=(t,n)=>{const{type:a,effect:r,predicate:i}=mP(n);return Array.from(t.values()).find(o=>(typeof a=="string"?o.type===a:o.predicate===i)&&o.effect===r)},sy=t=>{t.pending.forEach(n=>{_i(n,ry)})},_5=(t,n)=>()=>{for(const a of n.keys())sy(a);t.clear()},Kw=(t,n,a)=>{try{t(n,a)}catch(r){setTimeout(()=>{throw r},0)}},pP=Kl(Ga(`${Xm}/add`),{withTypes:()=>pP}),B5=Ga(`${Xm}/removeAll`),vP=Kl(Ga(`${Xm}/remove`),{withTypes:()=>vP}),L5=(...t)=>{console.error(`${Xm}/error`,...t)},pu=(t={})=>{const n=new Map,a=new Map,r=C=>{const N=a.get(C)??0;a.set(C,N+1)},i=C=>{const N=a.get(C)??1;N===1?a.delete(C):a.set(C,N-1)},{extra:o,onError:u=L5}=t;jj(u);const h=C=>(C.unsubscribe=()=>n.delete(C.id),n.set(C.id,C),N=>{C.unsubscribe(),N?.cancelActive&&sy(C)}),p=C=>{const N=Gw(n,C)??fP(C);return h(N)};Kl(p,{withTypes:()=>p});const f=C=>{const N=Gw(n,C);return N&&(N.unsubscribe(),C.cancelActive&&sy(N)),!!N};Kl(f,{withTypes:()=>f});const d=async(C,N,j,w)=>{const O=new AbortController,S=R5(p,O.signal),E=[];try{C.pending.add(O),r(C),await Promise.resolve(C.effect(N,Kl({},j,{getOriginalState:w,condition:(T,k)=>S(T,k).then(Boolean),take:S,delay:hP(O.signal),pause:Gh(O.signal),extra:o,signal:O.signal,fork:I5(O.signal,E),unsubscribe:C.unsubscribe,subscribe:()=>{n.set(C.id,C)},cancelActiveListeners:()=>{C.pending.forEach((T,k,F)=>{T!==O&&(_i(T,ry),F.delete(T))})},cancel:()=>{_i(O,ry),C.pending.delete(O)},throwIfCancelled:()=>{Bi(O.signal)}})))}catch(T){T instanceof Wm||Kw(u,T,{raisedBy:"effect"})}finally{await Promise.all(E),_i(O,T5),i(C),C.pending.delete(O)}},v=_5(n,a);return{middleware:C=>N=>j=>{if(!VO(j))return N(j);if(pP.match(j))return p(j.payload);if(B5.match(j)){v();return}if(vP.match(j))return f(j.payload);let w=C.getState();const O=()=>{if(w===Yw)throw new Error(Aa(23));return w};let S;try{if(S=N(j),n.size>0){const E=C.getState(),T=Array.from(n.values());for(const k of T){let F=!1;try{F=k.predicate(j,E,w)}catch(P){F=!1,Kw(u,P,{raisedBy:"predicate"})}F&&d(k,j,C,O)}}}finally{w=Yw}return S},startListening:p,stopListening:f,clearListeners:v}};function Aa(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var F5={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},xP=ha({name:"chartLayout",initialState:F5,reducers:{setLayout(t,n){t.layoutType=n.payload},setChartSize(t,n){t.width=n.payload.width,t.height=n.payload.height},setMargin(t,n){var a,r,i,o;t.margin.top=(a=n.payload.top)!==null&&a!==void 0?a:0,t.margin.right=(r=n.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=n.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=n.payload.left)!==null&&o!==void 0?o:0},setScale(t,n){t.scale=n.payload}}}),{setMargin:z5,setLayout:U5,setChartSize:$5,setScale:q5}=xP.actions,H5=xP.reducer;function gP(t,n,a){return Array.isArray(t)&&t&&n+a!==0?t.slice(n,a+1):t}function Ww(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Vl(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Ww(Object(a),!0).forEach(function(r){V5(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Ww(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function V5(t,n,a){return(n=Y5(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function Y5(t){var n=G5(t,"string");return typeof n=="symbol"?n:n+""}function G5(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function St(t,n,a){return Ut(t)||Ut(n)?a:jr(n)?qi(t,n,a):typeof n=="function"?n(t):a}var K5=(t,n,a)=>{if(n&&a){var{width:r,height:i}=a,{align:o,verticalAlign:u,layout:h}=n;if((h==="vertical"||h==="horizontal"&&u==="middle")&&o!=="center"&&Pe(t[o]))return Vl(Vl({},t),{},{[o]:t[o]+(r||0)});if((h==="horizontal"||h==="vertical"&&o==="center")&&u!=="middle"&&Pe(t[u]))return Vl(Vl({},t),{},{[u]:t[u]+(i||0)})}return t},us=(t,n)=>t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis",yP=(t,n,a,r)=>{if(r)return t.map(h=>h.coordinate);var i,o,u=t.map(h=>(h.coordinate===n&&(i=!0),h.coordinate===a&&(o=!0),h.coordinate));return i||u.push(n),o||u.push(a),u},jP=(t,n,a)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:o,scale:u,realScaleType:h,isCategorical:p,categoricalDomain:f,tickCount:d,ticks:v,niceTicks:y,axisType:C}=t;if(!u)return null;var N=h==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,j=i==="category"&&u.bandwidth?u.bandwidth()/N:0;if(j=C==="angleAxis"&&o&&o.length>=2?wn(o[0]-o[1])*2*j:j,v||y){var w=(v||y||[]).map((O,S)=>{var E=r?r.indexOf(O):O;return{coordinate:u(E)+j,value:O,offset:j,index:S}});return w.filter(O=>!Ya(O.coordinate))}return p&&f?f.map((O,S)=>({coordinate:u(O)+j,value:O,index:S,offset:j})):u.ticks&&d!=null?u.ticks(d).map((O,S)=>({coordinate:u(O)+j,value:O,offset:j,index:S})):u.domain().map((O,S)=>({coordinate:u(O)+j,value:r?r[O]:O,index:S,offset:j}))},Xw=1e-4,W5=t=>{var n=t.domain();if(!(!n||n.length<=2)){var a=n.length,r=t.range(),i=Math.min(r[0],r[1])-Xw,o=Math.max(r[0],r[1])+Xw,u=t(n[0]),h=t(n[a-1]);(u<i||u>o||h<i||h>o)&&t.domain([n[0],n[a-1]])}},X5=(t,n)=>{if(!n||n.length!==2||!Pe(n[0])||!Pe(n[1]))return t;var a=Math.min(n[0],n[1]),r=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Pe(t[0])||t[0]<a)&&(i[0]=a),(!Pe(t[1])||t[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<a&&(i[1]=a),i},Z5=t=>{var n=t.length;if(!(n<=0))for(var a=0,r=t[0].length;a<r;++a)for(var i=0,o=0,u=0;u<n;++u){var h=Ya(t[u][a][1])?t[u][a][0]:t[u][a][1];h>=0?(t[u][a][0]=i,t[u][a][1]=i+h,i=t[u][a][1]):(t[u][a][0]=o,t[u][a][1]=o+h,o=t[u][a][1])}},Q5=t=>{var n=t.length;if(!(n<=0))for(var a=0,r=t[0].length;a<r;++a)for(var i=0,o=0;o<n;++o){var u=Ya(t[o][a][1])?t[o][a][0]:t[o][a][1];u>=0?(t[o][a][0]=i,t[o][a][1]=i+u,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},J5={sign:Z5,expand:y4,none:Ql,silhouette:j4,wiggle:b4,positive:Q5},e6=(t,n,a)=>{var r=J5[a],i=g4().keys(n).value((o,u)=>Number(St(o,u,0))).order(Kg).offset(r);return i(t)};function bP(t){return t==null?void 0:String(t)}function Zw(t){var{axis:n,ticks:a,bandSize:r,entry:i,index:o,dataKey:u}=t;if(n.type==="category"){if(!n.allowDuplicatedCategory&&n.dataKey&&!Ut(i[n.dataKey])){var h=wO(a,"value",i[n.dataKey]);if(h)return h.coordinate+r/2}return a[o]?a[o].coordinate+r/2:null}var p=St(i,Ut(u)?n.dataKey:u);return Ut(p)?null:n.scale(p)}var Qw=t=>{var{axis:n,ticks:a,offset:r,bandSize:i,entry:o,index:u}=t;if(n.type==="category")return a[u]?a[u].coordinate+r:null;var h=St(o,n.dataKey,n.scale.domain()[u]);return Ut(h)?null:n.scale(h)-i/2+r},t6=t=>{var{numericAxis:n}=t,a=n.scale.domain();if(n.type==="number"){var r=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return r<=0&&i>=0?0:i<0?i:r}return a[0]},n6=t=>{var n=t.flat(2).filter(Pe);return[Math.min(...n),Math.max(...n)]},a6=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],r6=(t,n,a)=>{if(t!=null)return a6(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:u}=o,h=u.reduce((p,f)=>{var d=gP(f,n,a),v=n6(d);return[Math.min(p[0],v[0]),Math.max(p[1],v[1])]},[1/0,-1/0]);return[Math.min(h[0],r[0]),Math.max(h[1],r[1])]},[1/0,-1/0]))},Jw=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,to=(t,n,a)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!a||r>0)return r}if(t&&n&&n.length>=2){for(var i=$m(n,d=>d.coordinate),o=1/0,u=1,h=i.length;u<h;u++){var p=i[u],f=i[u-1];o=Math.min((p.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0};function tA(t){var{tooltipEntrySettings:n,dataKey:a,payload:r,value:i,name:o}=t;return Vl(Vl({},n),{},{dataKey:a,payload:r,value:i,name:o})}function mo(t,n){if(t)return String(t);if(typeof n=="string")return n}var s6=(t,n)=>{if(n==="horizontal")return t.chartX;if(n==="vertical")return t.chartY},i6=(t,n)=>n==="centric"?t.angle:t.radius,ds=t=>t.layout.width,hs=t=>t.layout.height,l6=t=>t.layout.scale,NP=t=>t.layout.margin,Zm=ve(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Qm=ve(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),SP="data-recharts-item-index",CP="data-recharts-item-data-key",vu=60;function nA(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function rh(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?nA(Object(a),!0).forEach(function(r){o6(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):nA(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function o6(t,n,a){return(n=c6(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function c6(t){var n=u6(t,"string");return typeof n=="symbol"?n:n+""}function u6(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var d6=t=>t.brush.height;function h6(t){var n=Qm(t);return n.reduce((a,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:vu;return a+i}return a},0)}function m6(t){var n=Qm(t);return n.reduce((a,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:vu;return a+i}return a},0)}function f6(t){var n=Zm(t);return n.reduce((a,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?a+r.height:a,0)}function p6(t){var n=Zm(t);return n.reduce((a,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?a+r.height:a,0)}var vn=ve([ds,hs,NP,d6,h6,m6,f6,p6,UO,UF],(t,n,a,r,i,o,u,h,p,f)=>{var d={left:(a.left||0)+i,right:(a.right||0)+o},v={top:(a.top||0)+u,bottom:(a.bottom||0)+h},y=rh(rh({},v),d),C=y.bottom;y.bottom+=r,y=K5(y,p,f);var N=t-y.left-y.right,j=n-y.top-y.bottom;return rh(rh({brushBottom:C},y),{},{width:Math.max(N,0),height:Math.max(j,0)})}),v6=ve(vn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),bj=ve(ds,hs,(t,n)=>({x:0,y:0,width:t,height:n})),x6=x.createContext(null),Hn=()=>x.useContext(x6)!=null,Jm=t=>t.brush,ef=ve([Jm,vn,NP],(t,n,a)=>({height:t.height,x:Pe(t.x)?t.x:n.left,y:Pe(t.y)?t.y:n.top+n.height+n.brushBottom-(a?.bottom||0),width:Pe(t.width)?t.width:n.width})),Jx={},eg={},tg={},aA;function g6(){return aA||(aA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a,r,{signal:i,edges:o}={}){let u,h=null;const p=o!=null&&o.includes("leading"),f=o==null||o.includes("trailing"),d=()=>{h!==null&&(a.apply(u,h),u=void 0,h=null)},v=()=>{f&&d(),j()};let y=null;const C=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,v()},r)},N=()=>{y!==null&&(clearTimeout(y),y=null)},j=()=>{N(),u=void 0,h=null},w=()=>{d()},O=function(...S){if(i?.aborted)return;u=this,h=S;const E=y==null;C(),p&&E&&d()};return O.schedule=C,O.cancel=j,O.flush=w,i?.addEventListener("abort",j,{once:!0}),O}t.debounce=n})(tg)),tg}var rA;function y6(){return rA||(rA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=g6();function a(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:h=!0,maxWait:p}=o,f=Array(2);u&&(f[0]="leading"),h&&(f[1]="trailing");let d,v=null;const y=n.debounce(function(...j){d=r.apply(this,j),v=null},i,{edges:f}),C=function(...j){return p!=null&&(v===null&&(v=Date.now()),Date.now()-v>=p)?(d=r.apply(this,j),v=Date.now(),y.cancel(),y.schedule(),d):(y.apply(this,j),d)},N=()=>(y.flush(),d);return C.cancel=y.cancel,C.flush=N,C}t.debounce=a})(eg)),eg}var sA;function j6(){return sA||(sA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=y6();function a(r,i=0,o={}){const{leading:u=!0,trailing:h=!0}=o;return n.debounce(r,i,{leading:u,maxWait:i,trailing:h})}t.throttle=a})(Jx)),Jx}var ng,iA;function b6(){return iA||(iA=1,ng=j6().throttle),ng}var N6=b6();const S6=Sr(N6);var Kh=function(n,a){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(a===void 0&&console.warn("LogUtils requires an error message argument"),!n))if(a===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=0;console.warn(a.replace(/%s/g,()=>i[u++]))}},wP=(t,n,a)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:u}=a,h=ts(r)?t:Number(r),p=ts(i)?n:Number(i);return o&&o>0&&(h?p=h/o:p&&(h=p*o),u&&p!=null&&p>u&&(p=u)),{calculatedWidth:h,calculatedHeight:p}},C6={width:0,height:0,overflow:"visible"},w6={width:0,overflowX:"visible"},A6={height:0,overflowY:"visible"},E6={},D6=t=>{var{width:n,height:a}=t,r=ts(n),i=ts(a);return r&&i?C6:r?w6:i?A6:E6};function O6(t){var{width:n,height:a,aspect:r}=t,i=n,o=a;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function Rt(t){return Number.isFinite(t)}function br(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function iy(){return iy=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},iy.apply(null,arguments)}function lA(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function oA(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?lA(Object(a),!0).forEach(function(r){P6(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):lA(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function P6(t,n,a){return(n=k6(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function k6(t){var n=T6(t,"string");return typeof n=="symbol"?n:n+""}function T6(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var AP=x.createContext({width:-1,height:-1});function M6(t){return br(t.width)&&br(t.height)}function EP(t){var{children:n,width:a,height:r}=t,i=x.useMemo(()=>({width:a,height:r}),[a,r]);return M6(i)?x.createElement(AP.Provider,{value:i},n):null}var Nj=()=>x.useContext(AP),I6=x.forwardRef((t,n)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:u=0,minHeight:h,maxHeight:p,children:f,debounce:d=0,id:v,className:y,onResize:C,style:N={}}=t,j=x.useRef(null),w=x.useRef();w.current=C,x.useImperativeHandle(n,()=>j.current);var[O,S]=x.useState({containerWidth:r.width,containerHeight:r.height}),E=x.useCallback((W,R)=>{S(U=>{var J=Math.round(W),se=Math.round(R);return U.containerWidth===J&&U.containerHeight===se?U:{containerWidth:J,containerHeight:se}})},[]);x.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return du;var W=se=>{var X,{width:le,height:G}=se[0].contentRect;E(le,G),(X=w.current)===null||X===void 0||X.call(w,le,G)};d>0&&(W=S6(W,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(W),{width:U,height:J}=j.current.getBoundingClientRect();return E(U,J),R.observe(j.current),()=>{R.disconnect()}},[E,d]);var{containerWidth:T,containerHeight:k}=O;Kh(!a||a>0,"The aspect(%s) must be greater than zero.",a);var{calculatedWidth:F,calculatedHeight:P}=wP(T,k,{width:i,height:o,aspect:a,maxHeight:p});return Kh(F!=null&&F>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,P,i,o,u,h,a),x.createElement("div",{id:v?"".concat(v):void 0,className:ut("recharts-responsive-container",y),style:oA(oA({},N),{},{width:i,height:o,minWidth:u,minHeight:h,maxHeight:p}),ref:j},x.createElement("div",{style:D6({width:i,height:o})},x.createElement(EP,{width:F,height:P},f)))}),Mt=x.forwardRef((t,n)=>{var a=Nj();if(br(a.width)&&br(a.height))return t.children;var{width:r,height:i}=O6({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:u}=wP(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Pe(o)&&Pe(u)?x.createElement(EP,{width:o,height:u},t.children):x.createElement(I6,iy({},t,{width:r,height:i,ref:n}))});function DP(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var tf=()=>{var t,n=Hn(),a=ke(v6),r=ke(ef),i=(t=ke(Jm))===null||t===void 0?void 0:t.padding;return!n||!r||!i?a:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},R6={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},OP=()=>{var t;return(t=ke(vn))!==null&&t!==void 0?t:R6},Sj=()=>ke(ds),Cj=()=>ke(hs),_6=()=>ke(t=>t.layout.margin),it=t=>t.layout.layoutType,fo=()=>ke(it),B6=()=>{var t=fo();if(t==="horizontal"||t==="vertical")return t},L6=()=>{var t=fo();return t!==void 0},nf=t=>{var n=Et(),a=Hn(),{width:r,height:i}=t,o=Nj(),u=r,h=i;return o&&(u=o.width>0?o.width:r,h=o.height>0?o.height:i),x.useEffect(()=>{!a&&br(u)&&br(h)&&n($5({width:u,height:h}))},[n,a,u,h]),null},PP=Symbol.for("immer-nothing"),cA=Symbol.for("immer-draftable"),Ea=Symbol.for("immer-state");function sr(t,...n){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Kc=Object.getPrototypeOf;function no(t){return!!t&&!!t[Ea]}function Hi(t){return t?kP(t)||Array.isArray(t)||!!t[cA]||!!t.constructor?.[cA]||xu(t)||rf(t):!1}var F6=Object.prototype.constructor.toString(),uA=new WeakMap;function kP(t){if(!t||typeof t!="object")return!1;const n=Object.getPrototypeOf(t);if(n===null||n===Object.prototype)return!0;const a=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;if(a===Object)return!0;if(typeof a!="function")return!1;let r=uA.get(a);return r===void 0&&(r=Function.toString.call(a),uA.set(a,r)),r===F6}function Wh(t,n,a=!0){af(t)===0?(a?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{n(i,t[i],t)}):t.forEach((r,i)=>n(i,r,t))}function af(t){const n=t[Ea];return n?n.type_:Array.isArray(t)?1:xu(t)?2:rf(t)?3:0}function ly(t,n){return af(t)===2?t.has(n):Object.prototype.hasOwnProperty.call(t,n)}function TP(t,n,a){const r=af(t);r===2?t.set(n,a):r===3?t.add(a):t[n]=a}function z6(t,n){return t===n?t!==0||1/t===1/n:t!==t&&n!==n}function xu(t){return t instanceof Map}function rf(t){return t instanceof Set}function Di(t){return t.copy_||t.base_}function oy(t,n){if(xu(t))return new Map(t);if(rf(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const a=kP(t);if(n===!0||n==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(t);delete r[Ea];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const u=i[o],h=r[u];h.writable===!1&&(h.writable=!0,h.configurable=!0),(h.get||h.set)&&(r[u]={configurable:!0,writable:!0,enumerable:h.enumerable,value:t[u]})}return Object.create(Kc(t),r)}else{const r=Kc(t);if(r!==null&&a)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function wj(t,n=!1){return sf(t)||no(t)||!Hi(t)||(af(t)>1&&Object.defineProperties(t,{set:sh,add:sh,clear:sh,delete:sh}),Object.freeze(t),n&&Object.values(t).forEach(a=>wj(a,!0))),t}function U6(){sr(2)}var sh={value:U6};function sf(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var $6={};function Vi(t){const n=$6[t];return n||sr(0,t),n}var Wc;function MP(){return Wc}function q6(t,n){return{drafts_:[],parent_:t,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dA(t,n){n&&(Vi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=n)}function cy(t){uy(t),t.drafts_.forEach(H6),t.drafts_=null}function uy(t){t===Wc&&(Wc=t.parent_)}function hA(t){return Wc=q6(Wc,t)}function H6(t){const n=t[Ea];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function mA(t,n){n.unfinalizedDrafts_=n.drafts_.length;const a=n.drafts_[0];return t!==void 0&&t!==a?(a[Ea].modified_&&(cy(n),sr(4)),Hi(t)&&(t=Xh(n,t),n.parent_||Zh(n,t)),n.patches_&&Vi("Patches").generateReplacementPatches_(a[Ea].base_,t,n.patches_,n.inversePatches_)):t=Xh(n,a,[]),cy(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),t!==PP?t:void 0}function Xh(t,n,a){if(sf(n))return n;const r=t.immer_.shouldUseStrictIteration(),i=n[Ea];if(!i)return Wh(n,(o,u)=>fA(t,i,n,o,u,a),r),n;if(i.scope_!==t)return n;if(!i.modified_)return Zh(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let u=o,h=!1;i.type_===3&&(u=new Set(o),o.clear(),h=!0),Wh(u,(p,f)=>fA(t,i,o,p,f,a,h),r),Zh(t,o,!1),a&&t.patches_&&Vi("Patches").generatePatches_(i,a,t.patches_,t.inversePatches_)}return i.copy_}function fA(t,n,a,r,i,o,u){if(i==null||typeof i!="object"&&!u)return;const h=sf(i);if(!(h&&!u)){if(no(i)){const p=o&&n&&n.type_!==3&&!ly(n.assigned_,r)?o.concat(r):void 0,f=Xh(t,i,p);if(TP(a,r,f),no(f))t.canAutoFreeze_=!1;else return}else u&&a.add(i);if(Hi(i)&&!h){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||n&&n.base_&&n.base_[r]===i&&h)return;Xh(t,i),(!n||!n.scope_.parent_)&&typeof r!="symbol"&&(xu(a)?a.has(r):Object.prototype.propertyIsEnumerable.call(a,r))&&Zh(t,i)}}}function Zh(t,n,a=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&wj(n,a)}function V6(t,n){const a=Array.isArray(t),r={type_:a?1:0,scope_:n?n.scope_:MP(),modified_:!1,finalized_:!1,assigned_:{},parent_:n,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Aj;a&&(i=[r],o=Xc);const{revoke:u,proxy:h}=Proxy.revocable(i,o);return r.draft_=h,r.revoke_=u,h}var Aj={get(t,n){if(n===Ea)return t;const a=Di(t);if(!ly(a,n))return Y6(t,a,n);const r=a[n];return t.finalized_||!Hi(r)?r:r===ag(t.base_,n)?(rg(t),t.copy_[n]=hy(r,t)):r},has(t,n){return n in Di(t)},ownKeys(t){return Reflect.ownKeys(Di(t))},set(t,n,a){const r=IP(Di(t),n);if(r?.set)return r.set.call(t.draft_,a),!0;if(!t.modified_){const i=ag(Di(t),n),o=i?.[Ea];if(o&&o.base_===a)return t.copy_[n]=a,t.assigned_[n]=!1,!0;if(z6(a,i)&&(a!==void 0||ly(t.base_,n)))return!0;rg(t),dy(t)}return t.copy_[n]===a&&(a!==void 0||n in t.copy_)||Number.isNaN(a)&&Number.isNaN(t.copy_[n])||(t.copy_[n]=a,t.assigned_[n]=!0),!0},deleteProperty(t,n){return ag(t.base_,n)!==void 0||n in t.base_?(t.assigned_[n]=!1,rg(t),dy(t)):delete t.assigned_[n],t.copy_&&delete t.copy_[n],!0},getOwnPropertyDescriptor(t,n){const a=Di(t),r=Reflect.getOwnPropertyDescriptor(a,n);return r&&{writable:!0,configurable:t.type_!==1||n!=="length",enumerable:r.enumerable,value:a[n]}},defineProperty(){sr(11)},getPrototypeOf(t){return Kc(t.base_)},setPrototypeOf(){sr(12)}},Xc={};Wh(Aj,(t,n)=>{Xc[t]=function(){return arguments[0]=arguments[0][0],n.apply(this,arguments)}});Xc.deleteProperty=function(t,n){return Xc.set.call(this,t,n,void 0)};Xc.set=function(t,n,a){return Aj.set.call(this,t[0],n,a,t[0])};function ag(t,n){const a=t[Ea];return(a?Di(a):t)[n]}function Y6(t,n,a){const r=IP(n,a);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function IP(t,n){if(!(n in t))return;let a=Kc(t);for(;a;){const r=Object.getOwnPropertyDescriptor(a,n);if(r)return r;a=Kc(a)}}function dy(t){t.modified_||(t.modified_=!0,t.parent_&&dy(t.parent_))}function rg(t){t.copy_||(t.copy_=oy(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var G6=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(n,a,r)=>{if(typeof n=="function"&&typeof a!="function"){const o=a;a=n;const u=this;return function(p=o,...f){return u.produce(p,d=>a.call(this,d,...f))}}typeof a!="function"&&sr(6),r!==void 0&&typeof r!="function"&&sr(7);let i;if(Hi(n)){const o=hA(this),u=hy(n,void 0);let h=!0;try{i=a(u),h=!1}finally{h?cy(o):uy(o)}return dA(o,r),mA(i,o)}else if(!n||typeof n!="object"){if(i=a(n),i===void 0&&(i=n),i===PP&&(i=void 0),this.autoFreeze_&&wj(i,!0),r){const o=[],u=[];Vi("Patches").generateReplacementPatches_(n,i,o,u),r(o,u)}return i}else sr(1,n)},this.produceWithPatches=(n,a)=>{if(typeof n=="function")return(u,...h)=>this.produceWithPatches(u,p=>n(p,...h));let r,i;return[this.produce(n,a,(u,h)=>{r=u,i=h}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Hi(t)||sr(8),no(t)&&(t=K6(t));const n=hA(this),a=hy(t,void 0);return a[Ea].isManual_=!0,uy(n),a}finishDraft(t,n){const a=t&&t[Ea];(!a||!a.isManual_)&&sr(9);const{scope_:r}=a;return dA(r,n),mA(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let a;for(a=n.length-1;a>=0;a--){const i=n[a];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}a>-1&&(n=n.slice(a+1));const r=Vi("Patches").applyPatches_;return no(t)?r(t,n):this.produce(t,i=>r(i,n))}};function hy(t,n){const a=xu(t)?Vi("MapSet").proxyMap_(t,n):rf(t)?Vi("MapSet").proxySet_(t,n):V6(t,n);return(n?n.scope_:MP()).drafts_.push(a),a}function K6(t){return no(t)||sr(10,t),RP(t)}function RP(t){if(!Hi(t)||sf(t))return t;const n=t[Ea];let a,r=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,a=oy(t,n.scope_.immer_.useStrictShallowCopy_),r=n.scope_.immer_.shouldUseStrictIteration()}else a=oy(t,!0);return Wh(a,(i,o)=>{TP(a,i,RP(o))},r),n&&(n.finalized_=!1),a}var W6=new G6;W6.produce;var X6={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_P=ha({name:"legend",initialState:X6,reducers:{setLegendSize(t,n){t.size.width=n.payload.width,t.size.height=n.payload.height},setLegendSettings(t,n){t.settings.align=n.payload.align,t.settings.layout=n.payload.layout,t.settings.verticalAlign=n.payload.verticalAlign,t.settings.itemSorter=n.payload.itemSorter},addLegendPayload:{reducer(t,n){t.payload.push(n.payload)},prepare:Lt()},replaceLegendPayload:{reducer(t,n){var{prev:a,next:r}=n.payload,i=or(t).payload.indexOf(a);i>-1&&(t.payload[i]=r)},prepare:Lt()},removeLegendPayload:{reducer(t,n){var a=or(t).payload.indexOf(n.payload);a>-1&&t.payload.splice(a,1)},prepare:Lt()}}}),{setLegendSize:pA,setLegendSettings:Z6,addLegendPayload:BP,replaceLegendPayload:LP,removeLegendPayload:FP}=_P.actions,Q6=_P.reducer,J6=["contextPayload"];function my(){return my=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},my.apply(null,arguments)}function vA(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function ao(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?vA(Object(a),!0).forEach(function(r){e8(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):vA(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function e8(t,n,a){return(n=t8(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function t8(t){var n=n8(t,"string");return typeof n=="symbol"?n:n+""}function n8(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function a8(t,n){if(t==null)return{};var a,r,i=r8(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function r8(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function s8(t){return t.value}function i8(t){var{contextPayload:n}=t,a=a8(t,J6),r=BO(n,t.payloadUniqBy,s8),i=ao(ao({},a),{},{payload:r});return x.isValidElement(t.content)?x.cloneElement(t.content,i):typeof t.content=="function"?x.createElement(t.content,i):x.createElement(X4,i)}function l8(t,n,a,r,i,o){var{layout:u,align:h,verticalAlign:p}=n,f,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(h==="center"&&u==="vertical"?f={left:((r||0)-o.width)/2}:f=h==="right"?{right:a&&a.right||0}:{left:a&&a.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(p==="middle"?d={top:((i||0)-o.height)/2}:d=p==="bottom"?{bottom:a&&a.bottom||0}:{top:a&&a.top||0}),ao(ao({},f),d)}function o8(t){var n=Et();return x.useEffect(()=>{n(Z6(t))},[n,t]),null}function c8(t){var n=Et();return x.useEffect(()=>(n(pA(t)),()=>{n(pA({width:0,height:0}))}),[n,t]),null}function u8(t,n,a,r){return t==="vertical"&&Pe(n)?{height:n}:t==="horizontal"?{width:a||r}:null}var d8={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function pn(t){var n=un(t,d8),a=HF(),r=$L(),i=_6(),{width:o,height:u,wrapperStyle:h,portal:p}=n,[f,d]=$O([a]),v=Sj(),y=Cj();if(v==null||y==null)return null;var C=v-(i?.left||0)-(i?.right||0),N=u8(n.layout,u,o,C),j=p?h:ao(ao({position:"absolute",width:N?.width||o||"auto",height:N?.height||u||"auto"},l8(h,n,i,v,y,f)),h),w=p??r;if(w==null||a==null)return null;var O=x.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:d},x.createElement(o8,{layout:n.layout,align:n.align,verticalAlign:n.verticalAlign,itemSorter:n.itemSorter}),!p&&x.createElement(c8,{width:f.width,height:f.height}),x.createElement(i8,my({},n,N,{margin:i,chartWidth:v,chartHeight:y,contextPayload:a})));return Em.createPortal(O,w)}pn.displayName="Legend";function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},fy.apply(null,arguments)}function xA(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function sg(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?xA(Object(a),!0).forEach(function(r){h8(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):xA(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function h8(t,n,a){return(n=m8(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function m8(t){var n=f8(t,"string");return typeof n=="symbol"?n:n+""}function f8(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function p8(t){return Array.isArray(t)&&jr(t[0])&&jr(t[1])?t.join(" ~ "):t}var v8=t=>{var{separator:n=" : ",contentStyle:a={},itemStyle:r={},labelStyle:i={},payload:o,formatter:u,itemSorter:h,wrapperClassName:p,labelClassName:f,label:d,labelFormatter:v,accessibilityLayer:y=!1}=t,C=()=>{if(o&&o.length){var k={padding:0,margin:0},F=(h?$m(o,h):o).map((P,W)=>{if(P.type==="none")return null;var R=P.formatter||u||p8,{value:U,name:J}=P,se=U,X=J;if(R){var le=R(U,J,P,W,o);if(Array.isArray(le))[se,X]=le;else if(le!=null)se=le;else return null}var G=sg({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:G},jr(X)?x.createElement("span",{className:"recharts-tooltip-item-name"},X):null,jr(X)?x.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,x.createElement("span",{className:"recharts-tooltip-item-value"},se),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:k},F)}return null},N=sg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=sg({margin:0},i),w=!Ut(d),O=w?d:"",S=ut("recharts-default-tooltip",p),E=ut("recharts-tooltip-label",f);w&&v&&o!==void 0&&o!==null&&(O=v(d,o));var T=y?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",fy({className:S,style:N},T),x.createElement("p",{className:E,style:j},x.isValidElement(O)?O:"".concat(O)),C())},wc="recharts-tooltip-wrapper",x8={visibility:"hidden"};function g8(t){var{coordinate:n,translateX:a,translateY:r}=t;return ut(wc,{["".concat(wc,"-right")]:Pe(a)&&n&&Pe(n.x)&&a>=n.x,["".concat(wc,"-left")]:Pe(a)&&n&&Pe(n.x)&&a<n.x,["".concat(wc,"-bottom")]:Pe(r)&&n&&Pe(n.y)&&r>=n.y,["".concat(wc,"-top")]:Pe(r)&&n&&Pe(n.y)&&r<n.y})}function gA(t){var{allowEscapeViewBox:n,coordinate:a,key:r,offsetTopLeft:i,position:o,reverseDirection:u,tooltipDimension:h,viewBox:p,viewBoxDimension:f}=t;if(o&&Pe(o[r]))return o[r];var d=a[r]-h-(i>0?i:0),v=a[r]+i;if(n[r])return u[r]?d:v;var y=p[r];if(y==null)return 0;if(u[r]){var C=d,N=y;return C<N?Math.max(v,y):Math.max(d,y)}if(f==null)return 0;var j=v+h,w=y+f;return j>w?Math.max(d,y):Math.max(v,y)}function y8(t){var{translateX:n,translateY:a,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(n,"px, ").concat(a,"px, 0)"):"translate(".concat(n,"px, ").concat(a,"px)")}}function j8(t){var{allowEscapeViewBox:n,coordinate:a,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:u,useTranslate3d:h,viewBox:p}=t,f,d,v;return u.height>0&&u.width>0&&a?(d=gA({allowEscapeViewBox:n,coordinate:a,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:u.width,viewBox:p,viewBoxDimension:p.width}),v=gA({allowEscapeViewBox:n,coordinate:a,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:u.height,viewBox:p,viewBoxDimension:p.height}),f=y8({translateX:d,translateY:v,useTranslate3d:h})):f=x8,{cssProperties:f,cssClasses:g8({translateX:d,translateY:v,coordinate:a})}}function yA(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function ih(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?yA(Object(a),!0).forEach(function(r){py(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):yA(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function py(t,n,a){return(n=b8(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function b8(t){var n=N8(t,"string");return typeof n=="symbol"?n:n+""}function N8(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}class S8 extends x.PureComponent{constructor(){super(...arguments),py(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),py(this,"handleKeyDown",n=>{if(n.key==="Escape"){var a,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var n,a;this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:n,allowEscapeViewBox:a,animationDuration:r,animationEasing:i,children:o,coordinate:u,hasPayload:h,isAnimationActive:p,offset:f,position:d,reverseDirection:v,useTranslate3d:y,viewBox:C,wrapperStyle:N,lastBoundingBox:j,innerRef:w,hasPortalFromProps:O}=this.props,{cssClasses:S,cssProperties:E}=j8({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:f,position:d,reverseDirection:v,tooltipBox:{height:j.height,width:j.width},useTranslate3d:y,viewBox:C}),T=O?{}:ih(ih({transition:p&&n?"transform ".concat(r,"ms ").concat(i):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&h?"visible":"hidden",position:"absolute",top:0,left:0}),k=ih(ih({},T),{},{visibility:!this.state.dismissed&&n&&h?"visible":"hidden"},N);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:k,ref:w},o)}}var zP=()=>{var t;return(t=ke(n=>n.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},vy.apply(null,arguments)}function jA(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function bA(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?jA(Object(a),!0).forEach(function(r){C8(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):jA(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function C8(t,n,a){return(n=w8(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function w8(t){var n=A8(t,"string");return typeof n=="symbol"?n:n+""}function A8(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var NA={curveBasisClosed:l4,curveBasisOpen:o4,curveBasis:i4,curveBumpX:YL,curveBumpY:GL,curveLinearClosed:c4,curveLinear:zm,curveMonotoneX:u4,curveMonotoneY:d4,curveNatural:h4,curveStep:m4,curveStepAfter:p4,curveStepBefore:f4},Qh=t=>Rt(t.x)&&Rt(t.y),SA=t=>t.base!=null&&Qh(t.base)&&Qh(t),Ac=t=>t.x,Ec=t=>t.y,E8=(t,n)=>{if(typeof t=="function")return t;var a="curve".concat(uu(t));return(a==="curveMonotone"||a==="curveBump")&&n?NA["".concat(a).concat(n==="vertical"?"Y":"X")]:NA[a]||zm},D8=t=>{var{type:n="linear",points:a=[],baseLine:r,layout:i,connectNulls:o=!1}=t,u=E8(n,i),h=o?a.filter(Qh):a,p;if(Array.isArray(r)){var f=a.map((C,N)=>bA(bA({},C),{},{base:r[N]}));i==="vertical"?p=Qd().y(Ec).x1(Ac).x0(C=>C.base.x):p=Qd().x(Ac).y1(Ec).y0(C=>C.base.y);var d=p.defined(SA).curve(u),v=o?f.filter(SA):f;return d(v)}i==="vertical"&&Pe(r)?p=Qd().y(Ec).x1(Ac).x0(r):Pe(r)?p=Qd().x(Ac).y1(Ec).y0(r):p=hO().x(Ac).y(Ec);var y=p.defined(Qh).curve(u);return y(h)},Wl=t=>{var{className:n,points:a,path:r,pathRef:i}=t;if((!a||!a.length)&&!r)return null;var o=a&&a.length?D8(t):r;return x.createElement("path",vy({},da(t),uj(t),{className:ut("recharts-curve",n),d:o===null?void 0:o,ref:i}))},O8=["x","y","top","left","width","height","className"];function xy(){return xy=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},xy.apply(null,arguments)}function CA(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function P8(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?CA(Object(a),!0).forEach(function(r){k8(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):CA(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function k8(t,n,a){return(n=T8(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function T8(t){var n=M8(t,"string");return typeof n=="symbol"?n:n+""}function M8(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function I8(t,n){if(t==null)return{};var a,r,i=R8(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function R8(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var _8=(t,n,a,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(n,"h").concat(a),B8=t=>{var{x:n=0,y:a=0,top:r=0,left:i=0,width:o=0,height:u=0,className:h}=t,p=I8(t,O8),f=P8({x:n,y:a,top:r,left:i,width:o,height:u},p);return!Pe(n)||!Pe(a)||!Pe(o)||!Pe(u)||!Pe(r)||!Pe(i)?null:x.createElement("path",xy({},Kn(f),{className:ut("recharts-cross",h),d:_8(n,a,o,u,r,i)}))};function L8(t,n,a,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?n.x-i:a.left+.5,y:t==="horizontal"?a.top+.5:n.y-i,width:t==="horizontal"?r:a.width-1,height:t==="horizontal"?a.height-1:r}}function wA(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function AA(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?wA(Object(a),!0).forEach(function(r){F8(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):wA(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function F8(t,n,a){return(n=z8(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function z8(t){var n=U8(t,"string");return typeof n=="symbol"?n:n+""}function U8(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var $8=t=>t.replace(/([A-Z])/g,n=>"-".concat(n.toLowerCase())),UP=(t,n,a)=>t.map(r=>"".concat($8(r)," ").concat(n,"ms ").concat(a)).join(","),q8=(t,n)=>[Object.keys(t),Object.keys(n)].reduce((a,r)=>a.filter(i=>r.includes(i))),Zc=(t,n)=>Object.keys(n).reduce((a,r)=>AA(AA({},a),{},{[r]:t(r,n[r])}),{});function EA(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function fn(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?EA(Object(a),!0).forEach(function(r){H8(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):EA(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function H8(t,n,a){return(n=V8(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function V8(t){var n=Y8(t,"string");return typeof n=="symbol"?n:n+""}function Y8(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var Jh=(t,n,a)=>t+(n-t)*a,gy=t=>{var{from:n,to:a}=t;return n!==a},$P=(t,n,a)=>{var r=Zc((i,o)=>{if(gy(o)){var[u,h]=t(o.from,o.to,o.velocity);return fn(fn({},o),{},{from:u,velocity:h})}return o},n);return a<1?Zc((i,o)=>gy(o)?fn(fn({},o),{},{velocity:Jh(o.velocity,r[i].velocity,a),from:Jh(o.from,r[i].from,a)}):o,n):$P(t,r,a-1)};function G8(t,n,a,r,i,o){var u,h=r.reduce((y,C)=>fn(fn({},y),{},{[C]:{from:t[C],velocity:0,to:n[C]}}),{}),p=()=>Zc((y,C)=>C.from,h),f=()=>!Object.values(h).filter(gy).length,d=null,v=y=>{u||(u=y);var C=y-u,N=C/a.dt;h=$P(a,h,N),i(fn(fn(fn({},t),n),p())),u=y,f()||(d=o.setTimeout(v))};return()=>(d=o.setTimeout(v),()=>{var y;(y=d)===null||y===void 0||y()})}function K8(t,n,a,r,i,o,u){var h=null,p=i.reduce((v,y)=>fn(fn({},v),{},{[y]:[t[y],n[y]]}),{}),f,d=v=>{f||(f=v);var y=(v-f)/r,C=Zc((j,w)=>Jh(...w,a(y)),p);if(o(fn(fn(fn({},t),n),C)),y<1)h=u.setTimeout(d);else{var N=Zc((j,w)=>Jh(...w,a(1)),p);o(fn(fn(fn({},t),n),N))}};return()=>(h=u.setTimeout(d),()=>{var v;(v=h)===null||v===void 0||v()})}const W8=(t,n,a,r,i,o)=>{var u=q8(t,n);return a==null?()=>(i(fn(fn({},t),n)),()=>{}):a.isStepper===!0?G8(t,n,a,u,i,o):K8(t,n,a,r,u,i,o)};var em=1e-4,qP=(t,n)=>[0,3*t,3*n-6*t,3*t-3*n+1],HP=(t,n)=>t.map((a,r)=>a*n**r).reduce((a,r)=>a+r),DA=(t,n)=>a=>{var r=qP(t,n);return HP(r,a)},X8=(t,n)=>a=>{var r=qP(t,n),i=[...r.map((o,u)=>o*u).slice(1),0];return HP(i,a)},Z8=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if(a.length===1)switch(a[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=a[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var u=o[1].split(")")[0].split(",").map(h=>parseFloat(h));return[u[0],u[1],u[2],u[3]]}}}return a.length===4?a:[0,0,1,1]},Q8=(t,n,a,r)=>{var i=DA(t,a),o=DA(n,r),u=X8(t,a),h=f=>f>1?1:f<0?0:f,p=f=>{for(var d=f>1?1:f,v=d,y=0;y<8;++y){var C=i(v)-d,N=u(v);if(Math.abs(C-d)<em||N<em)return o(v);v=h(v-C/N)}return o(v)};return p.isStepper=!1,p},OA=function(){return Q8(...Z8(...arguments))},J8=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:i=17}=n,o=(u,h,p)=>{var f=-(u-h)*a,d=p*r,v=p+(f-d)*i/1e3,y=p*i/1e3+u;return Math.abs(y-h)<em&&Math.abs(v)<em?[h,0]:[y,v]};return o.isStepper=!0,o.dt=i,o},ez=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OA(t);case"spring":return J8();default:if(t.split("(")[0]==="cubic-bezier")return OA(t)}return typeof t=="function"?t:null};function tz(t){var n,a=()=>null,r=!1,i=null,o=u=>{if(!r){if(Array.isArray(u)){if(!u.length)return;var h=u,[p,...f]=h;if(typeof p=="number"){i=t.setTimeout(o.bind(null,f),p);return}o(p),i=t.setTimeout(o.bind(null,f));return}typeof u=="string"&&(n=u,a(n)),typeof u=="object"&&(n=u,a(n)),typeof u=="function"&&u()}};return{stop:()=>{r=!0},start:u=>{r=!1,i&&(i(),i=null),o(u)},subscribe:u=>(a=u,()=>{a=()=>null}),getTimeoutController:()=>t}}class nz{setTimeout(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=u=>{u-r>=a?n(u):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function az(){return tz(new nz)}var rz=x.createContext(az);function sz(t,n){var a=x.useContext(rz);return x.useMemo(()=>n??a(t),[t,n,a])}var iz=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),po={devToolsEnabled:!1,isSsr:iz()},lz={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},PA={t:0},ig={t:1};function gu(t){var n=un(t,lz),{isActive:a,canBegin:r,duration:i,easing:o,begin:u,onAnimationEnd:h,onAnimationStart:p,children:f}=n,d=a==="auto"?!po.isSsr:a,v=sz(n.animationId,n.animationManager),[y,C]=x.useState(d?PA:ig),N=x.useRef(null);return x.useEffect(()=>{d||C(ig)},[d]),x.useEffect(()=>{if(!d||!r)return du;var j=W8(PA,ig,ez(o),i,C,v.getTimeoutController()),w=()=>{N.current=j()};return v.start([p,u,w,i,h]),()=>{v.stop(),N.current&&N.current(),h()}},[d,r,i,o,u,p,h,v]),f(y.t)}function yu(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=x.useRef(Hc(n)),r=x.useRef(t);return r.current!==t&&(a.current=Hc(n),r.current=t),a.current}var oz=["radius"],cz=["radius"];function kA(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function TA(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?kA(Object(a),!0).forEach(function(r){uz(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):kA(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function uz(t,n,a){return(n=dz(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function dz(t){var n=hz(t,"string");return typeof n=="symbol"?n:n+""}function hz(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},tm.apply(null,arguments)}function MA(t,n){if(t==null)return{};var a,r,i=mz(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function mz(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var IA=(t,n,a,r,i)=>{var o=Math.min(Math.abs(a)/2,Math.abs(r)/2),u=r>=0?1:-1,h=a>=0?1:-1,p=r>=0&&a>=0||r<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],v=0,y=4;v<y;v++)d[v]=i[v]>o?o:i[v];f="M".concat(t,",").concat(n+u*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(p,",").concat(t+h*d[0],",").concat(n)),f+="L ".concat(t+a-h*d[1],",").concat(n),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(p,`,
        `).concat(t+a,",").concat(n+u*d[1])),f+="L ".concat(t+a,",").concat(n+r-u*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(p,`,
        `).concat(t+a-h*d[2],",").concat(n+r)),f+="L ".concat(t+h*d[3],",").concat(n+r),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(p,`,
        `).concat(t,",").concat(n+r-u*d[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var C=Math.min(o,i);f="M ".concat(t,",").concat(n+u*C,`
            A `).concat(C,",").concat(C,",0,0,").concat(p,",").concat(t+h*C,",").concat(n,`
            L `).concat(t+a-h*C,",").concat(n,`
            A `).concat(C,",").concat(C,",0,0,").concat(p,",").concat(t+a,",").concat(n+u*C,`
            L `).concat(t+a,",").concat(n+r-u*C,`
            A `).concat(C,",").concat(C,",0,0,").concat(p,",").concat(t+a-h*C,",").concat(n+r,`
            L `).concat(t+h*C,",").concat(n+r,`
            A `).concat(C,",").concat(C,",0,0,").concat(p,",").concat(t,",").concat(n+r-u*C," Z")}else f="M ".concat(t,",").concat(n," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return f},RA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VP=t=>{var n=un(t,RA),a=x.useRef(null),[r,i]=x.useState(-1);x.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var B=a.current.getTotalLength();B&&i(B)}catch{}},[]);var{x:o,y:u,width:h,height:p,radius:f,className:d}=n,{animationEasing:v,animationDuration:y,animationBegin:C,isAnimationActive:N,isUpdateAnimationActive:j}=n,w=x.useRef(h),O=x.useRef(p),S=x.useRef(o),E=x.useRef(u),T=x.useMemo(()=>({x:o,y:u,width:h,height:p,radius:f}),[o,u,h,p,f]),k=yu(T,"rectangle-");if(o!==+o||u!==+u||h!==+h||p!==+p||h===0||p===0)return null;var F=ut("recharts-rectangle",d);if(!j){var P=Kn(n),{radius:W}=P,R=MA(P,oz);return x.createElement("path",tm({},R,{radius:typeof f=="number"?f:void 0,className:F,d:IA(o,u,h,p,f)}))}var U=w.current,J=O.current,se=S.current,X=E.current,le="0px ".concat(r===-1?1:r,"px"),G="".concat(r,"px 0px"),M=UP(["strokeDasharray"],y,typeof v=="string"?v:RA.animationEasing);return x.createElement(gu,{animationId:k,key:k,canBegin:r>0,duration:y,easing:v,isActive:j,begin:C},B=>{var re=Tt(U,h,B),Z=Tt(J,p,B),te=Tt(se,o,B),_=Tt(X,u,B);a.current&&(w.current=re,O.current=Z,S.current=te,E.current=_);var z;N?B>0?z={transition:M,strokeDasharray:G}:z={strokeDasharray:le}:z={strokeDasharray:G};var L=Kn(n),{radius:$}=L,q=MA(L,cz);return x.createElement("path",tm({},q,{radius:typeof f=="number"?f:void 0,className:F,d:IA(te,_,re,Z,f),ref:a,style:TA(TA({},z),n.style)}))})};function _A(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function BA(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?_A(Object(a),!0).forEach(function(r){fz(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_A(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function fz(t,n,a){return(n=pz(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function pz(t){var n=vz(t,"string");return typeof n=="symbol"?n:n+""}function vz(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var nm=Math.PI/180,xz=t=>t*180/Math.PI,ln=(t,n,a,r)=>({x:t+Math.cos(-nm*r)*a,y:n+Math.sin(-nm*r)*a}),YP=function(n,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(n-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},gz=(t,n)=>{var{x:a,y:r}=t,{x:i,y:o}=n;return Math.sqrt((a-i)**2+(r-o)**2)},yz=(t,n)=>{var{x:a,y:r}=t,{cx:i,cy:o}=n,u=gz({x:a,y:r},{x:i,y:o});if(u<=0)return{radius:u,angle:0};var h=(a-i)/u,p=Math.acos(h);return r>o&&(p=2*Math.PI-p),{radius:u,angle:xz(p),angleInRadian:p}},jz=t=>{var{startAngle:n,endAngle:a}=t,r=Math.floor(n/360),i=Math.floor(a/360),o=Math.min(r,i);return{startAngle:n-o*360,endAngle:a-o*360}},bz=(t,n)=>{var{startAngle:a,endAngle:r}=n,i=Math.floor(a/360),o=Math.floor(r/360),u=Math.min(i,o);return t+u*360},Nz=(t,n)=>{var{chartX:a,chartY:r}=t,{radius:i,angle:o}=yz({x:a,y:r},n),{innerRadius:u,outerRadius:h}=n;if(i<u||i>h||i===0)return null;var{startAngle:p,endAngle:f}=jz(n),d=o,v;if(p<=f){for(;d>f;)d-=360;for(;d<p;)d+=360;v=d>=p&&d<=f}else{for(;d>p;)d-=360;for(;d<f;)d+=360;v=d>=f&&d<=p}return v?BA(BA({},n),{},{radius:i,angle:bz(d,n)}):null};function GP(t){var{cx:n,cy:a,radius:r,startAngle:i,endAngle:o}=t,u=ln(n,a,r,i),h=ln(n,a,r,o);return{points:[u,h],cx:n,cy:a,radius:r,startAngle:i,endAngle:o}}function yy(){return yy=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},yy.apply(null,arguments)}var Sz=(t,n)=>{var a=wn(n-t),r=Math.min(Math.abs(n-t),359.999);return a*r},lh=t=>{var{cx:n,cy:a,radius:r,angle:i,sign:o,isExternal:u,cornerRadius:h,cornerIsExternal:p}=t,f=h*(u?1:-1)+r,d=Math.asin(h/f)/nm,v=p?i:i+o*d,y=ln(n,a,f,v),C=ln(n,a,r,v),N=p?i-o*d:i,j=ln(n,a,f*Math.cos(d*nm),N);return{center:y,circleTangency:C,lineTangency:j,theta:d}},KP=t=>{var{cx:n,cy:a,innerRadius:r,outerRadius:i,startAngle:o,endAngle:u}=t,h=Sz(o,u),p=o+h,f=ln(n,a,i,o),d=ln(n,a,i,p),v="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(h)>180),",").concat(+(o>p),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(r>0){var y=ln(n,a,r,o),C=ln(n,a,r,p);v+="L ".concat(C.x,",").concat(C.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(h)>180),",").concat(+(o<=p),`,
            `).concat(y.x,",").concat(y.y," Z")}else v+="L ".concat(n,",").concat(a," Z");return v},Cz=t=>{var{cx:n,cy:a,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:h,startAngle:p,endAngle:f}=t,d=wn(f-p),{circleTangency:v,lineTangency:y,theta:C}=lh({cx:n,cy:a,radius:i,angle:p,sign:d,cornerRadius:o,cornerIsExternal:h}),{circleTangency:N,lineTangency:j,theta:w}=lh({cx:n,cy:a,radius:i,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:h}),O=h?Math.abs(p-f):Math.abs(p-f)-C-w;if(O<0)return u?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):KP({cx:n,cy:a,innerRadius:r,outerRadius:i,startAngle:p,endAngle:f});var S="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:E,lineTangency:T,theta:k}=lh({cx:n,cy:a,radius:r,angle:p,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:h}),{circleTangency:F,lineTangency:P,theta:W}=lh({cx:n,cy:a,radius:r,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:h}),R=h?Math.abs(p-f):Math.abs(p-f)-k-W;if(R<0&&o===0)return"".concat(S,"L").concat(n,",").concat(a,"Z");S+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(F.x,",").concat(F.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(a,"Z");return S},wz={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},WP=t=>{var n=un(t,wz),{cx:a,cy:r,innerRadius:i,outerRadius:o,cornerRadius:u,forceCornerRadius:h,cornerIsExternal:p,startAngle:f,endAngle:d,className:v}=n;if(o<i||f===d)return null;var y=ut("recharts-sector",v),C=o-i,N=qn(u,C,0,!0),j;return N>0&&Math.abs(f-d)<360?j=Cz({cx:a,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(N,C/2),forceCornerRadius:h,cornerIsExternal:p,startAngle:f,endAngle:d}):j=KP({cx:a,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d}),x.createElement("path",yy({},Kn(n),{className:y,d:j}))};function Az(t,n,a){if(t==="horizontal")return[{x:n.x,y:a.top},{x:n.x,y:a.top+a.height}];if(t==="vertical")return[{x:a.left,y:n.y},{x:a.left+a.width,y:n.y}];if(EO(n)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:u,angle:h}=n,p=ln(r,i,o,h),f=ln(r,i,u,h);return[{x:p.x,y:p.y},{x:f.x,y:f.y}]}return GP(n)}}var lg={},og={},cg={},LA;function Ez(){return LA||(LA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=FO();function a(r){return n.isSymbol(r)?NaN:Number(r)}t.toNumber=a})(cg)),cg}var FA;function Dz(){return FA||(FA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=Ez();function a(r){return r?(r=n.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=a})(og)),og}var zA;function Oz(){return zA||(zA=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=zO(),a=Dz();function r(i,o,u){u&&typeof u!="number"&&n.isIterateeCall(i,o,u)&&(o=u=void 0),i=a.toFinite(i),o===void 0?(o=i,i=0):o=a.toFinite(o),u=u===void 0?i<o?1:-1:a.toFinite(u);const h=Math.max(Math.ceil((o-i)/(u||1)),0),p=new Array(h);for(let f=0;f<h;f++)p[f]=i,i+=u;return p}t.range=r})(lg)),lg}var ug,UA;function Pz(){return UA||(UA=1,ug=Oz().range),ug}var kz=Pz();const XP=Sr(kz);function Xs(t,n){return t==null||n==null?NaN:t<n?-1:t>n?1:t>=n?0:NaN}function Tz(t,n){return t==null||n==null?NaN:n<t?-1:n>t?1:n>=t?0:NaN}function Ej(t){let n,a,r;t.length!==2?(n=Xs,a=(h,p)=>Xs(t(h),p),r=(h,p)=>t(h)-p):(n=t===Xs||t===Tz?t:Mz,a=t,r=t);function i(h,p,f=0,d=h.length){if(f<d){if(n(p,p)!==0)return d;do{const v=f+d>>>1;a(h[v],p)<0?f=v+1:d=v}while(f<d)}return f}function o(h,p,f=0,d=h.length){if(f<d){if(n(p,p)!==0)return d;do{const v=f+d>>>1;a(h[v],p)<=0?f=v+1:d=v}while(f<d)}return f}function u(h,p,f=0,d=h.length){const v=i(h,p,f,d-1);return v>f&&r(h[v-1],p)>-r(h[v],p)?v-1:v}return{left:i,center:u,right:o}}function Mz(){return 0}function ZP(t){return t===null?NaN:+t}function*Iz(t,n){for(let a of t)a!=null&&(a=+a)>=a&&(yield a)}const Rz=Ej(Xs),ju=Rz.right;Ej(ZP).center;class $A extends Map{constructor(n,a=Lz){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),n!=null)for(const[r,i]of n)this.set(r,i)}get(n){return super.get(qA(this,n))}has(n){return super.has(qA(this,n))}set(n,a){return super.set(_z(this,n),a)}delete(n){return super.delete(Bz(this,n))}}function qA({_intern:t,_key:n},a){const r=n(a);return t.has(r)?t.get(r):a}function _z({_intern:t,_key:n},a){const r=n(a);return t.has(r)?t.get(r):(t.set(r,a),a)}function Bz({_intern:t,_key:n},a){const r=n(a);return t.has(r)&&(a=t.get(r),t.delete(r)),a}function Lz(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Fz(t=Xs){if(t===Xs)return QP;if(typeof t!="function")throw new TypeError("compare is not a function");return(n,a)=>{const r=t(n,a);return r||r===0?r:(t(a,a)===0)-(t(n,n)===0)}}function QP(t,n){return(t==null||!(t>=t))-(n==null||!(n>=n))||(t<n?-1:t>n?1:0)}const zz=Math.sqrt(50),Uz=Math.sqrt(10),$z=Math.sqrt(2);function am(t,n,a){const r=(n-t)/Math.max(0,a),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),u=o>=zz?10:o>=Uz?5:o>=$z?2:1;let h,p,f;return i<0?(f=Math.pow(10,-i)/u,h=Math.round(t*f),p=Math.round(n*f),h/f<t&&++h,p/f>n&&--p,f=-f):(f=Math.pow(10,i)*u,h=Math.round(t/f),p=Math.round(n/f),h*f<t&&++h,p*f>n&&--p),p<h&&.5<=a&&a<2?am(t,n,a*2):[h,p,f]}function jy(t,n,a){if(n=+n,t=+t,a=+a,!(a>0))return[];if(t===n)return[t];const r=n<t,[i,o,u]=r?am(n,t,a):am(t,n,a);if(!(o>=i))return[];const h=o-i+1,p=new Array(h);if(r)if(u<0)for(let f=0;f<h;++f)p[f]=(o-f)/-u;else for(let f=0;f<h;++f)p[f]=(o-f)*u;else if(u<0)for(let f=0;f<h;++f)p[f]=(i+f)/-u;else for(let f=0;f<h;++f)p[f]=(i+f)*u;return p}function by(t,n,a){return n=+n,t=+t,a=+a,am(t,n,a)[2]}function Ny(t,n,a){n=+n,t=+t,a=+a;const r=n<t,i=r?by(n,t,a):by(t,n,a);return(r?-1:1)*(i<0?1/-i:i)}function HA(t,n){let a;for(const r of t)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function VA(t,n){let a;for(const r of t)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function JP(t,n,a=0,r=1/0,i){if(n=Math.floor(n),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(t.length-1,r)),!(a<=n&&n<=r))return t;for(i=i===void 0?QP:Fz(i);r>a;){if(r-a>600){const p=r-a+1,f=n-a+1,d=Math.log(p),v=.5*Math.exp(2*d/3),y=.5*Math.sqrt(d*v*(p-v)/p)*(f-p/2<0?-1:1),C=Math.max(a,Math.floor(n-f*v/p+y)),N=Math.min(r,Math.floor(n+(p-f)*v/p+y));JP(t,n,C,N,i)}const o=t[n];let u=a,h=r;for(Dc(t,a,n),i(t[r],o)>0&&Dc(t,a,r);u<h;){for(Dc(t,u,h),++u,--h;i(t[u],o)<0;)++u;for(;i(t[h],o)>0;)--h}i(t[a],o)===0?Dc(t,a,h):(++h,Dc(t,h,r)),h<=n&&(a=h+1),n<=h&&(r=h-1)}return t}function Dc(t,n,a){const r=t[n];t[n]=t[a],t[a]=r}function qz(t,n,a){if(t=Float64Array.from(Iz(t)),!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return VA(t);if(n>=1)return HA(t);var r,i=(r-1)*n,o=Math.floor(i),u=HA(JP(t,o).subarray(0,o+1)),h=VA(t.subarray(o+1));return u+(h-u)*(i-o)}}function Hz(t,n,a=ZP){if(!(!(r=t.length)||isNaN(n=+n))){if(n<=0||r<2)return+a(t[0],0,t);if(n>=1)return+a(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),u=+a(t[o],o,t),h=+a(t[o+1],o+1,t);return u+(h-u)*(i-o)}}function Vz(t,n,a){t=+t,n=+n,a=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+a;for(var r=-1,i=Math.max(0,Math.ceil((n-t)/a))|0,o=new Array(i);++r<i;)o[r]=t+r*a;return o}function Xa(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t);break}return this}function ms(t,n){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof n=="function"?this.interpolator(n):this.range(n);break}}return this}const Sy=Symbol("implicit");function Dj(){var t=new $A,n=[],a=[],r=Sy;function i(o){let u=t.get(o);if(u===void 0){if(r!==Sy)return r;t.set(o,u=n.push(o)-1)}return a[u%a.length]}return i.domain=function(o){if(!arguments.length)return n.slice();n=[],t=new $A;for(const u of o)t.has(u)||t.set(u,n.push(u)-1);return i},i.range=function(o){return arguments.length?(a=Array.from(o),i):a.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Dj(n,a).unknown(r)},Xa.apply(i,arguments),i}function Oj(){var t=Dj().unknown(void 0),n=t.domain,a=t.range,r=0,i=1,o,u,h=!1,p=0,f=0,d=.5;delete t.unknown;function v(){var y=n().length,C=i<r,N=C?i:r,j=C?r:i;o=(j-N)/Math.max(1,y-p+f*2),h&&(o=Math.floor(o)),N+=(j-N-o*(y-p))*d,u=o*(1-p),h&&(N=Math.round(N),u=Math.round(u));var w=Vz(y).map(function(O){return N+o*O});return a(C?w.reverse():w)}return t.domain=function(y){return arguments.length?(n(y),v()):n()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,v()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,h=!0,v()},t.bandwidth=function(){return u},t.step=function(){return o},t.round=function(y){return arguments.length?(h=!!y,v()):h},t.padding=function(y){return arguments.length?(p=Math.min(1,f=+y),v()):p},t.paddingInner=function(y){return arguments.length?(p=Math.min(1,y),v()):p},t.paddingOuter=function(y){return arguments.length?(f=+y,v()):f},t.align=function(y){return arguments.length?(d=Math.max(0,Math.min(1,y)),v()):d},t.copy=function(){return Oj(n(),[r,i]).round(h).paddingInner(p).paddingOuter(f).align(d)},Xa.apply(v(),arguments)}function ek(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ek(n())},t}function Yz(){return ek(Oj.apply(null,arguments).paddingInner(1))}function Pj(t,n,a){t.prototype=n.prototype=a,a.constructor=t}function tk(t,n){var a=Object.create(t.prototype);for(var r in n)a[r]=n[r];return a}function bu(){}var Qc=.7,rm=1/Qc,Xl="\\s*([+-]?\\d+)\\s*",Jc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gz=/^#([0-9a-f]{3,8})$/,Kz=new RegExp(`^rgb\\(${Xl},${Xl},${Xl}\\)$`),Wz=new RegExp(`^rgb\\(${yr},${yr},${yr}\\)$`),Xz=new RegExp(`^rgba\\(${Xl},${Xl},${Xl},${Jc}\\)$`),Zz=new RegExp(`^rgba\\(${yr},${yr},${yr},${Jc}\\)$`),Qz=new RegExp(`^hsl\\(${Jc},${yr},${yr}\\)$`),Jz=new RegExp(`^hsla\\(${Jc},${yr},${yr},${Jc}\\)$`),YA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pj(bu,eu,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:GA,formatHex:GA,formatHex8:eU,formatHsl:tU,formatRgb:KA,toString:KA});function GA(){return this.rgb().formatHex()}function eU(){return this.rgb().formatHex8()}function tU(){return nk(this).formatHsl()}function KA(){return this.rgb().formatRgb()}function eu(t){var n,a;return t=(t+"").trim().toLowerCase(),(n=Gz.exec(t))?(a=n[1].length,n=parseInt(n[1],16),a===6?WA(n):a===3?new la(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):a===8?oh(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):a===4?oh(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Kz.exec(t))?new la(n[1],n[2],n[3],1):(n=Wz.exec(t))?new la(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=Xz.exec(t))?oh(n[1],n[2],n[3],n[4]):(n=Zz.exec(t))?oh(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=Qz.exec(t))?QA(n[1],n[2]/100,n[3]/100,1):(n=Jz.exec(t))?QA(n[1],n[2]/100,n[3]/100,n[4]):YA.hasOwnProperty(t)?WA(YA[t]):t==="transparent"?new la(NaN,NaN,NaN,0):null}function WA(t){return new la(t>>16&255,t>>8&255,t&255,1)}function oh(t,n,a,r){return r<=0&&(t=n=a=NaN),new la(t,n,a,r)}function nU(t){return t instanceof bu||(t=eu(t)),t?(t=t.rgb(),new la(t.r,t.g,t.b,t.opacity)):new la}function Cy(t,n,a,r){return arguments.length===1?nU(t):new la(t,n,a,r??1)}function la(t,n,a,r){this.r=+t,this.g=+n,this.b=+a,this.opacity=+r}Pj(la,Cy,tk(bu,{brighter(t){return t=t==null?rm:Math.pow(rm,t),new la(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qc:Math.pow(Qc,t),new la(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new la(Li(this.r),Li(this.g),Li(this.b),sm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:XA,formatHex:XA,formatHex8:aU,formatRgb:ZA,toString:ZA}));function XA(){return`#${Ti(this.r)}${Ti(this.g)}${Ti(this.b)}`}function aU(){return`#${Ti(this.r)}${Ti(this.g)}${Ti(this.b)}${Ti((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZA(){const t=sm(this.opacity);return`${t===1?"rgb(":"rgba("}${Li(this.r)}, ${Li(this.g)}, ${Li(this.b)}${t===1?")":`, ${t})`}`}function sm(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Li(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ti(t){return t=Li(t),(t<16?"0":"")+t.toString(16)}function QA(t,n,a,r){return r<=0?t=n=a=NaN:a<=0||a>=1?t=n=NaN:n<=0&&(t=NaN),new ir(t,n,a,r)}function nk(t){if(t instanceof ir)return new ir(t.h,t.s,t.l,t.opacity);if(t instanceof bu||(t=eu(t)),!t)return new ir;if(t instanceof ir)return t;t=t.rgb();var n=t.r/255,a=t.g/255,r=t.b/255,i=Math.min(n,a,r),o=Math.max(n,a,r),u=NaN,h=o-i,p=(o+i)/2;return h?(n===o?u=(a-r)/h+(a<r)*6:a===o?u=(r-n)/h+2:u=(n-a)/h+4,h/=p<.5?o+i:2-o-i,u*=60):h=p>0&&p<1?0:u,new ir(u,h,p,t.opacity)}function rU(t,n,a,r){return arguments.length===1?nk(t):new ir(t,n,a,r??1)}function ir(t,n,a,r){this.h=+t,this.s=+n,this.l=+a,this.opacity=+r}Pj(ir,rU,tk(bu,{brighter(t){return t=t==null?rm:Math.pow(rm,t),new ir(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qc:Math.pow(Qc,t),new ir(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*n,i=2*a-r;return new la(dg(t>=240?t-240:t+120,i,r),dg(t,i,r),dg(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ir(JA(this.h),ch(this.s),ch(this.l),sm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sm(this.opacity);return`${t===1?"hsl(":"hsla("}${JA(this.h)}, ${ch(this.s)*100}%, ${ch(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JA(t){return t=(t||0)%360,t<0?t+360:t}function ch(t){return Math.max(0,Math.min(1,t||0))}function dg(t,n,a){return(t<60?n+(a-n)*t/60:t<180?a:t<240?n+(a-n)*(240-t)/60:n)*255}const kj=t=>()=>t;function sU(t,n){return function(a){return t+a*n}}function iU(t,n,a){return t=Math.pow(t,a),n=Math.pow(n,a)-t,a=1/a,function(r){return Math.pow(t+r*n,a)}}function lU(t){return(t=+t)==1?ak:function(n,a){return a-n?iU(n,a,t):kj(isNaN(n)?a:n)}}function ak(t,n){var a=n-t;return a?sU(t,a):kj(isNaN(t)?n:t)}const eE=(function t(n){var a=lU(n);function r(i,o){var u=a((i=Cy(i)).r,(o=Cy(o)).r),h=a(i.g,o.g),p=a(i.b,o.b),f=ak(i.opacity,o.opacity);return function(d){return i.r=u(d),i.g=h(d),i.b=p(d),i.opacity=f(d),i+""}}return r.gamma=t,r})(1);function oU(t,n){n||(n=[]);var a=t?Math.min(n.length,t.length):0,r=n.slice(),i;return function(o){for(i=0;i<a;++i)r[i]=t[i]*(1-o)+n[i]*o;return r}}function cU(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uU(t,n){var a=n?n.length:0,r=t?Math.min(a,t.length):0,i=new Array(r),o=new Array(a),u;for(u=0;u<r;++u)i[u]=vo(t[u],n[u]);for(;u<a;++u)o[u]=n[u];return function(h){for(u=0;u<r;++u)o[u]=i[u](h);return o}}function dU(t,n){var a=new Date;return t=+t,n=+n,function(r){return a.setTime(t*(1-r)+n*r),a}}function im(t,n){return t=+t,n=+n,function(a){return t*(1-a)+n*a}}function hU(t,n){var a={},r={},i;(t===null||typeof t!="object")&&(t={}),(n===null||typeof n!="object")&&(n={});for(i in n)i in t?a[i]=vo(t[i],n[i]):r[i]=n[i];return function(o){for(i in a)r[i]=a[i](o);return r}}var wy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hg=new RegExp(wy.source,"g");function mU(t){return function(){return t}}function fU(t){return function(n){return t(n)+""}}function pU(t,n){var a=wy.lastIndex=hg.lastIndex=0,r,i,o,u=-1,h=[],p=[];for(t=t+"",n=n+"";(r=wy.exec(t))&&(i=hg.exec(n));)(o=i.index)>a&&(o=n.slice(a,o),h[u]?h[u]+=o:h[++u]=o),(r=r[0])===(i=i[0])?h[u]?h[u]+=i:h[++u]=i:(h[++u]=null,p.push({i:u,x:im(r,i)})),a=hg.lastIndex;return a<n.length&&(o=n.slice(a),h[u]?h[u]+=o:h[++u]=o),h.length<2?p[0]?fU(p[0].x):mU(n):(n=p.length,function(f){for(var d=0,v;d<n;++d)h[(v=p[d]).i]=v.x(f);return h.join("")})}function vo(t,n){var a=typeof n,r;return n==null||a==="boolean"?kj(n):(a==="number"?im:a==="string"?(r=eu(n))?(n=r,eE):pU:n instanceof eu?eE:n instanceof Date?dU:cU(n)?oU:Array.isArray(n)?uU:typeof n.valueOf!="function"&&typeof n.toString!="function"||isNaN(n)?hU:im)(t,n)}function Tj(t,n){return t=+t,n=+n,function(a){return Math.round(t*(1-a)+n*a)}}function vU(t,n){n===void 0&&(n=t,t=vo);for(var a=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);a<r;)o[a]=t(i,i=n[++a]);return function(u){var h=Math.max(0,Math.min(r-1,Math.floor(u*=r)));return o[h](u-h)}}function xU(t){return function(){return t}}function lm(t){return+t}var tE=[0,1];function Gn(t){return t}function Ay(t,n){return(n-=t=+t)?function(a){return(a-t)/n}:xU(isNaN(n)?NaN:.5)}function gU(t,n){var a;return t>n&&(a=t,t=n,n=a),function(r){return Math.max(t,Math.min(n,r))}}function yU(t,n,a){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=Ay(i,r),o=a(u,o)):(r=Ay(r,i),o=a(o,u)),function(h){return o(r(h))}}function jU(t,n,a){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=Ay(t[u],t[u+1]),o[u]=a(n[u],n[u+1]);return function(h){var p=ju(t,h,1,r)-1;return o[p](i[p](h))}}function Nu(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function lf(){var t=tE,n=tE,a=vo,r,i,o,u=Gn,h,p,f;function d(){var y=Math.min(t.length,n.length);return u!==Gn&&(u=gU(t[0],t[y-1])),h=y>2?jU:yU,p=f=null,v}function v(y){return y==null||isNaN(y=+y)?o:(p||(p=h(t.map(r),n,a)))(r(u(y)))}return v.invert=function(y){return u(i((f||(f=h(n,t.map(r),im)))(y)))},v.domain=function(y){return arguments.length?(t=Array.from(y,lm),d()):t.slice()},v.range=function(y){return arguments.length?(n=Array.from(y),d()):n.slice()},v.rangeRound=function(y){return n=Array.from(y),a=Tj,d()},v.clamp=function(y){return arguments.length?(u=y?!0:Gn,d()):u!==Gn},v.interpolate=function(y){return arguments.length?(a=y,d()):a},v.unknown=function(y){return arguments.length?(o=y,v):o},function(y,C){return r=y,i=C,d()}}function Mj(){return lf()(Gn,Gn)}function bU(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function om(t,n){if((a=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var a,r=t.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+t.slice(a+1)]}function ro(t){return t=om(Math.abs(t)),t?t[1]:NaN}function NU(t,n){return function(a,r){for(var i=a.length,o=[],u=0,h=t[0],p=0;i>0&&h>0&&(p+h+1>r&&(h=Math.max(1,r-p)),o.push(a.substring(i-=h,i+h)),!((p+=h+1)>r));)h=t[u=(u+1)%t.length];return o.reverse().join(n)}}function SU(t){return function(n){return n.replace(/[0-9]/g,function(a){return t[+a]})}}var CU=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tu(t){if(!(n=CU.exec(t)))throw new Error("invalid format: "+t);var n;return new Ij({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}tu.prototype=Ij.prototype;function Ij(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Ij.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wU(t){e:for(var n=t.length,a=1,r=-1,i;a<n;++a)switch(t[a]){case".":r=i=a;break;case"0":r===0&&(r=a),i=a;break;default:if(!+t[a])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var rk;function AU(t,n){var a=om(t,n);if(!a)return t+"";var r=a[0],i=a[1],o=i-(rk=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+om(t,Math.max(0,n+o-1))[0]}function nE(t,n){var a=om(t,n);if(!a)return t+"";var r=a[0],i=a[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const aE={"%":(t,n)=>(t*100).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:bU,e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>nE(t*100,n),r:nE,s:AU,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function rE(t){return t}var sE=Array.prototype.map,iE=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function EU(t){var n=t.grouping===void 0||t.thousands===void 0?rE:NU(sE.call(t.grouping,Number),t.thousands+""),a=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?rE:SU(sE.call(t.numerals,String)),u=t.percent===void 0?"%":t.percent+"",h=t.minus===void 0?"":t.minus+"",p=t.nan===void 0?"NaN":t.nan+"";function f(v){v=tu(v);var y=v.fill,C=v.align,N=v.sign,j=v.symbol,w=v.zero,O=v.width,S=v.comma,E=v.precision,T=v.trim,k=v.type;k==="n"?(S=!0,k="g"):aE[k]||(E===void 0&&(E=12),T=!0,k="g"),(w||y==="0"&&C==="=")&&(w=!0,y="0",C="=");var F=j==="$"?a:j==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",P=j==="$"?r:/[%p]/.test(k)?u:"",W=aE[k],R=/[defgprs%]/.test(k);E=E===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,E)):Math.max(0,Math.min(20,E));function U(J){var se=F,X=P,le,G,M;if(k==="c")X=W(J)+X,J="";else{J=+J;var B=J<0||1/J<0;if(J=isNaN(J)?p:W(Math.abs(J),E),T&&(J=wU(J)),B&&+J==0&&N!=="+"&&(B=!1),se=(B?N==="("?N:h:N==="-"||N==="("?"":N)+se,X=(k==="s"?iE[8+rk/3]:"")+X+(B&&N==="("?")":""),R){for(le=-1,G=J.length;++le<G;)if(M=J.charCodeAt(le),48>M||M>57){X=(M===46?i+J.slice(le+1):J.slice(le))+X,J=J.slice(0,le);break}}}S&&!w&&(J=n(J,1/0));var re=se.length+J.length+X.length,Z=re<O?new Array(O-re+1).join(y):"";switch(S&&w&&(J=n(Z+J,Z.length?O-X.length:1/0),Z=""),C){case"<":J=se+J+X+Z;break;case"=":J=se+Z+J+X;break;case"^":J=Z.slice(0,re=Z.length>>1)+se+J+X+Z.slice(re);break;default:J=Z+se+J+X;break}return o(J)}return U.toString=function(){return v+""},U}function d(v,y){var C=f((v=tu(v),v.type="f",v)),N=Math.max(-8,Math.min(8,Math.floor(ro(y)/3)))*3,j=Math.pow(10,-N),w=iE[8+N/3];return function(O){return C(j*O)+w}}return{format:f,formatPrefix:d}}var uh,Rj,sk;DU({thousands:",",grouping:[3],currency:["$",""]});function DU(t){return uh=EU(t),Rj=uh.format,sk=uh.formatPrefix,uh}function OU(t){return Math.max(0,-ro(Math.abs(t)))}function PU(t,n){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ro(n)/3)))*3-ro(Math.abs(t)))}function kU(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,ro(n)-ro(t))+1}function ik(t,n,a,r){var i=Ny(t,n,a),o;switch(r=tu(r??",f"),r.type){case"s":{var u=Math.max(Math.abs(t),Math.abs(n));return r.precision==null&&!isNaN(o=PU(i,u))&&(r.precision=o),sk(r,u)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=kU(i,Math.max(Math.abs(t),Math.abs(n))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=OU(i))&&(r.precision=o-(r.type==="%")*2);break}}return Rj(r)}function ri(t){var n=t.domain;return t.ticks=function(a){var r=n();return jy(r[0],r[r.length-1],a??10)},t.tickFormat=function(a,r){var i=n();return ik(i[0],i[i.length-1],a??10,r)},t.nice=function(a){a==null&&(a=10);var r=n(),i=0,o=r.length-1,u=r[i],h=r[o],p,f,d=10;for(h<u&&(f=u,u=h,h=f,f=i,i=o,o=f);d-- >0;){if(f=by(u,h,a),f===p)return r[i]=u,r[o]=h,n(r);if(f>0)u=Math.floor(u/f)*f,h=Math.ceil(h/f)*f;else if(f<0)u=Math.ceil(u*f)/f,h=Math.floor(h*f)/f;else break;p=f}return t},t}function lk(){var t=Mj();return t.copy=function(){return Nu(t,lk())},Xa.apply(t,arguments),ri(t)}function ok(t){var n;function a(r){return r==null||isNaN(r=+r)?n:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(t=Array.from(r,lm),a):t.slice()},a.unknown=function(r){return arguments.length?(n=r,a):n},a.copy=function(){return ok(t).unknown(n)},t=arguments.length?Array.from(t,lm):[0,1],ri(a)}function ck(t,n){t=t.slice();var a=0,r=t.length-1,i=t[a],o=t[r],u;return o<i&&(u=a,a=r,r=u,u=i,i=o,o=u),t[a]=n.floor(i),t[r]=n.ceil(o),t}function lE(t){return Math.log(t)}function oE(t){return Math.exp(t)}function TU(t){return-Math.log(-t)}function MU(t){return-Math.exp(-t)}function IU(t){return isFinite(t)?+("1e"+t):t<0?0:t}function RU(t){return t===10?IU:t===Math.E?Math.exp:n=>Math.pow(t,n)}function _U(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),n=>Math.log(n)/t)}function cE(t){return(n,a)=>-t(-n,a)}function _j(t){const n=t(lE,oE),a=n.domain;let r=10,i,o;function u(){return i=_U(r),o=RU(r),a()[0]<0?(i=cE(i),o=cE(o),t(TU,MU)):t(lE,oE),n}return n.base=function(h){return arguments.length?(r=+h,u()):r},n.domain=function(h){return arguments.length?(a(h),u()):a()},n.ticks=h=>{const p=a();let f=p[0],d=p[p.length-1];const v=d<f;v&&([f,d]=[d,f]);let y=i(f),C=i(d),N,j;const w=h==null?10:+h;let O=[];if(!(r%1)&&C-y<w){if(y=Math.floor(y),C=Math.ceil(C),f>0){for(;y<=C;++y)for(N=1;N<r;++N)if(j=y<0?N/o(-y):N*o(y),!(j<f)){if(j>d)break;O.push(j)}}else for(;y<=C;++y)for(N=r-1;N>=1;--N)if(j=y>0?N/o(-y):N*o(y),!(j<f)){if(j>d)break;O.push(j)}O.length*2<w&&(O=jy(f,d,w))}else O=jy(y,C,Math.min(C-y,w)).map(o);return v?O.reverse():O},n.tickFormat=(h,p)=>{if(h==null&&(h=10),p==null&&(p=r===10?"s":","),typeof p!="function"&&(!(r%1)&&(p=tu(p)).precision==null&&(p.trim=!0),p=Rj(p)),h===1/0)return p;const f=Math.max(1,r*h/n.ticks().length);return d=>{let v=d/o(Math.round(i(d)));return v*r<r-.5&&(v*=r),v<=f?p(d):""}},n.nice=()=>a(ck(a(),{floor:h=>o(Math.floor(i(h))),ceil:h=>o(Math.ceil(i(h)))})),n}function uk(){const t=_j(lf()).domain([1,10]);return t.copy=()=>Nu(t,uk()).base(t.base()),Xa.apply(t,arguments),t}function uE(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function dE(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function Bj(t){var n=1,a=t(uE(n),dE(n));return a.constant=function(r){return arguments.length?t(uE(n=+r),dE(n)):n},ri(a)}function dk(){var t=Bj(lf());return t.copy=function(){return Nu(t,dk()).constant(t.constant())},Xa.apply(t,arguments)}function hE(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function BU(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function LU(t){return t<0?-t*t:t*t}function Lj(t){var n=t(Gn,Gn),a=1;function r(){return a===1?t(Gn,Gn):a===.5?t(BU,LU):t(hE(a),hE(1/a))}return n.exponent=function(i){return arguments.length?(a=+i,r()):a},ri(n)}function Fj(){var t=Lj(lf());return t.copy=function(){return Nu(t,Fj()).exponent(t.exponent())},Xa.apply(t,arguments),t}function FU(){return Fj.apply(null,arguments).exponent(.5)}function mE(t){return Math.sign(t)*t*t}function zU(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hk(){var t=Mj(),n=[0,1],a=!1,r;function i(o){var u=zU(t(o));return isNaN(u)?r:a?Math.round(u):u}return i.invert=function(o){return t.invert(mE(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((n=Array.from(o,lm)).map(mE)),i):n.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(a=!!o,i):a},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return hk(t.domain(),n).round(a).clamp(t.clamp()).unknown(r)},Xa.apply(i,arguments),ri(i)}function mk(){var t=[],n=[],a=[],r;function i(){var u=0,h=Math.max(1,n.length);for(a=new Array(h-1);++u<h;)a[u-1]=Hz(t,u/h);return o}function o(u){return u==null||isNaN(u=+u)?r:n[ju(a,u)]}return o.invertExtent=function(u){var h=n.indexOf(u);return h<0?[NaN,NaN]:[h>0?a[h-1]:t[0],h<a.length?a[h]:t[t.length-1]]},o.domain=function(u){if(!arguments.length)return t.slice();t=[];for(let h of u)h!=null&&!isNaN(h=+h)&&t.push(h);return t.sort(Xs),i()},o.range=function(u){return arguments.length?(n=Array.from(u),i()):n.slice()},o.unknown=function(u){return arguments.length?(r=u,o):r},o.quantiles=function(){return a.slice()},o.copy=function(){return mk().domain(t).range(n).unknown(r)},Xa.apply(o,arguments)}function fk(){var t=0,n=1,a=1,r=[.5],i=[0,1],o;function u(p){return p!=null&&p<=p?i[ju(r,p,0,a)]:o}function h(){var p=-1;for(r=new Array(a);++p<a;)r[p]=((p+1)*n-(p-a)*t)/(a+1);return u}return u.domain=function(p){return arguments.length?([t,n]=p,t=+t,n=+n,h()):[t,n]},u.range=function(p){return arguments.length?(a=(i=Array.from(p)).length-1,h()):i.slice()},u.invertExtent=function(p){var f=i.indexOf(p);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=a?[r[a-1],n]:[r[f-1],r[f]]},u.unknown=function(p){return arguments.length&&(o=p),u},u.thresholds=function(){return r.slice()},u.copy=function(){return fk().domain([t,n]).range(i).unknown(o)},Xa.apply(ri(u),arguments)}function pk(){var t=[.5],n=[0,1],a,r=1;function i(o){return o!=null&&o<=o?n[ju(t,o,0,r)]:a}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(o){return arguments.length?(n=Array.from(o),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(o){var u=n.indexOf(o);return[t[u-1],t[u]]},i.unknown=function(o){return arguments.length?(a=o,i):a},i.copy=function(){return pk().domain(t).range(n).unknown(a)},Xa.apply(i,arguments)}const mg=new Date,fg=new Date;function xn(t,n,a,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),n(o,1),t(o),o),i.round=o=>{const u=i(o),h=i.ceil(o);return o-u<h-o?u:h},i.offset=(o,u)=>(n(o=new Date(+o),u==null?1:Math.floor(u)),o),i.range=(o,u,h)=>{const p=[];if(o=i.ceil(o),h=h==null?1:Math.floor(h),!(o<u)||!(h>0))return p;let f;do p.push(f=new Date(+o)),n(o,h),t(o);while(f<o&&o<u);return p},i.filter=o=>xn(u=>{if(u>=u)for(;t(u),!o(u);)u.setTime(u-1)},(u,h)=>{if(u>=u)if(h<0)for(;++h<=0;)for(;n(u,-1),!o(u););else for(;--h>=0;)for(;n(u,1),!o(u););}),a&&(i.count=(o,u)=>(mg.setTime(+o),fg.setTime(+u),t(mg),t(fg),Math.floor(a(mg,fg))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?u=>r(u)%o===0:u=>i.count(0,u)%o===0):i)),i}const cm=xn(()=>{},(t,n)=>{t.setTime(+t+n)},(t,n)=>n-t);cm.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xn(n=>{n.setTime(Math.floor(n/t)*t)},(n,a)=>{n.setTime(+n+a*t)},(n,a)=>(a-n)/t):cm);cm.range;const Yr=1e3,Ha=Yr*60,Gr=Ha*60,as=Gr*24,zj=as*7,fE=as*30,pg=as*365,Mi=xn(t=>{t.setTime(t-t.getMilliseconds())},(t,n)=>{t.setTime(+t+n*Yr)},(t,n)=>(n-t)/Yr,t=>t.getUTCSeconds());Mi.range;const Uj=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yr)},(t,n)=>{t.setTime(+t+n*Ha)},(t,n)=>(n-t)/Ha,t=>t.getMinutes());Uj.range;const $j=xn(t=>{t.setUTCSeconds(0,0)},(t,n)=>{t.setTime(+t+n*Ha)},(t,n)=>(n-t)/Ha,t=>t.getUTCMinutes());$j.range;const qj=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Yr-t.getMinutes()*Ha)},(t,n)=>{t.setTime(+t+n*Gr)},(t,n)=>(n-t)/Gr,t=>t.getHours());qj.range;const Hj=xn(t=>{t.setUTCMinutes(0,0,0)},(t,n)=>{t.setTime(+t+n*Gr)},(t,n)=>(n-t)/Gr,t=>t.getUTCHours());Hj.range;const Su=xn(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ha)/as,t=>t.getDate()-1);Su.range;const of=xn(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/as,t=>t.getUTCDate()-1);of.range;const vk=xn(t=>{t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n)},(t,n)=>(n-t)/as,t=>Math.floor(t/as));vk.range;function Wi(t){return xn(n=>{n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)},(n,a)=>{n.setDate(n.getDate()+a*7)},(n,a)=>(a-n-(a.getTimezoneOffset()-n.getTimezoneOffset())*Ha)/zj)}const cf=Wi(0),um=Wi(1),UU=Wi(2),$U=Wi(3),so=Wi(4),qU=Wi(5),HU=Wi(6);cf.range;um.range;UU.range;$U.range;so.range;qU.range;HU.range;function Xi(t){return xn(n=>{n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)},(n,a)=>{n.setUTCDate(n.getUTCDate()+a*7)},(n,a)=>(a-n)/zj)}const uf=Xi(0),dm=Xi(1),VU=Xi(2),YU=Xi(3),io=Xi(4),GU=Xi(5),KU=Xi(6);uf.range;dm.range;VU.range;YU.range;io.range;GU.range;KU.range;const Vj=xn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,n)=>{t.setMonth(t.getMonth()+n)},(t,n)=>n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Vj.range;const Yj=xn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCMonth(t.getUTCMonth()+n)},(t,n)=>n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Yj.range;const rs=xn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n)},(t,n)=>n.getFullYear()-t.getFullYear(),t=>t.getFullYear());rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(n=>{n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)},(n,a)=>{n.setFullYear(n.getFullYear()+a*t)});rs.range;const ss=xn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n)},(t,n)=>n.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ss.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(n=>{n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,a)=>{n.setUTCFullYear(n.getUTCFullYear()+a*t)});ss.range;function xk(t,n,a,r,i,o){const u=[[Mi,1,Yr],[Mi,5,5*Yr],[Mi,15,15*Yr],[Mi,30,30*Yr],[o,1,Ha],[o,5,5*Ha],[o,15,15*Ha],[o,30,30*Ha],[i,1,Gr],[i,3,3*Gr],[i,6,6*Gr],[i,12,12*Gr],[r,1,as],[r,2,2*as],[a,1,zj],[n,1,fE],[n,3,3*fE],[t,1,pg]];function h(f,d,v){const y=d<f;y&&([f,d]=[d,f]);const C=v&&typeof v.range=="function"?v:p(f,d,v),N=C?C.range(f,+d+1):[];return y?N.reverse():N}function p(f,d,v){const y=Math.abs(d-f)/v,C=Ej(([,,w])=>w).right(u,y);if(C===u.length)return t.every(Ny(f/pg,d/pg,v));if(C===0)return cm.every(Math.max(Ny(f,d,v),1));const[N,j]=u[y/u[C-1][2]<u[C][2]/y?C-1:C];return N.every(j)}return[h,p]}const[WU,XU]=xk(ss,Yj,uf,vk,Hj,$j),[ZU,QU]=xk(rs,Vj,cf,Su,qj,Uj);function vg(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function xg(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Oc(t,n,a){return{y:t,m:n,d:a,H:0,M:0,S:0,L:0}}function JU(t){var n=t.dateTime,a=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,h=t.months,p=t.shortMonths,f=Pc(i),d=kc(i),v=Pc(o),y=kc(o),C=Pc(u),N=kc(u),j=Pc(h),w=kc(h),O=Pc(p),S=kc(p),E={a:B,A:re,b:Z,B:te,c:null,d:jE,e:jE,f:N$,g:T$,G:I$,H:y$,I:j$,j:b$,L:gk,m:S$,M:C$,p:_,q:z,Q:SE,s:CE,S:w$,u:A$,U:E$,V:D$,w:O$,W:P$,x:null,X:null,y:k$,Y:M$,Z:R$,"%":NE},T={a:L,A:$,b:q,B:A,c:null,d:bE,e:bE,f:F$,g:W$,G:Z$,H:_$,I:B$,j:L$,L:jk,m:z$,M:U$,p:K,q:xe,Q:SE,s:CE,S:$$,u:q$,U:H$,V:V$,w:Y$,W:G$,x:null,X:null,y:K$,Y:X$,Z:Q$,"%":NE},k={a:U,A:J,b:se,B:X,c:le,d:gE,e:gE,f:p$,g:xE,G:vE,H:yE,I:yE,j:d$,L:f$,m:u$,M:h$,p:R,q:c$,Q:x$,s:g$,S:m$,u:r$,U:s$,V:i$,w:a$,W:l$,x:G,X:M,y:xE,Y:vE,Z:o$,"%":v$};E.x=F(a,E),E.X=F(r,E),E.c=F(n,E),T.x=F(a,T),T.X=F(r,T),T.c=F(n,T);function F(V,ee){return function(me){var ue=[],H=-1,de=0,D=V.length,ne,be,Ce;for(me instanceof Date||(me=new Date(+me));++H<D;)V.charCodeAt(H)===37&&(ue.push(V.slice(de,H)),(be=pE[ne=V.charAt(++H)])!=null?ne=V.charAt(++H):be=ne==="e"?" ":"0",(Ce=ee[ne])&&(ne=Ce(me,be)),ue.push(ne),de=H+1);return ue.push(V.slice(de,H)),ue.join("")}}function P(V,ee){return function(me){var ue=Oc(1900,void 0,1),H=W(ue,V,me+="",0),de,D;if(H!=me.length)return null;if("Q"in ue)return new Date(ue.Q);if("s"in ue)return new Date(ue.s*1e3+("L"in ue?ue.L:0));if(ee&&!("Z"in ue)&&(ue.Z=0),"p"in ue&&(ue.H=ue.H%12+ue.p*12),ue.m===void 0&&(ue.m="q"in ue?ue.q:0),"V"in ue){if(ue.V<1||ue.V>53)return null;"w"in ue||(ue.w=1),"Z"in ue?(de=xg(Oc(ue.y,0,1)),D=de.getUTCDay(),de=D>4||D===0?dm.ceil(de):dm(de),de=of.offset(de,(ue.V-1)*7),ue.y=de.getUTCFullYear(),ue.m=de.getUTCMonth(),ue.d=de.getUTCDate()+(ue.w+6)%7):(de=vg(Oc(ue.y,0,1)),D=de.getDay(),de=D>4||D===0?um.ceil(de):um(de),de=Su.offset(de,(ue.V-1)*7),ue.y=de.getFullYear(),ue.m=de.getMonth(),ue.d=de.getDate()+(ue.w+6)%7)}else("W"in ue||"U"in ue)&&("w"in ue||(ue.w="u"in ue?ue.u%7:"W"in ue?1:0),D="Z"in ue?xg(Oc(ue.y,0,1)).getUTCDay():vg(Oc(ue.y,0,1)).getDay(),ue.m=0,ue.d="W"in ue?(ue.w+6)%7+ue.W*7-(D+5)%7:ue.w+ue.U*7-(D+6)%7);return"Z"in ue?(ue.H+=ue.Z/100|0,ue.M+=ue.Z%100,xg(ue)):vg(ue)}}function W(V,ee,me,ue){for(var H=0,de=ee.length,D=me.length,ne,be;H<de;){if(ue>=D)return-1;if(ne=ee.charCodeAt(H++),ne===37){if(ne=ee.charAt(H++),be=k[ne in pE?ee.charAt(H++):ne],!be||(ue=be(V,me,ue))<0)return-1}else if(ne!=me.charCodeAt(ue++))return-1}return ue}function R(V,ee,me){var ue=f.exec(ee.slice(me));return ue?(V.p=d.get(ue[0].toLowerCase()),me+ue[0].length):-1}function U(V,ee,me){var ue=C.exec(ee.slice(me));return ue?(V.w=N.get(ue[0].toLowerCase()),me+ue[0].length):-1}function J(V,ee,me){var ue=v.exec(ee.slice(me));return ue?(V.w=y.get(ue[0].toLowerCase()),me+ue[0].length):-1}function se(V,ee,me){var ue=O.exec(ee.slice(me));return ue?(V.m=S.get(ue[0].toLowerCase()),me+ue[0].length):-1}function X(V,ee,me){var ue=j.exec(ee.slice(me));return ue?(V.m=w.get(ue[0].toLowerCase()),me+ue[0].length):-1}function le(V,ee,me){return W(V,n,ee,me)}function G(V,ee,me){return W(V,a,ee,me)}function M(V,ee,me){return W(V,r,ee,me)}function B(V){return u[V.getDay()]}function re(V){return o[V.getDay()]}function Z(V){return p[V.getMonth()]}function te(V){return h[V.getMonth()]}function _(V){return i[+(V.getHours()>=12)]}function z(V){return 1+~~(V.getMonth()/3)}function L(V){return u[V.getUTCDay()]}function $(V){return o[V.getUTCDay()]}function q(V){return p[V.getUTCMonth()]}function A(V){return h[V.getUTCMonth()]}function K(V){return i[+(V.getUTCHours()>=12)]}function xe(V){return 1+~~(V.getUTCMonth()/3)}return{format:function(V){var ee=F(V+="",E);return ee.toString=function(){return V},ee},parse:function(V){var ee=P(V+="",!1);return ee.toString=function(){return V},ee},utcFormat:function(V){var ee=F(V+="",T);return ee.toString=function(){return V},ee},utcParse:function(V){var ee=P(V+="",!0);return ee.toString=function(){return V},ee}}}var pE={"-":"",_:" ",0:"0"},An=/^\s*\d+/,e$=/^%/,t$=/[\\^$*+?|[\]().{}]/g;function dt(t,n,a){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<a?new Array(a-o+1).join(n)+i:i)}function n$(t){return t.replace(t$,"\\$&")}function Pc(t){return new RegExp("^(?:"+t.map(n$).join("|")+")","i")}function kc(t){return new Map(t.map((n,a)=>[n.toLowerCase(),a]))}function a$(t,n,a){var r=An.exec(n.slice(a,a+1));return r?(t.w=+r[0],a+r[0].length):-1}function r$(t,n,a){var r=An.exec(n.slice(a,a+1));return r?(t.u=+r[0],a+r[0].length):-1}function s$(t,n,a){var r=An.exec(n.slice(a,a+2));return r?(t.U=+r[0],a+r[0].length):-1}function i$(t,n,a){var r=An.exec(n.slice(a,a+2));return r?(t.V=+r[0],a+r[0].length):-1}function l$(t,n,a){var r=An.exec(n.slice(a,a+2));return r?(t.W=+r[0],a+r[0].length):-1}function vE(t,n,a){var r=An.exec(n.slice(a,a+4));return r?(t.y=+r[0],a+r[0].length):-1}function xE(t,n,a){var r=An.exec(n.slice(a,a+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function o$(t,n,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(a,a+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function c$(t,n,a){var r=An.exec(n.slice(a,a+1));return r?(t.q=r[0]*3-3,a+r[0].length):-1}function u$(t,n,a){var r=An.exec(n.slice(a,a+2));return r?(t.m=r[0]-1,a+r[0].length):-1}function gE(t,n,a){var r=An.exec(n.slice(a,a+2));return r?(t.d=+r[0],a+r[0].length):-1}function d$(t,n,a){var r=An.exec(n.slice(a,a+3));return r?(t.m=0,t.d=+r[0],a+r[0].length):-1}function yE(t,n,a){var r=An.exec(n.slice(a,a+2));return r?(t.H=+r[0],a+r[0].length):-1}function h$(t,n,a){var r=An.exec(n.slice(a,a+2));return r?(t.M=+r[0],a+r[0].length):-1}function m$(t,n,a){var r=An.exec(n.slice(a,a+2));return r?(t.S=+r[0],a+r[0].length):-1}function f$(t,n,a){var r=An.exec(n.slice(a,a+3));return r?(t.L=+r[0],a+r[0].length):-1}function p$(t,n,a){var r=An.exec(n.slice(a,a+6));return r?(t.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function v$(t,n,a){var r=e$.exec(n.slice(a,a+1));return r?a+r[0].length:-1}function x$(t,n,a){var r=An.exec(n.slice(a));return r?(t.Q=+r[0],a+r[0].length):-1}function g$(t,n,a){var r=An.exec(n.slice(a));return r?(t.s=+r[0],a+r[0].length):-1}function jE(t,n){return dt(t.getDate(),n,2)}function y$(t,n){return dt(t.getHours(),n,2)}function j$(t,n){return dt(t.getHours()%12||12,n,2)}function b$(t,n){return dt(1+Su.count(rs(t),t),n,3)}function gk(t,n){return dt(t.getMilliseconds(),n,3)}function N$(t,n){return gk(t,n)+"000"}function S$(t,n){return dt(t.getMonth()+1,n,2)}function C$(t,n){return dt(t.getMinutes(),n,2)}function w$(t,n){return dt(t.getSeconds(),n,2)}function A$(t){var n=t.getDay();return n===0?7:n}function E$(t,n){return dt(cf.count(rs(t)-1,t),n,2)}function yk(t){var n=t.getDay();return n>=4||n===0?so(t):so.ceil(t)}function D$(t,n){return t=yk(t),dt(so.count(rs(t),t)+(rs(t).getDay()===4),n,2)}function O$(t){return t.getDay()}function P$(t,n){return dt(um.count(rs(t)-1,t),n,2)}function k$(t,n){return dt(t.getFullYear()%100,n,2)}function T$(t,n){return t=yk(t),dt(t.getFullYear()%100,n,2)}function M$(t,n){return dt(t.getFullYear()%1e4,n,4)}function I$(t,n){var a=t.getDay();return t=a>=4||a===0?so(t):so.ceil(t),dt(t.getFullYear()%1e4,n,4)}function R$(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+dt(n/60|0,"0",2)+dt(n%60,"0",2)}function bE(t,n){return dt(t.getUTCDate(),n,2)}function _$(t,n){return dt(t.getUTCHours(),n,2)}function B$(t,n){return dt(t.getUTCHours()%12||12,n,2)}function L$(t,n){return dt(1+of.count(ss(t),t),n,3)}function jk(t,n){return dt(t.getUTCMilliseconds(),n,3)}function F$(t,n){return jk(t,n)+"000"}function z$(t,n){return dt(t.getUTCMonth()+1,n,2)}function U$(t,n){return dt(t.getUTCMinutes(),n,2)}function $$(t,n){return dt(t.getUTCSeconds(),n,2)}function q$(t){var n=t.getUTCDay();return n===0?7:n}function H$(t,n){return dt(uf.count(ss(t)-1,t),n,2)}function bk(t){var n=t.getUTCDay();return n>=4||n===0?io(t):io.ceil(t)}function V$(t,n){return t=bk(t),dt(io.count(ss(t),t)+(ss(t).getUTCDay()===4),n,2)}function Y$(t){return t.getUTCDay()}function G$(t,n){return dt(dm.count(ss(t)-1,t),n,2)}function K$(t,n){return dt(t.getUTCFullYear()%100,n,2)}function W$(t,n){return t=bk(t),dt(t.getUTCFullYear()%100,n,2)}function X$(t,n){return dt(t.getUTCFullYear()%1e4,n,4)}function Z$(t,n){var a=t.getUTCDay();return t=a>=4||a===0?io(t):io.ceil(t),dt(t.getUTCFullYear()%1e4,n,4)}function Q$(){return"+0000"}function NE(){return"%"}function SE(t){return+t}function CE(t){return Math.floor(+t/1e3)}var zl,Nk,Sk;J$({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function J$(t){return zl=JU(t),Nk=zl.format,zl.parse,Sk=zl.utcFormat,zl.utcParse,zl}function eq(t){return new Date(t)}function tq(t){return t instanceof Date?+t:+new Date(+t)}function Gj(t,n,a,r,i,o,u,h,p,f){var d=Mj(),v=d.invert,y=d.domain,C=f(".%L"),N=f(":%S"),j=f("%I:%M"),w=f("%I %p"),O=f("%a %d"),S=f("%b %d"),E=f("%B"),T=f("%Y");function k(F){return(p(F)<F?C:h(F)<F?N:u(F)<F?j:o(F)<F?w:r(F)<F?i(F)<F?O:S:a(F)<F?E:T)(F)}return d.invert=function(F){return new Date(v(F))},d.domain=function(F){return arguments.length?y(Array.from(F,tq)):y().map(eq)},d.ticks=function(F){var P=y();return t(P[0],P[P.length-1],F??10)},d.tickFormat=function(F,P){return P==null?k:f(P)},d.nice=function(F){var P=y();return(!F||typeof F.range!="function")&&(F=n(P[0],P[P.length-1],F??10)),F?y(ck(P,F)):d},d.copy=function(){return Nu(d,Gj(t,n,a,r,i,o,u,h,p,f))},d}function nq(){return Xa.apply(Gj(ZU,QU,rs,Vj,cf,Su,qj,Uj,Mi,Nk).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aq(){return Xa.apply(Gj(WU,XU,ss,Yj,uf,of,Hj,$j,Mi,Sk).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function df(){var t=0,n=1,a,r,i,o,u=Gn,h=!1,p;function f(v){return v==null||isNaN(v=+v)?p:u(i===0?.5:(v=(o(v)-a)*i,h?Math.max(0,Math.min(1,v)):v))}f.domain=function(v){return arguments.length?([t,n]=v,a=o(t=+t),r=o(n=+n),i=a===r?0:1/(r-a),f):[t,n]},f.clamp=function(v){return arguments.length?(h=!!v,f):h},f.interpolator=function(v){return arguments.length?(u=v,f):u};function d(v){return function(y){var C,N;return arguments.length?([C,N]=y,u=v(C,N),f):[u(0),u(1)]}}return f.range=d(vo),f.rangeRound=d(Tj),f.unknown=function(v){return arguments.length?(p=v,f):p},function(v){return o=v,a=v(t),r=v(n),i=a===r?0:1/(r-a),f}}function si(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ck(){var t=ri(df()(Gn));return t.copy=function(){return si(t,Ck())},ms.apply(t,arguments)}function wk(){var t=_j(df()).domain([1,10]);return t.copy=function(){return si(t,wk()).base(t.base())},ms.apply(t,arguments)}function Ak(){var t=Bj(df());return t.copy=function(){return si(t,Ak()).constant(t.constant())},ms.apply(t,arguments)}function Kj(){var t=Lj(df());return t.copy=function(){return si(t,Kj()).exponent(t.exponent())},ms.apply(t,arguments)}function rq(){return Kj.apply(null,arguments).exponent(.5)}function Ek(){var t=[],n=Gn;function a(r){if(r!=null&&!isNaN(r=+r))return n((ju(t,r,1)-1)/(t.length-1))}return a.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xs),a},a.interpolator=function(r){return arguments.length?(n=r,a):n},a.range=function(){return t.map((r,i)=>n(i/(t.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(i,o)=>qz(t,o/r))},a.copy=function(){return Ek(n).domain(t)},ms.apply(a,arguments)}function hf(){var t=0,n=.5,a=1,r=1,i,o,u,h,p,f=Gn,d,v=!1,y;function C(j){return isNaN(j=+j)?y:(j=.5+((j=+d(j))-o)*(r*j<r*o?h:p),f(v?Math.max(0,Math.min(1,j)):j))}C.domain=function(j){return arguments.length?([t,n,a]=j,i=d(t=+t),o=d(n=+n),u=d(a=+a),h=i===o?0:.5/(o-i),p=o===u?0:.5/(u-o),r=o<i?-1:1,C):[t,n,a]},C.clamp=function(j){return arguments.length?(v=!!j,C):v},C.interpolator=function(j){return arguments.length?(f=j,C):f};function N(j){return function(w){var O,S,E;return arguments.length?([O,S,E]=w,f=vU(j,[O,S,E]),C):[f(0),f(.5),f(1)]}}return C.range=N(vo),C.rangeRound=N(Tj),C.unknown=function(j){return arguments.length?(y=j,C):y},function(j){return d=j,i=j(t),o=j(n),u=j(a),h=i===o?0:.5/(o-i),p=o===u?0:.5/(u-o),r=o<i?-1:1,C}}function Dk(){var t=ri(hf()(Gn));return t.copy=function(){return si(t,Dk())},ms.apply(t,arguments)}function Ok(){var t=_j(hf()).domain([.1,1,10]);return t.copy=function(){return si(t,Ok()).base(t.base())},ms.apply(t,arguments)}function Pk(){var t=Bj(hf());return t.copy=function(){return si(t,Pk()).constant(t.constant())},ms.apply(t,arguments)}function Wj(){var t=Lj(hf());return t.copy=function(){return si(t,Wj()).exponent(t.exponent())},ms.apply(t,arguments)}function sq(){return Wj.apply(null,arguments).exponent(.5)}const Bc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Oj,scaleDiverging:Dk,scaleDivergingLog:Ok,scaleDivergingPow:Wj,scaleDivergingSqrt:sq,scaleDivergingSymlog:Pk,scaleIdentity:ok,scaleImplicit:Sy,scaleLinear:lk,scaleLog:uk,scaleOrdinal:Dj,scalePoint:Yz,scalePow:Fj,scaleQuantile:mk,scaleQuantize:fk,scaleRadial:hk,scaleSequential:Ck,scaleSequentialLog:wk,scaleSequentialPow:Kj,scaleSequentialQuantile:Ek,scaleSequentialSqrt:rq,scaleSequentialSymlog:Ak,scaleSqrt:FU,scaleSymlog:dk,scaleThreshold:pk,scaleTime:nq,scaleUtc:aq,tickFormat:ik},Symbol.toStringTag,{value:"Module"}));var ii=t=>t.chartData,Xj=ve([ii],t=>{var n=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:n,dataStartIndex:0}}),mf=(t,n,a,r)=>r?Xj(t):ii(t);function Zs(t){if(Array.isArray(t)&&t.length===2){var[n,a]=t;if(Rt(n)&&Rt(a))return!0}return!1}function wE(t,n,a){return a?t:[Math.min(t[0],n[0]),Math.max(t[1],n[1])]}function kk(t,n){if(n&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[a,r]=t,i,o;if(Rt(a))i=a;else if(typeof a=="function")return;if(Rt(r))o=r;else if(typeof r=="function")return;var u=[i,o];if(Zs(u))return u}}function iq(t,n,a){if(!(!a&&n==null)){if(typeof t=="function"&&n!=null)try{var r=t(n,a);if(Zs(r))return wE(r,n,a)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,u,h;if(i==="auto")n!=null&&(u=Math.min(...n));else if(Pe(i))u=i;else if(typeof i=="function")try{n!=null&&(u=i(n?.[0]))}catch{}else if(typeof i=="string"&&Jw.test(i)){var p=Jw.exec(i);if(p==null||n==null)u=void 0;else{var f=+p[1];u=n[0]-f}}else u=n?.[0];if(o==="auto")n!=null&&(h=Math.max(...n));else if(Pe(o))h=o;else if(typeof o=="function")try{n!=null&&(h=o(n?.[1]))}catch{}else if(typeof o=="string"&&eA.test(o)){var d=eA.exec(o);if(d==null||n==null)h=void 0;else{var v=+d[1];h=n[1]+v}}else h=n?.[1];var y=[u,h];if(Zs(y))return n==null?y:wE(y,n,a)}}}var xo=1e9,lq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Qj,Ft=!0,Ka="[DecimalError] ",Fi=Ka+"Invalid argument: ",Zj=Ka+"Exponent out of range: ",go=Math.floor,Oi=Math.pow,oq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Sa,Cn=1e7,kt=7,Tk=9007199254740991,hm=go(Tk/kt),Te={};Te.absoluteValue=Te.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Te.comparedTo=Te.cmp=function(t){var n,a,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,n=0,a=r<i?r:i;n<a;++n)if(o.d[n]!==t.d[n])return o.d[n]>t.d[n]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Te.decimalPlaces=Te.dp=function(){var t=this,n=t.d.length-1,a=(n-t.e)*kt;if(n=t.d[n],n)for(;n%10==0;n/=10)a--;return a<0?0:a};Te.dividedBy=Te.div=function(t){return Zr(this,new this.constructor(t))};Te.dividedToIntegerBy=Te.idiv=function(t){var n=this,a=n.constructor;return Ct(Zr(n,new a(t),0,1),a.precision)};Te.equals=Te.eq=function(t){return!this.cmp(t)};Te.exponent=function(){return cn(this)};Te.greaterThan=Te.gt=function(t){return this.cmp(t)>0};Te.greaterThanOrEqualTo=Te.gte=function(t){return this.cmp(t)>=0};Te.isInteger=Te.isint=function(){return this.e>this.d.length-2};Te.isNegative=Te.isneg=function(){return this.s<0};Te.isPositive=Te.ispos=function(){return this.s>0};Te.isZero=function(){return this.s===0};Te.lessThan=Te.lt=function(t){return this.cmp(t)<0};Te.lessThanOrEqualTo=Te.lte=function(t){return this.cmp(t)<1};Te.logarithm=Te.log=function(t){var n,a=this,r=a.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Sa))throw Error(Ka+"NaN");if(a.s<1)throw Error(Ka+(a.s?"NaN":"-Infinity"));return a.eq(Sa)?new r(0):(Ft=!1,n=Zr(nu(a,o),nu(t,o),o),Ft=!0,Ct(n,i))};Te.minus=Te.sub=function(t){var n=this;return t=new n.constructor(t),n.s==t.s?Rk(n,t):Mk(n,(t.s=-t.s,t))};Te.modulo=Te.mod=function(t){var n,a=this,r=a.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ka+"NaN");return a.s?(Ft=!1,n=Zr(a,t,0,1).times(t),Ft=!0,a.minus(n)):Ct(new r(a),i)};Te.naturalExponential=Te.exp=function(){return Ik(this)};Te.naturalLogarithm=Te.ln=function(){return nu(this)};Te.negated=Te.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Te.plus=Te.add=function(t){var n=this;return t=new n.constructor(t),n.s==t.s?Mk(n,t):Rk(n,(t.s=-t.s,t))};Te.precision=Te.sd=function(t){var n,a,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Fi+t);if(n=cn(i)+1,r=i.d.length-1,a=r*kt+1,r=i.d[r],r){for(;r%10==0;r/=10)a--;for(r=i.d[0];r>=10;r/=10)a++}return t&&n>a?n:a};Te.squareRoot=Te.sqrt=function(){var t,n,a,r,i,o,u,h=this,p=h.constructor;if(h.s<1){if(!h.s)return new p(0);throw Error(Ka+"NaN")}for(t=cn(h),Ft=!1,i=Math.sqrt(+h),i==0||i==1/0?(n=gr(h.d),(n.length+t)%2==0&&(n+="0"),i=Math.sqrt(n),t=go((t+1)/2)-(t<0||t%2),i==1/0?n="5e"+t:(n=i.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new p(n)):r=new p(i.toString()),a=p.precision,i=u=a+3;;)if(o=r,r=o.plus(Zr(h,o,u+2)).times(.5),gr(o.d).slice(0,u)===(n=gr(r.d)).slice(0,u)){if(n=n.slice(u-3,u+1),i==u&&n=="4999"){if(Ct(o,a+1,0),o.times(o).eq(h)){r=o;break}}else if(n!="9999")break;u+=4}return Ft=!0,Ct(r,a)};Te.times=Te.mul=function(t){var n,a,r,i,o,u,h,p,f,d=this,v=d.constructor,y=d.d,C=(t=new v(t)).d;if(!d.s||!t.s)return new v(0);for(t.s*=d.s,a=d.e+t.e,p=y.length,f=C.length,p<f&&(o=y,y=C,C=o,u=p,p=f,f=u),o=[],u=p+f,r=u;r--;)o.push(0);for(r=f;--r>=0;){for(n=0,i=p+r;i>r;)h=o[i]+C[r]*y[i-r-1]+n,o[i--]=h%Cn|0,n=h/Cn|0;o[i]=(o[i]+n)%Cn|0}for(;!o[--u];)o.pop();return n?++a:o.shift(),t.d=o,t.e=a,Ft?Ct(t,v.precision):t};Te.toDecimalPlaces=Te.todp=function(t,n){var a=this,r=a.constructor;return a=new r(a),t===void 0?a:(Nr(t,0,xo),n===void 0?n=r.rounding:Nr(n,0,8),Ct(a,t+cn(a)+1,n))};Te.toExponential=function(t,n){var a,r=this,i=r.constructor;return t===void 0?a=Yi(r,!0):(Nr(t,0,xo),n===void 0?n=i.rounding:Nr(n,0,8),r=Ct(new i(r),t+1,n),a=Yi(r,!0,t+1)),a};Te.toFixed=function(t,n){var a,r,i=this,o=i.constructor;return t===void 0?Yi(i):(Nr(t,0,xo),n===void 0?n=o.rounding:Nr(n,0,8),r=Ct(new o(i),t+cn(i)+1,n),a=Yi(r.abs(),!1,t+cn(r)+1),i.isneg()&&!i.isZero()?"-"+a:a)};Te.toInteger=Te.toint=function(){var t=this,n=t.constructor;return Ct(new n(t),cn(t)+1,n.rounding)};Te.toNumber=function(){return+this};Te.toPower=Te.pow=function(t){var n,a,r,i,o,u,h=this,p=h.constructor,f=12,d=+(t=new p(t));if(!t.s)return new p(Sa);if(h=new p(h),!h.s){if(t.s<1)throw Error(Ka+"Infinity");return h}if(h.eq(Sa))return h;if(r=p.precision,t.eq(Sa))return Ct(h,r);if(n=t.e,a=t.d.length-1,u=n>=a,o=h.s,u){if((a=d<0?-d:d)<=Tk){for(i=new p(Sa),n=Math.ceil(r/kt+4),Ft=!1;a%2&&(i=i.times(h),EE(i.d,n)),a=go(a/2),a!==0;)h=h.times(h),EE(h.d,n);return Ft=!0,t.s<0?new p(Sa).div(i):Ct(i,r)}}else if(o<0)throw Error(Ka+"NaN");return o=o<0&&t.d[Math.max(n,a)]&1?-1:1,h.s=1,Ft=!1,i=t.times(nu(h,r+f)),Ft=!0,i=Ik(i),i.s=o,i};Te.toPrecision=function(t,n){var a,r,i=this,o=i.constructor;return t===void 0?(a=cn(i),r=Yi(i,a<=o.toExpNeg||a>=o.toExpPos)):(Nr(t,1,xo),n===void 0?n=o.rounding:Nr(n,0,8),i=Ct(new o(i),t,n),a=cn(i),r=Yi(i,t<=a||a<=o.toExpNeg,t)),r};Te.toSignificantDigits=Te.tosd=function(t,n){var a=this,r=a.constructor;return t===void 0?(t=r.precision,n=r.rounding):(Nr(t,1,xo),n===void 0?n=r.rounding:Nr(n,0,8)),Ct(new r(a),t,n)};Te.toString=Te.valueOf=Te.val=Te.toJSON=Te[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,n=cn(t),a=t.constructor;return Yi(t,n<=a.toExpNeg||n>=a.toExpPos)};function Mk(t,n){var a,r,i,o,u,h,p,f,d=t.constructor,v=d.precision;if(!t.s||!n.s)return n.s||(n=new d(t)),Ft?Ct(n,v):n;if(p=t.d,f=n.d,u=t.e,i=n.e,p=p.slice(),o=u-i,o){for(o<0?(r=p,o=-o,h=f.length):(r=f,i=u,h=p.length),u=Math.ceil(v/kt),h=u>h?u+1:h+1,o>h&&(o=h,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(h=p.length,o=f.length,h-o<0&&(o=h,r=f,f=p,p=r),a=0;o;)a=(p[--o]=p[o]+f[o]+a)/Cn|0,p[o]%=Cn;for(a&&(p.unshift(a),++i),h=p.length;p[--h]==0;)p.pop();return n.d=p,n.e=i,Ft?Ct(n,v):n}function Nr(t,n,a){if(t!==~~t||t<n||t>a)throw Error(Fi+t)}function gr(t){var n,a,r,i=t.length-1,o="",u=t[0];if(i>0){for(o+=u,n=1;n<i;n++)r=t[n]+"",a=kt-r.length,a&&(o+=Vs(a)),o+=r;u=t[n],r=u+"",a=kt-r.length,a&&(o+=Vs(a))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Zr=(function(){function t(r,i){var o,u=0,h=r.length;for(r=r.slice();h--;)o=r[h]*i+u,r[h]=o%Cn|0,u=o/Cn|0;return u&&r.unshift(u),r}function n(r,i,o,u){var h,p;if(o!=u)p=o>u?1:-1;else for(h=p=0;h<o;h++)if(r[h]!=i[h]){p=r[h]>i[h]?1:-1;break}return p}function a(r,i,o){for(var u=0;o--;)r[o]-=u,u=r[o]<i[o]?1:0,r[o]=u*Cn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,u){var h,p,f,d,v,y,C,N,j,w,O,S,E,T,k,F,P,W,R=r.constructor,U=r.s==i.s?1:-1,J=r.d,se=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Ka+"Division by zero");for(p=r.e-i.e,P=se.length,k=J.length,C=new R(U),N=C.d=[],f=0;se[f]==(J[f]||0);)++f;if(se[f]>(J[f]||0)&&--p,o==null?S=o=R.precision:u?S=o+(cn(r)-cn(i))+1:S=o,S<0)return new R(0);if(S=S/kt+2|0,f=0,P==1)for(d=0,se=se[0],S++;(f<k||d)&&S--;f++)E=d*Cn+(J[f]||0),N[f]=E/se|0,d=E%se|0;else{for(d=Cn/(se[0]+1)|0,d>1&&(se=t(se,d),J=t(J,d),P=se.length,k=J.length),T=P,j=J.slice(0,P),w=j.length;w<P;)j[w++]=0;W=se.slice(),W.unshift(0),F=se[0],se[1]>=Cn/2&&++F;do d=0,h=n(se,j,P,w),h<0?(O=j[0],P!=w&&(O=O*Cn+(j[1]||0)),d=O/F|0,d>1?(d>=Cn&&(d=Cn-1),v=t(se,d),y=v.length,w=j.length,h=n(v,j,y,w),h==1&&(d--,a(v,P<y?W:se,y))):(d==0&&(h=d=1),v=se.slice()),y=v.length,y<w&&v.unshift(0),a(j,v,w),h==-1&&(w=j.length,h=n(se,j,P,w),h<1&&(d++,a(j,P<w?W:se,w))),w=j.length):h===0&&(d++,j=[0]),N[f++]=d,h&&j[0]?j[w++]=J[T]||0:(j=[J[T]],w=1);while((T++<k||j[0]!==void 0)&&S--)}return N[0]||N.shift(),C.e=p,Ct(C,u?o+cn(C)+1:o)}})();function Ik(t,n){var a,r,i,o,u,h,p=0,f=0,d=t.constructor,v=d.precision;if(cn(t)>16)throw Error(Zj+cn(t));if(!t.s)return new d(Sa);for(Ft=!1,h=v,u=new d(.03125);t.abs().gte(.1);)t=t.times(u),f+=5;for(r=Math.log(Oi(2,f))/Math.LN10*2+5|0,h+=r,a=i=o=new d(Sa),d.precision=h;;){if(i=Ct(i.times(t),h),a=a.times(++p),u=o.plus(Zr(i,a,h)),gr(u.d).slice(0,h)===gr(o.d).slice(0,h)){for(;f--;)o=Ct(o.times(o),h);return d.precision=v,n==null?(Ft=!0,Ct(o,v)):o}o=u}}function cn(t){for(var n=t.e*kt,a=t.d[0];a>=10;a/=10)n++;return n}function gg(t,n,a){if(n>t.LN10.sd())throw Ft=!0,a&&(t.precision=a),Error(Ka+"LN10 precision limit exceeded");return Ct(new t(t.LN10),n)}function Vs(t){for(var n="";t--;)n+="0";return n}function nu(t,n){var a,r,i,o,u,h,p,f,d,v=1,y=10,C=t,N=C.d,j=C.constructor,w=j.precision;if(C.s<1)throw Error(Ka+(C.s?"NaN":"-Infinity"));if(C.eq(Sa))return new j(0);if(n==null?(Ft=!1,f=w):f=n,C.eq(10))return n==null&&(Ft=!0),gg(j,f);if(f+=y,j.precision=f,a=gr(N),r=a.charAt(0),o=cn(C),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)C=C.times(t),a=gr(C.d),r=a.charAt(0),v++;o=cn(C),r>1?(C=new j("0."+a),o++):C=new j(r+"."+a.slice(1))}else return p=gg(j,f+2,w).times(o+""),C=nu(new j(r+"."+a.slice(1)),f-y).plus(p),j.precision=w,n==null?(Ft=!0,Ct(C,w)):C;for(h=u=C=Zr(C.minus(Sa),C.plus(Sa),f),d=Ct(C.times(C),f),i=3;;){if(u=Ct(u.times(d),f),p=h.plus(Zr(u,new j(i),f)),gr(p.d).slice(0,f)===gr(h.d).slice(0,f))return h=h.times(2),o!==0&&(h=h.plus(gg(j,f+2,w).times(o+""))),h=Zr(h,new j(v),f),j.precision=w,n==null?(Ft=!0,Ct(h,w)):h;h=p,i+=2}}function AE(t,n){var a,r,i;for((a=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(a<0&&(a=r),a+=+n.slice(r+1),n=n.substring(0,r)):a<0&&(a=n.length),r=0;n.charCodeAt(r)===48;)++r;for(i=n.length;n.charCodeAt(i-1)===48;)--i;if(n=n.slice(r,i),n){if(i-=r,a=a-r-1,t.e=go(a/kt),t.d=[],r=(a+1)%kt,a<0&&(r+=kt),r<i){for(r&&t.d.push(+n.slice(0,r)),i-=kt;r<i;)t.d.push(+n.slice(r,r+=kt));n=n.slice(r),r=kt-n.length}else r-=i;for(;r--;)n+="0";if(t.d.push(+n),Ft&&(t.e>hm||t.e<-hm))throw Error(Zj+a)}else t.s=0,t.e=0,t.d=[0];return t}function Ct(t,n,a){var r,i,o,u,h,p,f,d,v=t.d;for(u=1,o=v[0];o>=10;o/=10)u++;if(r=n-u,r<0)r+=kt,i=n,f=v[d=0];else{if(d=Math.ceil((r+1)/kt),o=v.length,d>=o)return t;for(f=o=v[d],u=1;o>=10;o/=10)u++;r%=kt,i=r-kt+u}if(a!==void 0&&(o=Oi(10,u-i-1),h=f/o%10|0,p=n<0||v[d+1]!==void 0||f%o,p=a<4?(h||p)&&(a==0||a==(t.s<0?3:2)):h>5||h==5&&(a==4||p||a==6&&(r>0?i>0?f/Oi(10,u-i):0:v[d-1])%10&1||a==(t.s<0?8:7))),n<1||!v[0])return p?(o=cn(t),v.length=1,n=n-o-1,v[0]=Oi(10,(kt-n%kt)%kt),t.e=go(-n/kt)||0):(v.length=1,v[0]=t.e=t.s=0),t;if(r==0?(v.length=d,o=1,d--):(v.length=d+1,o=Oi(10,kt-r),v[d]=i>0?(f/Oi(10,u-i)%Oi(10,i)|0)*o:0),p)for(;;)if(d==0){(v[0]+=o)==Cn&&(v[0]=1,++t.e);break}else{if(v[d]+=o,v[d]!=Cn)break;v[d--]=0,o=1}for(r=v.length;v[--r]===0;)v.pop();if(Ft&&(t.e>hm||t.e<-hm))throw Error(Zj+cn(t));return t}function Rk(t,n){var a,r,i,o,u,h,p,f,d,v,y=t.constructor,C=y.precision;if(!t.s||!n.s)return n.s?n.s=-n.s:n=new y(t),Ft?Ct(n,C):n;if(p=t.d,v=n.d,r=n.e,f=t.e,p=p.slice(),u=f-r,u){for(d=u<0,d?(a=p,u=-u,h=v.length):(a=v,r=f,h=p.length),i=Math.max(Math.ceil(C/kt),h)+2,u>i&&(u=i,a.length=1),a.reverse(),i=u;i--;)a.push(0);a.reverse()}else{for(i=p.length,h=v.length,d=i<h,d&&(h=i),i=0;i<h;i++)if(p[i]!=v[i]){d=p[i]<v[i];break}u=0}for(d&&(a=p,p=v,v=a,n.s=-n.s),h=p.length,i=v.length-h;i>0;--i)p[h++]=0;for(i=v.length;i>u;){if(p[--i]<v[i]){for(o=i;o&&p[--o]===0;)p[o]=Cn-1;--p[o],p[i]+=Cn}p[i]-=v[i]}for(;p[--h]===0;)p.pop();for(;p[0]===0;p.shift())--r;return p[0]?(n.d=p,n.e=r,Ft?Ct(n,C):n):new y(0)}function Yi(t,n,a){var r,i=cn(t),o=gr(t.d),u=o.length;return n?(a&&(r=a-u)>0?o=o.charAt(0)+"."+o.slice(1)+Vs(r):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Vs(-i-1)+o,a&&(r=a-u)>0&&(o+=Vs(r))):i>=u?(o+=Vs(i+1-u),a&&(r=a-i-1)>0&&(o=o+"."+Vs(r))):((r=i+1)<u&&(o=o.slice(0,r)+"."+o.slice(r)),a&&(r=a-u)>0&&(i+1===u&&(o+="."),o+=Vs(r))),t.s<0?"-"+o:o}function EE(t,n){if(t.length>n)return t.length=n,!0}function _k(t){var n,a,r;function i(o){var u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,o instanceof i){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Fi+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return AE(u,o.toString())}else if(typeof o!="string")throw Error(Fi+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,oq.test(o))AE(u,o);else throw Error(Fi+o)}if(i.prototype=Te,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=_k,i.config=i.set=cq,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<r.length;)t.hasOwnProperty(a=r[n++])||(t[a]=this[a]);return i.config(t),i}function cq(t){if(!t||typeof t!="object")throw Error(Ka+"Object expected");var n,a,r,i=["precision",1,xo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(n=0;n<i.length;n+=3)if((r=t[a=i[n]])!==void 0)if(go(r)===r&&r>=i[n+1]&&r<=i[n+2])this[a]=r;else throw Error(Fi+a+": "+r);if((r=t[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(Fi+a+": "+r);return this}var Qj=_k(lq);Sa=new Qj(1);const vt=Qj;var uq=t=>t,Bk={},Lk=t=>t===Bk,DE=t=>function n(){return arguments.length===0||arguments.length===1&&Lk(arguments.length<=0?void 0:arguments[0])?n:t(...arguments)},Fk=(t,n)=>t===1?n:DE(function(){for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];var o=r.filter(u=>u!==Bk).length;return o>=t?n(...r):Fk(t-o,DE(function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];var f=r.map(d=>Lk(d)?h.shift():d);return n(...f,...h)}))}),dq=t=>Fk(t.length,t),Ey=(t,n)=>{for(var a=[],r=t;r<n;++r)a[r-t]=r;return a},hq=dq((t,n)=>Array.isArray(n)?n.map(t):Object.keys(n).map(a=>n[a]).map(t)),mq=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];if(!a.length)return uq;var i=a.reverse(),o=i[0],u=i.slice(1);return function(){return u.reduce((h,p)=>p(h),o(...arguments))}},Dy=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function zk(t){var n;return t===0?n=1:n=Math.floor(new vt(t).abs().log(10).toNumber())+1,n}function Uk(t,n,a){for(var r=new vt(t),i=0,o=[];r.lt(n)&&i<1e5;)o.push(r.toNumber()),r=r.add(a),i++;return o}var $k=t=>{var[n,a]=t,[r,i]=[n,a];return n>a&&([r,i]=[a,n]),[r,i]},qk=(t,n,a)=>{if(t.lte(0))return new vt(0);var r=zk(t.toNumber()),i=new vt(10).pow(r),o=t.div(i),u=r!==1?.05:.1,h=new vt(Math.ceil(o.div(u).toNumber())).add(a).mul(u),p=h.mul(i);return n?new vt(p.toNumber()):new vt(Math.ceil(p.toNumber()))},fq=(t,n,a)=>{var r=new vt(1),i=new vt(t);if(!i.isint()&&a){var o=Math.abs(t);o<1?(r=new vt(10).pow(zk(t)-1),i=new vt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new vt(Math.floor(t)))}else t===0?i=new vt(Math.floor((n-1)/2)):a||(i=new vt(Math.floor(t)));var u=Math.floor((n-1)/2),h=mq(hq(p=>i.add(new vt(p-u).mul(r)).toNumber()),Ey);return h(0,n)},Hk=function(n,a,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-n)/(r-1)))return{step:new vt(0),tickMin:new vt(0),tickMax:new vt(0)};var u=qk(new vt(a).sub(n).div(r-1),i,o),h;n<=0&&a>=0?h=new vt(0):(h=new vt(n).add(a).div(2),h=h.sub(new vt(h).mod(u)));var p=Math.ceil(h.sub(n).div(u).toNumber()),f=Math.ceil(new vt(a).sub(h).div(u).toNumber()),d=p+f+1;return d>r?Hk(n,a,r,i,o+1):(d<r&&(f=a>0?f+(r-d):f,p=a>0?p:p+(r-d)),{step:u,tickMin:h.sub(new vt(p).mul(u)),tickMax:h.add(new vt(f).mul(u))})},pq=function(n){var[a,r]=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=Math.max(i,2),[h,p]=$k([a,r]);if(h===-1/0||p===1/0){var f=p===1/0?[h,...Ey(0,i-1).map(()=>1/0)]:[...Ey(0,i-1).map(()=>-1/0),p];return a>r?Dy(f):f}if(h===p)return fq(h,i,o);var{step:d,tickMin:v,tickMax:y}=Hk(h,p,u,o,0),C=Uk(v,y.add(new vt(.1).mul(d)),d);return a>r?Dy(C):C},vq=function(n,a){var[r,i]=n,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[u,h]=$k([r,i]);if(u===-1/0||h===1/0)return[r,i];if(u===h)return[u];var p=Math.max(a,2),f=qk(new vt(h).sub(u).div(p-1),o,0),d=[...Uk(new vt(u),new vt(h),f),h];return o===!1&&(d=d.map(v=>Math.round(v))),r>i?Dy(d):d},Vk=t=>t.rootProps.maxBarSize,xq=t=>t.rootProps.barGap,Yk=t=>t.rootProps.barCategoryGap,gq=t=>t.rootProps.barSize,Cu=t=>t.rootProps.stackOffset,Gk=t=>t.rootProps.reverseStackOrder,Jj=t=>t.options.chartName,eb=t=>t.rootProps.syncId,Kk=t=>t.rootProps.syncMethod,tb=t=>t.options.eventEmitter,yq=t=>t.rootProps.baseValue,on={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Hr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Na={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ff=(t,n)=>{if(!(!t||!n))return t!=null&&t.reversed?[n[1],n[0]]:n},jq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hr.angleAxisId,includeHidden:!1,name:void 0,reversed:Hr.reversed,scale:Hr.scale,tick:Hr.tick,tickCount:void 0,ticks:void 0,type:Hr.type,unit:void 0},bq={allowDataOverflow:Na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Na.scale,tick:Na.tick,tickCount:Na.tickCount,ticks:void 0,type:Na.type,unit:void 0},Nq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Hr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hr.scale,tick:Hr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Sq={allowDataOverflow:Na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Na.scale,tick:Na.tick,tickCount:Na.tickCount,ticks:void 0,type:"category",unit:void 0},nb=(t,n)=>t.polarAxis.angleAxis[n]!=null?t.polarAxis.angleAxis[n]:t.layout.layoutType==="radial"?Nq:jq,ab=(t,n)=>t.polarAxis.radiusAxis[n]!=null?t.polarAxis.radiusAxis[n]:t.layout.layoutType==="radial"?Sq:bq,pf=t=>t.polarOptions,rb=ve([ds,hs,vn],YP),Wk=ve([pf,rb],(t,n)=>{if(t!=null)return qn(t.innerRadius,n,0)}),Xk=ve([pf,rb],(t,n)=>{if(t!=null)return qn(t.outerRadius,n,n*.8)}),Cq=t=>{if(t==null)return[0,0];var{startAngle:n,endAngle:a}=t;return[n,a]},Zk=ve([pf],Cq);ve([nb,Zk],ff);var Qk=ve([rb,Wk,Xk],(t,n,a)=>{if(!(t==null||n==null||a==null))return[n,a]});ve([ab,Qk],ff);var Jk=ve([it,pf,Wk,Xk,ds,hs],(t,n,a,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||n==null||a==null||r==null)){var{cx:u,cy:h,startAngle:p,endAngle:f}=n;return{cx:qn(u,i,i/2),cy:qn(h,o,o/2),innerRadius:a,outerRadius:r,startAngle:p,endAngle:f,clockWise:!1}}}),zt=(t,n)=>n,wu=(t,n,a)=>a;function vf(t){return t?.id}function eT(t,n,a){var{chartData:r=[]}=n,{allowDuplicatedCategory:i,dataKey:o}=a,u=new Map;return t.forEach(h=>{var p,f=(p=h.data)!==null&&p!==void 0?p:r;if(!(f==null||f.length===0)){var d=vf(h);f.forEach((v,y)=>{var C=o==null||i?y:String(St(v,o,null)),N=St(v,h.dataKey,0),j;u.has(C)?j=u.get(C):j={},Object.assign(j,{[d]:N}),u.set(C,j)})}}),Array.from(u.values())}function xf(t){return t.stackId!=null&&t.dataKey!=null}var gf=(t,n)=>t===n?!0:t==null||n==null?!1:t[0]===n[0]&&t[1]===n[1];function yf(t,n){return Array.isArray(t)&&Array.isArray(n)&&t.length===0&&n.length===0?!0:t===n}function wq(t,n){if(t.length===n.length){for(var a=0;a<t.length;a++)if(t[a]!==n[a])return!1;return!0}return!1}var gn=t=>{var n=it(t);return n==="horizontal"?"xAxis":n==="vertical"?"yAxis":n==="centric"?"angleAxis":"radiusAxis"},yo=t=>t.tooltip.settings.axisId;function OE(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function mm(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?OE(Object(a),!0).forEach(function(r){Aq(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):OE(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function Aq(t,n,a){return(n=Eq(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function Eq(t){var n=Dq(t,"string");return typeof n=="symbol"?n:n+""}function Dq(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var Oy=[0,"auto"],Nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tT=(t,n)=>t.cartesianAxis.xAxis[n],fs=(t,n)=>{var a=tT(t,n);return a??Nn},Sn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Oy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:vu},nT=(t,n)=>t.cartesianAxis.yAxis[n],ps=(t,n)=>{var a=nT(t,n);return a??Sn},Oq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},sb=(t,n)=>{var a=t.cartesianAxis.zAxis[n];return a??Oq},$t=(t,n,a)=>{switch(n){case"xAxis":return fs(t,a);case"yAxis":return ps(t,a);case"zAxis":return sb(t,a);case"angleAxis":return nb(t,a);case"radiusAxis":return ab(t,a);default:throw new Error("Unexpected axis type: ".concat(n))}},Pq=(t,n,a)=>{switch(n){case"xAxis":return fs(t,a);case"yAxis":return ps(t,a);default:throw new Error("Unexpected axis type: ".concat(n))}},Au=(t,n,a)=>{switch(n){case"xAxis":return fs(t,a);case"yAxis":return ps(t,a);case"angleAxis":return nb(t,a);case"radiusAxis":return ab(t,a);default:throw new Error("Unexpected axis type: ".concat(n))}},aT=t=>t.graphicalItems.cartesianItems.some(n=>n.type==="bar")||t.graphicalItems.polarItems.some(n=>n.type==="radialBar");function ib(t,n){return a=>{switch(t){case"xAxis":return"xAxisId"in a&&a.xAxisId===n;case"yAxis":return"yAxisId"in a&&a.yAxisId===n;case"zAxis":return"zAxisId"in a&&a.zAxisId===n;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===n;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===n;default:return!1}}}var jf=t=>t.graphicalItems.cartesianItems,kq=ve([zt,wu],ib),lb=(t,n,a)=>t.filter(a).filter(r=>n?.includeHidden===!0?!0:!r.hide),Eu=ve([jf,$t,kq],lb,{memoizeOptions:{resultEqualityCheck:yf}}),rT=ve([Eu],t=>t.filter(n=>n.type==="area"||n.type==="bar").filter(xf)),sT=t=>t.filter(n=>!("stackId"in n)||n.stackId===void 0),Tq=ve([Eu],sT),ob=t=>t.map(n=>n.data).filter(Boolean).flat(1),Mq=ve([Eu],ob,{memoizeOptions:{resultEqualityCheck:yf}}),cb=(t,n)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:i}=n;return t.length>0?t:a.slice(r,i+1)},ub=ve([Mq,mf],cb),db=(t,n,a)=>n?.dataKey!=null?t.map(r=>({value:St(r,n.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:St(i,r)}))):t.map(r=>({value:r})),bf=ve([ub,$t,Eu],db);function iT(t,n){switch(t){case"xAxis":return n.direction==="x";case"yAxis":return n.direction==="y";default:return!1}}function wh(t){if(jr(t)||t instanceof Date){var n=Number(t);if(Rt(n))return n}}function PE(t){if(Array.isArray(t)){var n=[wh(t[0]),wh(t[1])];return Zs(n)?n:void 0}var a=wh(t);if(a!=null)return[a,a]}function is(t){return t.map(wh).filter(E4)}function Iq(t,n,a){return!a||typeof n!="number"||Ya(n)?[]:a.length?is(a.flatMap(r=>{var i=St(t,r.dataKey),o,u;if(Array.isArray(i)?[o,u]=i:o=u=i,!(!Rt(o)||!Rt(u)))return[n-o,n+u]})):[]}var yn=t=>{var n=gn(t),a=yo(t);return Au(t,n,a)},Du=ve([yn],t=>t?.dataKey),Rq=ve([rT,mf,yn],eT),lT=(t,n,a,r)=>{var i={},o=n.reduce((u,h)=>(h.stackId==null||(u[h.stackId]==null&&(u[h.stackId]=[]),u[h.stackId].push(h)),u),i);return Object.fromEntries(Object.entries(o).map(u=>{var[h,p]=u,f=r?[...p].reverse():p,d=f.map(vf);return[h,{stackedData:e6(t,d,a),graphicalItems:f}]}))},au=ve([Rq,rT,Cu,Gk],lT),oT=(t,n,a,r)=>{var{dataStartIndex:i,dataEndIndex:o}=n;if(r==null&&a!=="zAxis"){var u=r6(t,i,o);if(!(u!=null&&u[0]===0&&u[1]===0))return u}},_q=ve([$t],t=>t.allowDataOverflow),hb=t=>{var n;if(t==null||!("domain"in t))return Oy;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var a=is(t.ticks);return[Math.min(...a),Math.max(...a)]}if(t.type==="category")return t.ticks.map(String)}return(n=t?.domain)!==null&&n!==void 0?n:Oy},mb=ve([$t],hb),fb=ve([mb,_q],kk),Bq=ve([au,ii,zt,fb],oT,{memoizeOptions:{resultEqualityCheck:gf}}),Nf=t=>t.errorBars,Lq=(t,n,a)=>t.flatMap(r=>n[r.id]).filter(Boolean).filter(r=>iT(a,r)),fm=function(){for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];var i=a.filter(Boolean);if(i.length!==0){var o=i.flat(),u=Math.min(...o),h=Math.max(...o);return[u,h]}},pb=(t,n,a,r,i)=>{var o,u;if(a.length>0&&t.forEach(h=>{a.forEach(p=>{var f,d,v=(f=r[p.id])===null||f===void 0?void 0:f.filter(O=>iT(i,O)),y=St(h,(d=n.dataKey)!==null&&d!==void 0?d:p.dataKey),C=Iq(h,y,v);if(C.length>=2){var N=Math.min(...C),j=Math.max(...C);(o==null||N<o)&&(o=N),(u==null||j>u)&&(u=j)}var w=PE(y);w!=null&&(o=o==null?w[0]:Math.min(o,w[0]),u=u==null?w[1]:Math.max(u,w[1]))})}),n?.dataKey!=null&&t.forEach(h=>{var p=PE(St(h,n.dataKey));p!=null&&(o=o==null?p[0]:Math.min(o,p[0]),u=u==null?p[1]:Math.max(u,p[1]))}),Rt(o)&&Rt(u))return[o,u]},Fq=ve([ub,$t,Tq,Nf,zt],pb,{memoizeOptions:{resultEqualityCheck:gf}});function zq(t){var{value:n}=t;if(jr(n)||n instanceof Date)return n}var Uq=(t,n,a)=>{var r=t.map(zq).filter(i=>i!=null);return a&&(n.dataKey==null||n.allowDuplicatedCategory&&CO(r))?XP(0,t.length):n.allowDuplicatedCategory?r:Array.from(new Set(r))},cT=t=>t.referenceElements.dots,jo=(t,n,a)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>n==="xAxis"?r.xAxisId===a:r.yAxisId===a),$q=ve([cT,zt,wu],jo),uT=t=>t.referenceElements.areas,qq=ve([uT,zt,wu],jo),dT=t=>t.referenceElements.lines,Hq=ve([dT,zt,wu],jo),hT=(t,n)=>{var a=is(t.map(r=>n==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Vq=ve($q,zt,hT),mT=(t,n)=>{var a=is(t.flatMap(r=>[n==="xAxis"?r.x1:r.y1,n==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Yq=ve([qq,zt],mT);function Gq(t){var n;if(t.x!=null)return is([t.x]);var a=(n=t.segment)===null||n===void 0?void 0:n.map(r=>r.x);return a==null||a.length===0?[]:is(a)}function Kq(t){var n;if(t.y!=null)return is([t.y]);var a=(n=t.segment)===null||n===void 0?void 0:n.map(r=>r.y);return a==null||a.length===0?[]:is(a)}var fT=(t,n)=>{var a=t.flatMap(r=>n==="xAxis"?Gq(r):Kq(r));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Wq=ve([Hq,zt],fT),Xq=ve(Vq,Wq,Yq,(t,n,a)=>fm(t,a,n)),vb=(t,n,a,r,i,o,u,h)=>{if(a!=null)return a;var p=u==="vertical"&&h==="xAxis"||u==="horizontal"&&h==="yAxis",f=p?fm(r,o,i):fm(o,i);return iq(n,f,t.allowDataOverflow)},Zq=ve([$t,mb,fb,Bq,Fq,Xq,it,zt],vb,{memoizeOptions:{resultEqualityCheck:gf}}),Qq=[0,1],xb=(t,n,a,r,i,o,u)=>{if(!((t==null||a==null||a.length===0)&&u===void 0)){var{dataKey:h,type:p}=t,f=us(n,o);if(f&&h==null){var d;return XP(0,(d=a?.length)!==null&&d!==void 0?d:0)}return p==="category"?Uq(r,t,f):i==="expand"?Qq:u}},gb=ve([$t,it,ub,bf,Cu,zt,Zq],xb),pT=(t,n,a,r,i)=>{if(t!=null){var{scale:o,type:u}=t;if(o==="auto")return n==="radial"&&i==="radiusAxis"?"band":n==="radial"&&i==="angleAxis"?"linear":u==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var h="scale".concat(uu(o));return h in Bc?h:"point"}}},bo=ve([$t,it,aT,Jj,zt],pT);function Jq(t){if(t!=null){if(t in Bc)return Bc[t]();var n="scale".concat(uu(t));if(n in Bc)return Bc[n]()}}function yb(t,n,a,r){if(!(a==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(a).range(r);var i=Jq(n);if(i!=null){var o=i.domain(a).range(r);return W5(o),o}}}var jb=(t,n,a)=>{var r=hb(n);if(!(a!=="auto"&&a!=="linear")){if(n!=null&&n.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Zs(t))return pq(t,n.tickCount,n.allowDecimals);if(n!=null&&n.tickCount&&n.type==="number"&&Zs(t))return vq(t,n.tickCount,n.allowDecimals)}},bb=ve([gb,Au,bo],jb),Nb=(t,n,a,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Zs(n)&&Array.isArray(a)&&a.length>0){var i=n[0],o=a[0],u=n[1],h=a[a.length-1];return[Math.min(i,o),Math.max(u,h)]}return n},e9=ve([$t,gb,bb,zt],Nb),t9=ve(bf,$t,(t,n)=>{if(!(!n||n.type!=="number")){var a=1/0,r=Array.from(is(t.map(h=>h.value))).sort((h,p)=>h-p);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o+1]-r[o];a=Math.min(a,u)}return a/i}}),vT=ve(t9,it,Yk,vn,(t,n,a,r)=>r,(t,n,a,r,i)=>{if(!Rt(t))return 0;var o=n==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var u=qn(a,t*o),h=t*o/2;return h-u-(h-u)/o*u}return 0}),n9=(t,n)=>{var a=fs(t,n);return a==null||typeof a.padding!="string"?0:vT(t,"xAxis",n,a.padding)},a9=(t,n)=>{var a=ps(t,n);return a==null||typeof a.padding!="string"?0:vT(t,"yAxis",n,a.padding)},r9=ve(fs,n9,(t,n)=>{var a,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:n,right:n}:{left:((a=i.left)!==null&&a!==void 0?a:0)+n,right:((r=i.right)!==null&&r!==void 0?r:0)+n}}),s9=ve(ps,a9,(t,n)=>{var a,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:n,bottom:n}:{top:((a=i.top)!==null&&a!==void 0?a:0)+n,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+n}}),i9=ve([vn,r9,ef,Jm,(t,n,a)=>a],(t,n,a,r,i)=>{var{padding:o}=r;return i?[o.left,a.width-o.right]:[t.left+n.left,t.left+t.width-n.right]}),l9=ve([vn,it,s9,ef,Jm,(t,n,a)=>a],(t,n,a,r,i,o)=>{var{padding:u}=i;return o?[r.height-u.bottom,u.top]:n==="horizontal"?[t.top+t.height-a.bottom,t.top+a.top]:[t.top+a.top,t.top+t.height-a.bottom]}),Ou=(t,n,a,r)=>{var i;switch(n){case"xAxis":return i9(t,a,r);case"yAxis":return l9(t,a,r);case"zAxis":return(i=sb(t,a))===null||i===void 0?void 0:i.range;case"angleAxis":return Zk(t);case"radiusAxis":return Qk(t,a);default:return}},xT=ve([$t,Ou],ff),No=ve([$t,bo,e9,xT],yb);ve([Eu,Nf,zt],Lq);function gT(t,n){return t.id<n.id?-1:t.id>n.id?1:0}var Sf=(t,n)=>n,Cf=(t,n,a)=>a,o9=ve(Zm,Sf,Cf,(t,n,a)=>t.filter(r=>r.orientation===n).filter(r=>r.mirror===a).sort(gT)),c9=ve(Qm,Sf,Cf,(t,n,a)=>t.filter(r=>r.orientation===n).filter(r=>r.mirror===a).sort(gT)),yT=(t,n)=>({width:t.width,height:n.height}),u9=(t,n)=>{var a=typeof n.width=="number"?n.width:vu;return{width:a,height:t.height}},jT=ve(vn,fs,yT),d9=(t,n,a)=>{switch(n){case"top":return t.top;case"bottom":return a-t.bottom;default:return 0}},h9=(t,n,a)=>{switch(n){case"left":return t.left;case"right":return a-t.right;default:return 0}},m9=ve(hs,vn,o9,Sf,Cf,(t,n,a,r,i)=>{var o={},u;return a.forEach(h=>{var p=yT(n,h);u==null&&(u=d9(n,r,t));var f=r==="top"&&!i||r==="bottom"&&i;o[h.id]=u-Number(f)*p.height,u+=(f?-1:1)*p.height}),o}),f9=ve(ds,vn,c9,Sf,Cf,(t,n,a,r,i)=>{var o={},u;return a.forEach(h=>{var p=u9(n,h);u==null&&(u=h9(n,r,t));var f=r==="left"&&!i||r==="right"&&i;o[h.id]=u-Number(f)*p.width,u+=(f?-1:1)*p.width}),o}),p9=(t,n)=>{var a=fs(t,n);if(a!=null)return m9(t,a.orientation,a.mirror)},v9=ve([vn,fs,p9,(t,n)=>n],(t,n,a,r)=>{if(n!=null){var i=a?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),x9=(t,n)=>{var a=ps(t,n);if(a!=null)return f9(t,a.orientation,a.mirror)},g9=ve([vn,ps,x9,(t,n)=>n],(t,n,a,r)=>{if(n!=null){var i=a?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),bT=ve(vn,ps,(t,n)=>{var a=typeof n.width=="number"?n.width:vu;return{width:a,height:t.height}}),kE=(t,n,a)=>{switch(n){case"xAxis":return jT(t,a).width;case"yAxis":return bT(t,a).height;default:return}},NT=(t,n,a,r)=>{if(a!=null){var{allowDuplicatedCategory:i,type:o,dataKey:u}=a,h=us(t,r),p=n.map(f=>f.value);if(u&&h&&o==="category"&&i&&CO(p))return p}},Sb=ve([it,bf,$t,zt],NT),ST=(t,n,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:i,scale:o}=a,u=us(t,r);if(u&&(i==="number"||o!=="auto"))return n.map(h=>h.value)}},Cb=ve([it,bf,Au,zt],ST),TE=ve([it,Pq,bo,No,Sb,Cb,Ou,bb,zt],(t,n,a,r,i,o,u,h,p)=>{if(n!=null){var f=us(t,p);return{angle:n.angle,interval:n.interval,minTickGap:n.minTickGap,orientation:n.orientation,tick:n.tick,tickCount:n.tickCount,tickFormatter:n.tickFormatter,ticks:n.ticks,type:n.type,unit:n.unit,axisType:p,categoricalDomain:o,duplicateDomain:i,isCategorical:f,niceTicks:h,range:u,realScaleType:a,scale:r}}}),y9=(t,n,a,r,i,o,u,h,p)=>{if(!(n==null||r==null)){var f=us(t,p),{type:d,ticks:v,tickCount:y}=n,C=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,N=d==="category"&&r.bandwidth?r.bandwidth()/C:0;N=p==="angleAxis"&&o!=null&&o.length>=2?wn(o[0]-o[1])*2*N:N;var j=v||i;if(j){var w=j.map((O,S)=>{var E=u?u.indexOf(O):O;return{index:S,coordinate:r(E)+N,value:O,offset:N}});return w.filter(O=>Rt(O.coordinate))}return f&&h?h.map((O,S)=>({coordinate:r(O)+N,value:O,index:S,offset:N})).filter(O=>Rt(O.coordinate)):r.ticks?r.ticks(y).map(O=>({coordinate:r(O)+N,value:O,offset:N})):r.domain().map((O,S)=>({coordinate:r(O)+N,value:u?u[O]:O,index:S,offset:N}))}},CT=ve([it,Au,bo,No,bb,Ou,Sb,Cb,zt],y9),j9=(t,n,a,r,i,o,u)=>{if(!(n==null||a==null||r==null||r[0]===r[1])){var h=us(t,u),{tickCount:p}=n,f=0;return f=u==="angleAxis"&&r?.length>=2?wn(r[0]-r[1])*2*f:f,h&&o?o.map((d,v)=>({coordinate:a(d)+f,value:d,index:v,offset:f})):a.ticks?a.ticks(p).map(d=>({coordinate:a(d)+f,value:d,offset:f})):a.domain().map((d,v)=>({coordinate:a(d)+f,value:i?i[d]:d,index:v,offset:f}))}},Qs=ve([it,Au,No,Ou,Sb,Cb,zt],j9),Js=ve($t,No,(t,n)=>{if(!(t==null||n==null))return mm(mm({},t),{},{scale:n})}),b9=ve([$t,bo,gb,xT],yb);ve((t,n,a)=>sb(t,a),b9,(t,n)=>{if(!(t==null||n==null))return mm(mm({},t),{},{scale:n})});var N9=ve([it,Zm,Qm],(t,n,a)=>{switch(t){case"horizontal":return n.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),wT=t=>t.options.defaultTooltipEventType,AT=t=>t.options.validateTooltipEventTypes;function ET(t,n,a){if(t==null)return n;var r=t?"axis":"item";return a==null?n:a.includes(r)?r:n}function wb(t,n){var a=wT(t),r=AT(t);return ET(n,a,r)}function S9(t){return ke(n=>wb(n,t))}var DT=(t,n)=>{var a,r=Number(n);if(!(Ya(r)||n==null))return r>=0?t==null||(a=t[r])===null||a===void 0?void 0:a.value:void 0},C9=t=>t.tooltip.settings,Gs={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},w9={itemInteraction:{click:Gs,hover:Gs},axisInteraction:{click:Gs,hover:Gs},keyboardInteraction:Gs,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},OT=ha({name:"tooltip",initialState:w9,reducers:{addTooltipEntrySettings:{reducer(t,n){t.tooltipItemPayloads.push(n.payload)},prepare:Lt()},replaceTooltipEntrySettings:{reducer(t,n){var{prev:a,next:r}=n.payload,i=or(t).tooltipItemPayloads.indexOf(a);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Lt()},removeTooltipEntrySettings:{reducer(t,n){var a=or(t).tooltipItemPayloads.indexOf(n.payload);a>-1&&t.tooltipItemPayloads.splice(a,1)},prepare:Lt()},setTooltipSettingsState(t,n){t.settings=n.payload},setActiveMouseOverItemIndex(t,n){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=n.payload.activeIndex,t.itemInteraction.hover.dataKey=n.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=n.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=n.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,n){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=n.payload.activeIndex,t.itemInteraction.click.dataKey=n.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=n.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=n.payload.activeCoordinate},setMouseOverAxisIndex(t,n){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=n.payload.activeIndex,t.axisInteraction.hover.dataKey=n.payload.activeDataKey,t.axisInteraction.hover.coordinate=n.payload.activeCoordinate},setMouseClickAxisIndex(t,n){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=n.payload.activeIndex,t.axisInteraction.click.dataKey=n.payload.activeDataKey,t.axisInteraction.click.coordinate=n.payload.activeCoordinate},setSyncInteraction(t,n){t.syncInteraction=n.payload},setKeyboardInteraction(t,n){t.keyboardInteraction.active=n.payload.active,t.keyboardInteraction.index=n.payload.activeIndex,t.keyboardInteraction.coordinate=n.payload.activeCoordinate,t.keyboardInteraction.dataKey=n.payload.activeDataKey}}}),{addTooltipEntrySettings:A9,replaceTooltipEntrySettings:E9,removeTooltipEntrySettings:D9,setTooltipSettingsState:O9,setActiveMouseOverItemIndex:PT,mouseLeaveItem:P9,mouseLeaveChart:kT,setActiveClickItemIndex:k9,setMouseOverAxisIndex:TT,setMouseClickAxisIndex:T9,setSyncInteraction:Py,setKeyboardInteraction:ky}=OT.actions,M9=OT.reducer;function ME(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function dh(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ME(Object(a),!0).forEach(function(r){I9(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ME(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function I9(t,n,a){return(n=R9(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function R9(t){var n=_9(t,"string");return typeof n=="symbol"?n:n+""}function _9(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function B9(t,n,a){return n==="axis"?a==="click"?t.axisInteraction.click:t.axisInteraction.hover:a==="click"?t.itemInteraction.click:t.itemInteraction.hover}function L9(t){return t.index!=null}var MT=(t,n,a,r)=>{if(n==null)return Gs;var i=B9(t,n,a);if(i==null)return Gs;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(L9(i)){if(o)return dh(dh({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return dh(dh({},Gs),{},{coordinate:i.coordinate})};function F9(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var n=t.valueOf();return Number.isFinite(n)?n:void 0}var a=Number(t);return Number.isFinite(a)?a:void 0}function z9(t,n){var a=F9(t),r=n[0],i=n[1];if(a===void 0)return!1;var o=Math.min(r,i),u=Math.max(r,i);return a>=o&&a<=u}function U9(t,n,a){if(a==null||n==null)return!0;var r=St(t,n);return r==null||!Zs(a)?!0:z9(r,a)}var Ab=(t,n,a,r)=>{var i=t?.index;if(i==null)return null;var o=Number(i);if(!Rt(o))return i;var u=0,h=1/0;n.length>0&&(h=n.length-1);var p=Math.max(u,Math.min(o,h)),f=n[p];return f==null||U9(f,a,r)?String(p):null},IT=(t,n,a,r,i,o,u,h)=>{if(!(o==null||h==null)){var p=u[0],f=p==null?void 0:h(p.positions,o);if(f!=null)return f;var d=i?.[Number(o)];if(d)switch(a){case"horizontal":return{x:d.coordinate,y:(r.top+n)/2};default:return{x:(r.left+t)/2,y:d.coordinate}}}},RT=(t,n,a,r)=>{if(n==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return a==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===i})},Pu=t=>t.options.tooltipPayloadSearcher,So=t=>t.tooltip;function IE(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function RE(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?IE(Object(a),!0).forEach(function(r){$9(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):IE(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function $9(t,n,a){return(n=q9(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function q9(t){var n=H9(t,"string");return typeof n=="symbol"?n:n+""}function H9(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function V9(t,n){return t??n}var _T=(t,n,a,r,i,o,u)=>{if(!(n==null||o==null)){var{chartData:h,computedData:p,dataStartIndex:f,dataEndIndex:d}=a,v=[];return t.reduce((y,C)=>{var N,{dataDefinedOnItem:j,settings:w}=C,O=V9(j,h),S=Array.isArray(O)?gP(O,f,d):O,E=(N=w?.dataKey)!==null&&N!==void 0?N:r,T=w?.nameKey,k;if(r&&Array.isArray(S)&&!Array.isArray(S[0])&&u==="axis"?k=wO(S,r,i):k=o(S,n,p,T),Array.isArray(k))k.forEach(P=>{var W=RE(RE({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});y.push(tA({tooltipEntrySettings:W,dataKey:P.dataKey,payload:P.payload,value:St(P.payload,P.dataKey),name:P.name}))});else{var F;y.push(tA({tooltipEntrySettings:w,dataKey:E,payload:k,value:St(k,E),name:(F=St(k,T))!==null&&F!==void 0?F:w?.name}))}return y},v)}},Eb=ve([yn,it,aT,Jj,gn],pT),Y9=ve([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,n)=>[...t,...n]),G9=ve([gn,yo],ib),ku=ve([Y9,yn,G9],lb,{memoizeOptions:{resultEqualityCheck:yf}}),K9=ve([ku],t=>t.filter(xf)),W9=ve([ku],ob,{memoizeOptions:{resultEqualityCheck:yf}}),Co=ve([W9,ii],cb),X9=ve([K9,ii,yn],eT),Db=ve([Co,yn,ku],db),BT=ve([yn],hb),Z9=ve([yn],t=>t.allowDataOverflow),LT=ve([BT,Z9],kk),Q9=ve([ku],t=>t.filter(xf)),J9=ve([X9,Q9,Cu,Gk],lT),e7=ve([J9,ii,gn,LT],oT),t7=ve([ku],sT),n7=ve([Co,yn,t7,Nf,gn],pb,{memoizeOptions:{resultEqualityCheck:gf}}),a7=ve([cT,gn,yo],jo),r7=ve([a7,gn],hT),s7=ve([uT,gn,yo],jo),i7=ve([s7,gn],mT),l7=ve([dT,gn,yo],jo),o7=ve([l7,gn],fT),c7=ve([r7,o7,i7],fm),u7=ve([yn,BT,LT,e7,n7,c7,it,gn],vb),Tu=ve([yn,it,Co,Db,Cu,gn,u7],xb),d7=ve([Tu,yn,Eb],jb),h7=ve([yn,Tu,d7,gn],Nb),FT=t=>{var n=gn(t),a=yo(t),r=!1;return Ou(t,n,a,r)},zT=ve([yn,FT],ff),UT=ve([yn,Eb,h7,zT],yb),m7=ve([it,Db,yn,gn],NT),f7=ve([it,Db,yn,gn],ST),p7=(t,n,a,r,i,o,u,h)=>{if(n){var{type:p}=n,f=us(t,h);if(r){var d=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=p==="category"&&r.bandwidth?r.bandwidth()/d:0;return v=h==="angleAxis"&&i!=null&&i?.length>=2?wn(i[0]-i[1])*2*v:v,f&&u?u.map((y,C)=>({coordinate:r(y)+v,value:y,index:C,offset:v})):r.domain().map((y,C)=>({coordinate:r(y)+v,value:o?o[y]:y,index:C,offset:v}))}}},vs=ve([it,yn,Eb,UT,FT,m7,f7,gn],p7),Ob=ve([wT,AT,C9],(t,n,a)=>ET(a.shared,t,n)),$T=t=>t.tooltip.settings.trigger,Pb=t=>t.tooltip.settings.defaultIndex,Mu=ve([So,Ob,$T,Pb],MT),ei=ve([Mu,Co,Du,Tu],Ab),qT=ve([vs,ei],DT),kb=ve([Mu],t=>{if(t)return t.dataKey}),v7=ve([Mu],t=>{if(t)return t.graphicalItemId}),HT=ve([So,Ob,$T,Pb],RT),x7=ve([ds,hs,it,vn,vs,Pb,HT,Pu],IT),g7=ve([Mu,x7],(t,n)=>t!=null&&t.coordinate?t.coordinate:n),y7=ve([Mu],t=>t.active),j7=ve([HT,ei,ii,Du,qT,Pu,Ob],_T),b7=ve([j7],t=>{if(t!=null){var n=t.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(n))}});function _E(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function BE(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?_E(Object(a),!0).forEach(function(r){N7(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_E(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function N7(t,n,a){return(n=S7(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function S7(t){var n=C7(t,"string");return typeof n=="symbol"?n:n+""}function C7(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var w7=()=>ke(yn),A7=()=>{var t=w7(),n=ke(vs),a=ke(UT);return to(!t||!a?void 0:BE(BE({},t),{},{scale:a}),n)};function LE(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Ul(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?LE(Object(a),!0).forEach(function(r){E7(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):LE(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function E7(t,n,a){return(n=D7(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function D7(t){var n=O7(t,"string");return typeof n=="symbol"?n:n+""}function O7(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var P7=(t,n,a,r)=>{var i=n.find(o=>o&&o.index===a);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},k7=(t,n,a,r)=>{var i=n.find(f=>f&&f.index===a);if(i){if(t==="centric"){var o=i.coordinate,{radius:u}=r;return Ul(Ul(Ul({},r),ln(r.cx,r.cy,u,o)),{},{angle:o,radius:u})}var h=i.coordinate,{angle:p}=r;return Ul(Ul(Ul({},r),ln(r.cx,r.cy,h,p)),{},{angle:p,radius:h})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function T7(t,n){var{chartX:a,chartY:r}=t;return a>=n.left&&a<=n.left+n.width&&r>=n.top&&r<=n.top+n.height}var VT=(t,n,a,r,i)=>{var o,u=-1,h=(o=n?.length)!==null&&o!==void 0?o:0;if(h<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var p=0;p<h;p++){var f=p>0?a[p-1].coordinate:a[h-1].coordinate,d=a[p].coordinate,v=p>=h-1?a[0].coordinate:a[p+1].coordinate,y=void 0;if(wn(d-f)!==wn(v-d)){var C=[];if(wn(v-d)===wn(i[1]-i[0])){y=v;var N=d+i[1]-i[0];C[0]=Math.min(N,(N+f)/2),C[1]=Math.max(N,(N+f)/2)}else{y=f;var j=v+i[1]-i[0];C[0]=Math.min(d,(j+d)/2),C[1]=Math.max(d,(j+d)/2)}var w=[Math.min(d,(y+d)/2),Math.max(d,(y+d)/2)];if(t>w[0]&&t<=w[1]||t>=C[0]&&t<=C[1]){({index:u}=a[p]);break}}else{var O=Math.min(f,v),S=Math.max(f,v);if(t>(O+d)/2&&t<=(S+d)/2){({index:u}=a[p]);break}}}else if(n){for(var E=0;E<h;E++)if(E===0&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E>0&&E<h-1&&t>(n[E].coordinate+n[E-1].coordinate)/2&&t<=(n[E].coordinate+n[E+1].coordinate)/2||E===h-1&&t>(n[E].coordinate+n[E-1].coordinate)/2){({index:u}=n[E]);break}}return u},YT=()=>ke(Jj),Tb=(t,n)=>n,GT=(t,n,a)=>a,Mb=(t,n,a,r)=>r,M7=ve(vs,t=>$m(t,n=>n.coordinate)),Ib=ve([So,Tb,GT,Mb],MT),Rb=ve([Ib,Co,Du,Tu],Ab),I7=(t,n,a)=>{if(n!=null){var r=So(t);return n==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},KT=ve([So,Tb,GT,Mb],RT),pm=ve([ds,hs,it,vn,vs,Mb,KT,Pu],IT),R7=ve([Ib,pm],(t,n)=>{var a;return(a=t.coordinate)!==null&&a!==void 0?a:n}),WT=ve([vs,Rb],DT),_7=ve([KT,Rb,ii,Du,WT,Pu,Tb],_T),B7=ve([Ib,Rb],(t,n)=>({isActive:t.active&&n!=null,activeIndex:n})),L7=(t,n,a,r,i,o,u)=>{if(!(!t||!a||!r||!i)&&T7(t,u)){var h=s6(t,n),p=VT(h,o,i,a,r),f=P7(n,i,p,t);return{activeIndex:String(p),activeCoordinate:f}}},F7=(t,n,a,r,i,o,u)=>{if(!(!t||!r||!i||!o||!a)){var h=Nz(t,a);if(h){var p=i6(h,n),f=VT(p,u,o,r,i),d=k7(n,o,f,h);return{activeIndex:String(f),activeCoordinate:d}}}},z7=(t,n,a,r,i,o,u,h)=>{if(!(!t||!n||!r||!i||!o))return n==="horizontal"||n==="vertical"?L7(t,n,r,i,o,u,h):F7(t,n,a,r,i,o,u)},U7=ve(t=>t.zIndex.zIndexMap,(t,n)=>n,(t,n,a)=>a,(t,n,a)=>{if(n!=null){var r=t[n];if(r!=null)return a?r.panoramaElementId:r.elementId}}),$7=ve(t=>t.zIndex.zIndexMap,t=>{var n=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(on)),a=Array.from(new Set(n));return a.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:wq}});function FE(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function zE(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?FE(Object(a),!0).forEach(function(r){q7(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):FE(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function q7(t,n,a){return(n=H7(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function H7(t){var n=V7(t,"string");return typeof n=="symbol"?n:n+""}function V7(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var Y7={},G7={zIndexMap:Object.values(on).reduce((t,n)=>zE(zE({},t),{},{[n]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Y7)},K7=new Set(Object.values(on));function W7(t){return K7.has(t)}var XT=ha({name:"zIndex",initialState:G7,reducers:{registerZIndexPortal:{reducer:(t,n)=>{var{zIndex:a}=n.payload;t.zIndexMap[a]?t.zIndexMap[a].consumers+=1:t.zIndexMap[a]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Lt()},unregisterZIndexPortal:{reducer:(t,n)=>{var{zIndex:a}=n.payload;t.zIndexMap[a]&&(t.zIndexMap[a].consumers-=1,t.zIndexMap[a].consumers<=0&&!W7(a)&&delete t.zIndexMap[a])},prepare:Lt()},registerZIndexPortalId:{reducer:(t,n)=>{var{zIndex:a,elementId:r,isPanorama:i}=n.payload;t.zIndexMap[a]?i?t.zIndexMap[a].panoramaElementId=r:t.zIndexMap[a].elementId=r:t.zIndexMap[a]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Lt()},unregisterZIndexPortalId:{reducer:(t,n)=>{var{zIndex:a}=n.payload;t.zIndexMap[a]&&(n.payload.isPanorama?t.zIndexMap[a].panoramaElementId=void 0:t.zIndexMap[a].elementId=void 0)},prepare:Lt()}}}),{registerZIndexPortal:X7,unregisterZIndexPortal:Z7,registerZIndexPortalId:Q7,unregisterZIndexPortalId:J7}=XT.actions,eH=XT.reducer;function ma(t){var{zIndex:n,children:a}=t,r=L6(),i=r&&n!==void 0&&n!==0,o=Hn(),u=Et();x.useLayoutEffect(()=>i?(u(X7({zIndex:n})),()=>{u(Z7({zIndex:n}))}):du,[u,n,i]);var h=ke(f=>U7(f,n,o));if(!i)return a;if(!h)return null;var p=document.getElementById(h);return p?Em.createPortal(a,p):null}function Ty(){return Ty=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ty.apply(null,arguments)}function UE(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function hh(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?UE(Object(a),!0).forEach(function(r){tH(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):UE(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function tH(t,n,a){return(n=nH(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function nH(t){var n=aH(t,"string");return typeof n=="symbol"?n:n+""}function aH(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function rH(t){var{cursor:n,cursorComp:a,cursorProps:r}=t;return x.isValidElement(n)?x.cloneElement(n,r):x.createElement(a,r)}function sH(t){var n,{coordinate:a,payload:r,index:i,offset:o,tooltipAxisBandSize:u,layout:h,cursor:p,tooltipEventType:f,chartName:d}=t,v=a,y=r,C=i;if(!p||!v||d!=="ScatterChart"&&f!=="axis")return null;var N,j,w;if(d==="ScatterChart")N=v,j=B8,w=on.cursorLine;else if(d==="BarChart")N=L8(h,v,o,u),j=VP,w=on.cursorRectangle;else if(h==="radial"&&EO(v)){var{cx:O,cy:S,radius:E,startAngle:T,endAngle:k}=GP(v);N={cx:O,cy:S,startAngle:T,endAngle:k,innerRadius:E,outerRadius:E},j=WP,w=on.cursorLine}else N={points:Az(h,v,o)},j=Wl,w=on.cursorLine;var F=typeof p=="object"&&"className"in p?p.className:void 0,P=hh(hh(hh(hh({stroke:"#ccc",pointerEvents:"none"},o),N),$i(p)),{},{payload:y,payloadIndex:C,className:ut("recharts-tooltip-cursor",F)});return x.createElement(ma,{zIndex:(n=t.zIndex)!==null&&n!==void 0?n:w},x.createElement(rH,{cursor:p,cursorComp:j,cursorProps:P}))}function iH(t){var n=A7(),a=OP(),r=fo(),i=YT();return n==null||a==null||r==null||i==null?null:x.createElement(sH,Ty({},t,{offset:a,layout:r,tooltipAxisBandSize:n,chartName:i}))}var ZT=x.createContext(null),lH=()=>x.useContext(ZT),yg={exports:{}},$E;function oH(){return $E||($E=1,(function(t){var n=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function i(p,f,d){this.fn=p,this.context=f,this.once=d||!1}function o(p,f,d,v,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var C=new i(d,v||p,y),N=a?a+f:f;return p._events[N]?p._events[N].fn?p._events[N]=[p._events[N],C]:p._events[N].push(C):(p._events[N]=C,p._eventsCount++),p}function u(p,f){--p._eventsCount===0?p._events=new r:delete p._events[f]}function h(){this._events=new r,this._eventsCount=0}h.prototype.eventNames=function(){var f=[],d,v;if(this._eventsCount===0)return f;for(v in d=this._events)n.call(d,v)&&f.push(a?v.slice(1):v);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},h.prototype.listeners=function(f){var d=a?a+f:f,v=this._events[d];if(!v)return[];if(v.fn)return[v.fn];for(var y=0,C=v.length,N=new Array(C);y<C;y++)N[y]=v[y].fn;return N},h.prototype.listenerCount=function(f){var d=a?a+f:f,v=this._events[d];return v?v.fn?1:v.length:0},h.prototype.emit=function(f,d,v,y,C,N){var j=a?a+f:f;if(!this._events[j])return!1;var w=this._events[j],O=arguments.length,S,E;if(w.fn){switch(w.once&&this.removeListener(f,w.fn,void 0,!0),O){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,v),!0;case 4:return w.fn.call(w.context,d,v,y),!0;case 5:return w.fn.call(w.context,d,v,y,C),!0;case 6:return w.fn.call(w.context,d,v,y,C,N),!0}for(E=1,S=new Array(O-1);E<O;E++)S[E-1]=arguments[E];w.fn.apply(w.context,S)}else{var T=w.length,k;for(E=0;E<T;E++)switch(w[E].once&&this.removeListener(f,w[E].fn,void 0,!0),O){case 1:w[E].fn.call(w[E].context);break;case 2:w[E].fn.call(w[E].context,d);break;case 3:w[E].fn.call(w[E].context,d,v);break;case 4:w[E].fn.call(w[E].context,d,v,y);break;default:if(!S)for(k=1,S=new Array(O-1);k<O;k++)S[k-1]=arguments[k];w[E].fn.apply(w[E].context,S)}}return!0},h.prototype.on=function(f,d,v){return o(this,f,d,v,!1)},h.prototype.once=function(f,d,v){return o(this,f,d,v,!0)},h.prototype.removeListener=function(f,d,v,y){var C=a?a+f:f;if(!this._events[C])return this;if(!d)return u(this,C),this;var N=this._events[C];if(N.fn)N.fn===d&&(!y||N.once)&&(!v||N.context===v)&&u(this,C);else{for(var j=0,w=[],O=N.length;j<O;j++)(N[j].fn!==d||y&&!N[j].once||v&&N[j].context!==v)&&w.push(N[j]);w.length?this._events[C]=w.length===1?w[0]:w:u(this,C)}return this},h.prototype.removeAllListeners=function(f){var d;return f?(d=a?a+f:f,this._events[d]&&u(this,d)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=a,h.EventEmitter=h,t.exports=h})(yg)),yg.exports}var cH=oH();const uH=Sr(cH);var ru=new uH,My="recharts.syncEvent.tooltip",qE="recharts.syncEvent.brush";function _b(t,n){if(n){var a=Number.parseInt(n,10);if(!Ya(a))return t?.[a]}}var dH={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},QT=ha({name:"options",initialState:dH,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),hH=QT.reducer,{createEventEmitter:mH}=QT.actions;function fH(t){return t.tooltip.syncInteraction}var pH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},JT=ha({name:"chartData",initialState:pH,reducers:{setChartData(t,n){if(t.chartData=n.payload,n.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}n.payload.length>0&&t.dataEndIndex!==n.payload.length-1&&(t.dataEndIndex=n.payload.length-1)},setComputedData(t,n){t.computedData=n.payload},setDataStartEndIndexes(t,n){var{startIndex:a,endIndex:r}=n.payload;a!=null&&(t.dataStartIndex=a),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:HE,setDataStartEndIndexes:vH,setComputedData:yJ}=JT.actions,xH=JT.reducer,gH=["x","y"];function VE(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function $l(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?VE(Object(a),!0).forEach(function(r){yH(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):VE(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function yH(t,n,a){return(n=jH(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function jH(t){var n=bH(t,"string");return typeof n=="symbol"?n:n+""}function bH(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function NH(t,n){if(t==null)return{};var a,r,i=SH(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function SH(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function CH(){var t=ke(eb),n=ke(tb),a=Et(),r=ke(Kk),i=ke(vs),o=fo(),u=tf(),h=ke(p=>p.rootProps.className);x.useEffect(()=>{if(t==null)return du;var p=(f,d,v)=>{if(n!==v&&t===f){if(r==="index"){var y;if(u&&d!==null&&d!==void 0&&(y=d.payload)!==null&&y!==void 0&&y.coordinate&&d.payload.sourceViewBox){var C=d.payload.coordinate,{x:N,y:j}=C,w=NH(C,gH),{x:O,y:S,width:E,height:T}=d.payload.sourceViewBox,k=$l($l({},w),{},{x:u.x+(E?(N-O)/E:0)*u.width,y:u.y+(T?(j-S)/T:0)*u.height});a($l($l({},d),{},{payload:$l($l({},d.payload),{},{coordinate:k})}))}else a(d);return}if(i!=null){var F;if(typeof r=="function"){var P={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},W=r(i,P);F=i[W]}else r==="value"&&(F=i.find(M=>String(M.value)===d.payload.label));var{coordinate:R}=d.payload;if(F==null||d.payload.active===!1||R==null||u==null){a(Py({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:U,y:J}=R,se=Math.min(U,u.x+u.width),X=Math.min(J,u.y+u.height),le={x:o==="horizontal"?F.coordinate:se,y:o==="horizontal"?X:F.coordinate},G=Py({active:d.payload.active,coordinate:le,dataKey:d.payload.dataKey,index:String(F.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});a(G)}}};return ru.on(My,p),()=>{ru.off(My,p)}},[h,a,n,t,r,i,o,u])}function wH(){var t=ke(eb),n=ke(tb),a=Et();x.useEffect(()=>{if(t==null)return du;var r=(i,o,u)=>{n!==u&&t===i&&a(vH(o))};return ru.on(qE,r),()=>{ru.off(qE,r)}},[a,n,t])}function AH(){var t=Et();x.useEffect(()=>{t(mH())},[t]),CH(),wH()}function EH(t,n,a,r,i,o){var u=ke(C=>I7(C,t,n)),h=ke(tb),p=ke(eb),f=ke(Kk),d=ke(fH),v=d?.active,y=tf();x.useEffect(()=>{if(!v&&p!=null&&h!=null){var C=Py({active:o,coordinate:a,dataKey:u,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});ru.emit(My,p,C,h)}},[v,a,u,i,r,h,p,f,o,y])}function YE(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function GE(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?YE(Object(a),!0).forEach(function(r){DH(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):YE(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function DH(t,n,a){return(n=OH(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function OH(t){var n=PH(t,"string");return typeof n=="symbol"?n:n+""}function PH(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function kH(t){return t.dataKey}function TH(t,n){return x.isValidElement(t)?x.cloneElement(t,n):typeof t=="function"?x.createElement(t,n):x.createElement(v8,n)}var KE=[],MH={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function It(t){var n,a,r=un(t,MH),{active:i,allowEscapeViewBox:o,animationDuration:u,animationEasing:h,content:p,filterNull:f,isAnimationActive:d,offset:v,payloadUniqBy:y,position:C,reverseDirection:N,useTranslate3d:j,wrapperStyle:w,cursor:O,shared:S,trigger:E,defaultIndex:T,portal:k,axisId:F}=r,P=Et(),W=typeof T=="number"?String(T):T;x.useEffect(()=>{P(O9({shared:S,trigger:E,axisId:F,active:i,defaultIndex:W}))},[P,S,E,F,i,W]);var R=tf(),U=zP(),J=S9(S),{activeIndex:se,isActive:X}=(n=ke(K=>B7(K,J,E,W)))!==null&&n!==void 0?n:{},le=ke(K=>_7(K,J,E,W)),G=ke(K=>WT(K,J,E,W)),M=ke(K=>R7(K,J,E,W)),B=le,re=lH(),Z=(a=i??X)!==null&&a!==void 0?a:!1,[te,_]=$O([B,Z]),z=J==="axis"?G:void 0;EH(J,E,M,z,se,Z);var L=k??re;if(L==null||R==null||J==null)return null;var $=B??KE;Z||($=KE),f&&$.length&&($=BO($.filter(K=>K.value!=null&&(K.hide!==!0||r.includeHidden)),y,kH));var q=$.length>0,A=x.createElement(S8,{allowEscapeViewBox:o,animationDuration:u,animationEasing:h,isAnimationActive:d,active:Z,coordinate:M,hasPayload:q,offset:v,position:C,reverseDirection:N,useTranslate3d:j,viewBox:R,wrapperStyle:w,lastBoundingBox:te,innerRef:_,hasPortalFromProps:!!k},TH(p,GE(GE({},r),{},{payload:$,label:z,active:Z,activeIndex:se,coordinate:M,accessibilityLayer:U})));return x.createElement(x.Fragment,null,Em.createPortal(A,L),Z&&x.createElement(iH,{cursor:O,tooltipEventType:J,coordinate:M,payload:$,index:se}))}var _n=t=>null;_n.displayName="Cell";function IH(t,n,a){return(n=RH(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function RH(t){var n=_H(t,"string");return typeof n=="symbol"?n:n+""}function _H(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}class BH{constructor(n){IH(this,"cache",new Map),this.maxSize=n}get(n){var a=this.cache.get(n);return a!==void 0&&(this.cache.delete(n),this.cache.set(n,a)),a}set(n,a){if(this.cache.has(n))this.cache.delete(n);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(n,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function WE(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function LH(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?WE(Object(a),!0).forEach(function(r){FH(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):WE(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function FH(t,n,a){return(n=zH(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function zH(t){var n=UH(t,"string");return typeof n=="symbol"?n:n+""}function UH(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var $H={cacheSize:2e3,enableCache:!0},eM=LH({},$H),XE=new BH(eM.cacheSize),qH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZE="recharts_measurement_span";function HH(t,n){var a=n.fontSize||"",r=n.fontFamily||"",i=n.fontWeight||"",o=n.fontStyle||"",u=n.letterSpacing||"",h=n.textTransform||"";return"".concat(t,"|").concat(a,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(u,"|").concat(h)}var QE=(t,n)=>{try{var a=document.getElementById(ZE);a||(a=document.createElement("span"),a.setAttribute("id",ZE),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,qH,n),a.textContent="".concat(t);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Uc=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n==null||po.isSsr)return{width:0,height:0};if(!eM.enableCache)return QE(n,a);var r=HH(n,a),i=XE.get(r);if(i)return i;var o=QE(n,a);return XE.set(r,o),o},JE=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,eD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},GH=Object.keys(tM),Yl="NaN";function KH(t,n){return t*tM[n]}class ia{static parse(n){var a,[,r,i]=(a=YH.exec(n))!==null&&a!==void 0?a:[];return new ia(parseFloat(r),i??"")}constructor(n,a){this.num=n,this.unit=a,this.num=n,this.unit=a,Ya(n)&&(this.unit=""),a!==""&&!VH.test(a)&&(this.num=NaN,this.unit=""),GH.includes(a)&&(this.num=KH(n,a),this.unit="px")}add(n){return this.unit!==n.unit?new ia(NaN,""):new ia(this.num+n.num,this.unit)}subtract(n){return this.unit!==n.unit?new ia(NaN,""):new ia(this.num-n.num,this.unit)}multiply(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new ia(NaN,""):new ia(this.num*n.num,this.unit||n.unit)}divide(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new ia(NaN,""):new ia(this.num/n.num,this.unit||n.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ya(this.num)}}function nM(t){if(t.includes(Yl))return Yl;for(var n=t;n.includes("*")||n.includes("/");){var a,[,r,i,o]=(a=JE.exec(n))!==null&&a!==void 0?a:[],u=ia.parse(r??""),h=ia.parse(o??""),p=i==="*"?u.multiply(h):u.divide(h);if(p.isNaN())return Yl;n=n.replace(JE,p.toString())}for(;n.includes("+")||/.-\d+(?:\.\d+)?/.test(n);){var f,[,d,v,y]=(f=eD.exec(n))!==null&&f!==void 0?f:[],C=ia.parse(d??""),N=ia.parse(y??""),j=v==="+"?C.add(N):C.subtract(N);if(j.isNaN())return Yl;n=n.replace(eD,j.toString())}return n}var tD=/\(([^()]*)\)/;function WH(t){for(var n=t,a;(a=tD.exec(n))!=null;){var[,r]=a;n=n.replace(tD,nM(r))}return n}function XH(t){var n=t.replace(/\s+/g,"");return n=WH(n),n=nM(n),n}function ZH(t){try{return XH(t)}catch{return Yl}}function jg(t){var n=ZH(t.slice(5,-1));return n===Yl?"":n}var QH=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],JH=["dx","dy","angle","className","breakAll"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Iy.apply(null,arguments)}function nD(t,n){if(t==null)return{};var a,r,i=eV(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function eV(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var aM=/[ \f\n\r\t\v\u2028\u2029]+/,rM=t=>{var{children:n,breakAll:a,style:r}=t;try{var i=[];Ut(n)||(a?i=n.toString().split(""):i=n.toString().split(aM));var o=i.map(h=>({word:h,width:Uc(h,r).width})),u=a?0:Uc("",r).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}};function tV(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var sM=(t,n,a,r)=>t.reduce((i,o)=>{var{word:u,width:h}=o,p=i[i.length-1];if(p&&h!=null&&(n==null||r||p.width+h+a<Number(n)))p.words.push(u),p.width+=h+a;else{var f={words:[u],width:h};i.push(f)}return i},[]),iM=t=>t.reduce((n,a)=>n.width>a.width?n:a),nV="",aD=(t,n,a,r,i,o,u,h)=>{var p=t.slice(0,n),f=rM({breakAll:a,style:r,children:p+nV});if(!f)return[!1,[]];var d=sM(f.wordsWithComputedWidth,o,u,h),v=d.length>i||iM(d).width>Number(o);return[v,d]},aV=(t,n,a,r,i)=>{var{maxLines:o,children:u,style:h,breakAll:p}=t,f=Pe(o),d=String(u),v=sM(n,r,a,i);if(!f||i)return v;var y=v.length>o||iM(v).width>Number(r);if(!y)return v;for(var C=0,N=d.length-1,j=0,w;C<=N&&j<=d.length-1;){var O=Math.floor((C+N)/2),S=O-1,[E,T]=aD(d,S,p,h,o,r,a,i),[k]=aD(d,O,p,h,o,r,a,i);if(!E&&!k&&(C=O+1),E&&k&&(N=O-1),!E&&k){w=T;break}j++}return w||v},rD=t=>{var n=Ut(t)?[]:t.toString().split(aM);return[{words:n,width:void 0}]},rV=t=>{var{width:n,scaleToFit:a,children:r,style:i,breakAll:o,maxLines:u}=t;if((n||a)&&!po.isSsr){var h,p,f=rM({breakAll:o,children:r,style:i});if(f){var{wordsWithComputedWidth:d,spaceWidth:v}=f;h=d,p=v}else return rD(r);return aV({breakAll:o,children:r,maxLines:u,style:i},h,p,n,!!a)}return rD(r)},lM="#808080",sV={angle:0,breakAll:!1,capHeight:"0.71em",fill:lM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},wf=x.forwardRef((t,n)=>{var a=un(t,sV),{x:r,y:i,lineHeight:o,capHeight:u,fill:h,scaleToFit:p,textAnchor:f,verticalAnchor:d}=a,v=nD(a,QH),y=x.useMemo(()=>rV({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:p,style:v.style,width:v.width}),[v.breakAll,v.children,v.maxLines,p,v.style,v.width]),{dx:C,dy:N,angle:j,className:w,breakAll:O}=v,S=nD(v,JH);if(!jr(r)||!jr(i)||y.length===0)return null;var E=Number(r)+(Pe(C)?C:0),T=Number(i)+(Pe(N)?N:0);if(!Rt(E)||!Rt(T))return null;var k;switch(d){case"start":k=jg("calc(".concat(u,")"));break;case"middle":k=jg("calc(".concat((y.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:k=jg("calc(".concat(y.length-1," * -").concat(o,")"));break}var F=[];if(p){var P=y[0].width,{width:W}=v;F.push("scale(".concat(Pe(W)&&Pe(P)?W/P:1,")"))}return j&&F.push("rotate(".concat(j,", ").concat(E,", ").concat(T,")")),F.length&&(S.transform=F.join(" ")),x.createElement("text",Iy({},Kn(S),{ref:n,x:E,y:T,className:ut("recharts-text",w),textAnchor:f,fill:h.includes("url")?lM:h}),y.map((R,U)=>{var J=R.words.join(O?"":" ");return x.createElement("tspan",{x:E,dy:U===0?k:o,key:"".concat(J,"-").concat(U)},J)}))});wf.displayName="Text";var iV=["labelRef"];function lV(t,n){if(t==null)return{};var a,r,i=oV(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function oV(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function sD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Qt(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?sD(Object(a),!0).forEach(function(r){cV(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):sD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function cV(t,n,a){return(n=uV(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function uV(t){var n=dV(t,"string");return typeof n=="symbol"?n:n+""}function dV(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Vr(){return Vr=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Vr.apply(null,arguments)}var oM=x.createContext(null),hV=t=>{var{x:n,y:a,upperWidth:r,lowerWidth:i,width:o,height:u,children:h}=t,p=x.useMemo(()=>({x:n,y:a,upperWidth:r,lowerWidth:i,width:o,height:u}),[n,a,r,i,o,u]);return x.createElement(oM.Provider,{value:p},h)},cM=()=>{var t=x.useContext(oM),n=tf();return t||DP(n)},mV=x.createContext(null),fV=()=>{var t=x.useContext(mV),n=ke(Jk);return t||n},pV=t=>{var{value:n,formatter:a}=t,r=Ut(t.children)?n:t.children;return typeof a=="function"?a(r):r},Bb=t=>t!=null&&typeof t=="function",vV=(t,n)=>{var a=wn(n-t),r=Math.min(Math.abs(n-t),360);return a*r},xV=(t,n,a,r,i)=>{var{offset:o,className:u}=t,{cx:h,cy:p,innerRadius:f,outerRadius:d,startAngle:v,endAngle:y,clockWise:C}=i,N=(f+d)/2,j=vV(v,y),w=j>=0?1:-1,O,S;switch(n){case"insideStart":O=v+w*o,S=C;break;case"insideEnd":O=y-w*o,S=!C;break;case"end":O=y+w*o,S=C;break;default:throw new Error("Unsupported position ".concat(n))}S=j<=0?S:!S;var E=ln(h,p,N,O),T=ln(h,p,N,O+(S?1:-1)*359),k="M".concat(E.x,",").concat(E.y,`
    A`).concat(N,",").concat(N,",0,1,").concat(S?0:1,`,
    `).concat(T.x,",").concat(T.y),F=Ut(t.id)?Hc("recharts-radial-line-"):t.id;return x.createElement("text",Vr({},r,{dominantBaseline:"central",className:ut("recharts-radial-bar-label",u)}),x.createElement("defs",null,x.createElement("path",{id:F,d:k})),x.createElement("textPath",{xlinkHref:"#".concat(F)},a))},gV=(t,n,a)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:u,startAngle:h,endAngle:p}=t,f=(h+p)/2;if(a==="outside"){var{x:d,y:v}=ln(r,i,u+n,f);return{x:d,y:v,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(o+u)/2,{x:C,y:N}=ln(r,i,y,f);return{x:C,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Ry=t=>"cx"in t&&Pe(t.cx),yV=(t,n)=>{var{parentViewBox:a,offset:r,position:i}=t,o;a!=null&&!Ry(a)&&(o=a);var{x:u,y:h,upperWidth:p,lowerWidth:f,height:d}=n,v=u,y=u+(p-f)/2,C=(v+y)/2,N=(p+f)/2,j=v+p/2,w=d>=0?1:-1,O=w*r,S=w>0?"end":"start",E=w>0?"start":"end",T=p>=0?1:-1,k=T*r,F=T>0?"end":"start",P=T>0?"start":"end";if(i==="top"){var W={x:v+p/2,y:h-O,textAnchor:"middle",verticalAnchor:S};return Qt(Qt({},W),o?{height:Math.max(h-o.y,0),width:p}:{})}if(i==="bottom"){var R={x:y+f/2,y:h+d+O,textAnchor:"middle",verticalAnchor:E};return Qt(Qt({},R),o?{height:Math.max(o.y+o.height-(h+d),0),width:f}:{})}if(i==="left"){var U={x:C-k,y:h+d/2,textAnchor:F,verticalAnchor:"middle"};return Qt(Qt({},U),o?{width:Math.max(U.x-o.x,0),height:d}:{})}if(i==="right"){var J={x:C+N+k,y:h+d/2,textAnchor:P,verticalAnchor:"middle"};return Qt(Qt({},J),o?{width:Math.max(o.x+o.width-J.x,0),height:d}:{})}var se=o?{width:N,height:d}:{};return i==="insideLeft"?Qt({x:C+k,y:h+d/2,textAnchor:P,verticalAnchor:"middle"},se):i==="insideRight"?Qt({x:C+N-k,y:h+d/2,textAnchor:F,verticalAnchor:"middle"},se):i==="insideTop"?Qt({x:v+p/2,y:h+O,textAnchor:"middle",verticalAnchor:E},se):i==="insideBottom"?Qt({x:y+f/2,y:h+d-O,textAnchor:"middle",verticalAnchor:S},se):i==="insideTopLeft"?Qt({x:v+k,y:h+O,textAnchor:P,verticalAnchor:E},se):i==="insideTopRight"?Qt({x:v+p-k,y:h+O,textAnchor:F,verticalAnchor:E},se):i==="insideBottomLeft"?Qt({x:y+k,y:h+d-O,textAnchor:P,verticalAnchor:S},se):i==="insideBottomRight"?Qt({x:y+f-k,y:h+d-O,textAnchor:F,verticalAnchor:S},se):i&&typeof i=="object"&&(Pe(i.x)||ts(i.x))&&(Pe(i.y)||ts(i.y))?Qt({x:u+qn(i.x,N),y:h+qn(i.y,d),textAnchor:"end",verticalAnchor:"end"},se):Qt({x:j,y:h+d/2,textAnchor:"middle",verticalAnchor:"middle"},se)},jV={angle:0,offset:5,zIndex:on.label,position:"middle",textBreakAll:!1};function Ys(t){var n=un(t,jV),{viewBox:a,position:r,value:i,children:o,content:u,className:h="",textBreakAll:p,labelRef:f}=n,d=fV(),v=cM(),y=r==="center"?v:d??v,C,N,j;if(a==null?C=y:Ry(a)?C=a:C=DP(a),!C||Ut(i)&&Ut(o)&&!x.isValidElement(u)&&typeof u!="function")return null;var w=Qt(Qt({},n),{},{viewBox:C});if(x.isValidElement(u)){var{labelRef:O}=w,S=lV(w,iV);return x.cloneElement(u,S)}if(typeof u=="function"){if(N=x.createElement(u,w),x.isValidElement(N))return N}else N=pV(n);var E=Kn(n);if(Ry(C)){if(r==="insideStart"||r==="insideEnd"||r==="end")return xV(n,r,N,E,C);j=gV(C,n.offset,n.position)}else j=yV(n,C);return x.createElement(ma,{zIndex:n.zIndex},x.createElement(wf,Vr({ref:f,className:ut("recharts-label",h)},E,j,{textAnchor:tV(E.textAnchor)?E.textAnchor:j.textAnchor,breakAll:p}),N))}Ys.displayName="Label";var bV=(t,n,a)=>{if(!t)return null;var r={viewBox:n,labelRef:a};return t===!0?x.createElement(Ys,Vr({key:"label-implicit"},r)):jr(t)?x.createElement(Ys,Vr({key:"label-implicit",value:t},r)):x.isValidElement(t)?t.type===Ys?x.cloneElement(t,Qt({key:"label-implicit"},r)):x.createElement(Ys,Vr({key:"label-implicit",content:t},r)):Bb(t)?x.createElement(Ys,Vr({key:"label-implicit",content:t},r)):t&&typeof t=="object"?x.createElement(Ys,Vr({},t,{key:"label-implicit"},r)):null};function NV(t){var{label:n,labelRef:a}=t,r=cM();return bV(n,r,a)||null}var bg={},Ng={},iD;function SV(){return iD||(iD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return a[a.length-1]}t.last=n})(Ng)),Ng}var Sg={},lD;function CV(){return lD||(lD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){return Array.isArray(a)?a:Array.from(a)}t.toArray=n})(Sg)),Sg}var oD;function wV(){return oD||(oD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=SV(),a=CV(),r=dj();function i(o){if(r.isArrayLike(o))return n.last(a.toArray(o))}t.last=i})(bg)),bg}var Cg,cD;function AV(){return cD||(cD=1,Cg=wV().last),Cg}var EV=AV();const DV=Sr(EV);var OV=["valueAccessor"],PV=["dataKey","clockWise","id","textBreakAll","zIndex"];function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},vm.apply(null,arguments)}function uD(t,n){if(t==null)return{};var a,r,i=kV(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function kV(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var TV=t=>Array.isArray(t.value)?DV(t.value):t.value,uM=x.createContext(void 0),dM=uM.Provider,hM=x.createContext(void 0),MV=hM.Provider;function IV(){return x.useContext(uM)}function RV(){return x.useContext(hM)}function Ah(t){var{valueAccessor:n=TV}=t,a=uD(t,OV),{dataKey:r,clockWise:i,id:o,textBreakAll:u,zIndex:h}=a,p=uD(a,PV),f=IV(),d=RV(),v=f||d;return!v||!v.length?null:x.createElement(ma,{zIndex:h??on.label},x.createElement(en,{className:"recharts-label-list"},v.map((y,C)=>{var N,j=Ut(r)?n(y,C):St(y&&y.payload,r),w=Ut(o)?{}:{id:"".concat(o,"-").concat(C)};return x.createElement(Ys,vm({key:"label-".concat(C)},Kn(y),p,w,{fill:(N=a.fill)!==null&&N!==void 0?N:y.fill,parentViewBox:y.parentViewBox,value:j,textBreakAll:u,viewBox:y.viewBox,index:C,zIndex:0}))})))}Ah.displayName="LabelList";function Lb(t){var{label:n}=t;return n?n===!0?x.createElement(Ah,{key:"labelList-implicit"}):x.isValidElement(n)||Bb(n)?x.createElement(Ah,{key:"labelList-implicit",content:n}):typeof n=="object"?x.createElement(Ah,vm({key:"labelList-implicit"},n,{type:String(n.type)})):null:null}function _y(){return _y=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},_y.apply(null,arguments)}var mM=t=>{var{cx:n,cy:a,r,className:i}=t,o=ut("recharts-dot",i);return Pe(n)&&Pe(a)&&Pe(r)?x.createElement("circle",_y({},da(t),uj(t),{className:o,cx:n,cy:a,r})):null},fM=t=>t.graphicalItems.polarItems,_V=ve([zt,wu],ib),Af=ve([fM,$t,_V],lb),BV=ve([Af],ob),Ef=ve([BV,Xj],cb),LV=ve([Ef,$t,Af],db);ve([Ef,$t,Af],(t,n,a)=>a.length>0?t.flatMap(r=>a.flatMap(i=>{var o,u=St(r,(o=n.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:u,errorDomain:[]}})).filter(Boolean):n?.dataKey!=null?t.map(r=>({value:St(r,n.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var dD=()=>{},FV=ve([Ef,$t,Af,Nf,zt],pb),zV=ve([$t,mb,fb,dD,FV,dD,it,zt],vb),pM=ve([$t,it,Ef,LV,Cu,zt,zV],xb),UV=ve([pM,$t,bo],jb);ve([$t,pM,UV,zt],Nb);var $V={radiusAxis:{},angleAxis:{}},vM=ha({name:"polarAxis",initialState:$V,reducers:{addRadiusAxis(t,n){t.radiusAxis[n.payload.id]=n.payload},removeRadiusAxis(t,n){delete t.radiusAxis[n.payload.id]},addAngleAxis(t,n){t.angleAxis[n.payload.id]=n.payload},removeAngleAxis(t,n){delete t.angleAxis[n.payload.id]}}}),{addRadiusAxis:jJ,removeRadiusAxis:bJ,addAngleAxis:NJ,removeAngleAxis:SJ}=vM.actions,qV=vM.reducer;function hD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function mD(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?hD(Object(a),!0).forEach(function(r){HV(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):hD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function HV(t,n,a){return(n=VV(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function VV(t){var n=YV(t,"string");return typeof n=="symbol"?n:n+""}function YV(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var GV=(t,n)=>n,Fb=ve([fM,GV],(t,n)=>t.filter(a=>a.type==="pie").find(a=>a.id===n)),KV=[],zb=(t,n,a)=>a?.length===0?KV:a,xM=ve([Xj,Fb,zb],(t,n,a)=>{var{chartData:r}=t;if(n!=null){var i;if(n?.data!=null&&n.data.length>0?i=n.data:i=r,(!i||!i.length)&&a!=null&&(i=a.map(o=>mD(mD({},n.presentationProps),o.props))),i!=null)return i}}),WV=ve([xM,Fb,zb],(t,n,a)=>{if(!(t==null||n==null))return t.map((r,i)=>{var o,u=St(r,n.nameKey,n.name),h;return a!=null&&(o=a[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?h=a[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?h=r.fill:h=n.fill,{value:mo(u,n.dataKey),color:h,payload:r,type:n.legendType}})}),XV=ve([xM,Fb,zb,vn],(t,n,a,r)=>{if(!(n==null||t==null))return ZY({offset:r,pieSettings:n,displayedData:t,cells:a})}),wg={exports:{}},jt={};var fD;function ZV(){if(fD)return jt;fD=1;var t=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.for("react.view_transition"),C=Symbol.for("react.client.reference");function N(j){if(typeof j=="object"&&j!==null){var w=j.$$typeof;switch(w){case t:switch(j=j.type,j){case a:case i:case r:case p:case f:case y:return j;default:switch(j=j&&j.$$typeof,j){case u:case h:case v:case d:return j;case o:return j;default:return w}}case n:return w}}}return jt.ContextConsumer=o,jt.ContextProvider=u,jt.Element=t,jt.ForwardRef=h,jt.Fragment=a,jt.Lazy=v,jt.Memo=d,jt.Portal=n,jt.Profiler=i,jt.StrictMode=r,jt.Suspense=p,jt.SuspenseList=f,jt.isContextConsumer=function(j){return N(j)===o},jt.isContextProvider=function(j){return N(j)===u},jt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===t},jt.isForwardRef=function(j){return N(j)===h},jt.isFragment=function(j){return N(j)===a},jt.isLazy=function(j){return N(j)===v},jt.isMemo=function(j){return N(j)===d},jt.isPortal=function(j){return N(j)===n},jt.isProfiler=function(j){return N(j)===i},jt.isStrictMode=function(j){return N(j)===r},jt.isSuspense=function(j){return N(j)===p},jt.isSuspenseList=function(j){return N(j)===f},jt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===a||j===i||j===r||j===p||j===f||typeof j=="object"&&j!==null&&(j.$$typeof===v||j.$$typeof===d||j.$$typeof===u||j.$$typeof===o||j.$$typeof===h||j.$$typeof===C||j.getModuleId!==void 0)},jt.typeOf=N,jt}var pD;function QV(){return pD||(pD=1,wg.exports=ZV()),wg.exports}var JV=QV(),vD=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",xD=null,Ag=null,gM=t=>{if(t===xD&&Array.isArray(Ag))return Ag;var n=[];return x.Children.forEach(t,a=>{Ut(a)||(JV.isFragment(a)?n=n.concat(gM(a.props.children)):n.push(a))}),Ag=n,xD=t,n};function Ub(t,n){var a=[],r=[];return Array.isArray(n)?r=n.map(i=>vD(i)):r=[vD(n)],gM(t).forEach(i=>{var o=qi(i,"type.displayName")||qi(i,"type.name");o&&r.indexOf(o)!==-1&&a.push(i)}),a}var yM=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Eg={},gD;function eY(){return gD||(gD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function n(a){if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const i=a[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(a,Symbol.toStringTag)?.writable?!1:a.toString()===`[object ${i}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}t.isPlainObject=n})(Eg)),Eg}var Dg,yD;function tY(){return yD||(yD=1,Dg=eY().isPlainObject),Dg}var nY=tY();const aY=Sr(nY);function jD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function bD(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?jD(Object(a),!0).forEach(function(r){rY(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):jD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function rY(t,n,a){return(n=sY(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function sY(t){var n=iY(t,"string");return typeof n=="symbol"?n:n+""}function iY(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},xm.apply(null,arguments)}var ND=(t,n,a,r,i)=>{var o=a-r,u;return u="M ".concat(t,",").concat(n),u+="L ".concat(t+a,",").concat(n),u+="L ".concat(t+a-o/2,",").concat(n+i),u+="L ".concat(t+a-o/2-r,",").concat(n+i),u+="L ".concat(t,",").concat(n," Z"),u},lY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oY=t=>{var n=un(t,lY),{x:a,y:r,upperWidth:i,lowerWidth:o,height:u,className:h}=n,{animationEasing:p,animationDuration:f,animationBegin:d,isUpdateAnimationActive:v}=n,y=x.useRef(null),[C,N]=x.useState(-1),j=x.useRef(i),w=x.useRef(o),O=x.useRef(u),S=x.useRef(a),E=x.useRef(r),T=yu(t,"trapezoid-");if(x.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var le=y.current.getTotalLength();le&&N(le)}catch{}},[]),a!==+a||r!==+r||i!==+i||o!==+o||u!==+u||i===0&&o===0||u===0)return null;var k=ut("recharts-trapezoid",h);if(!v)return x.createElement("g",null,x.createElement("path",xm({},Kn(n),{className:k,d:ND(a,r,i,o,u)})));var F=j.current,P=w.current,W=O.current,R=S.current,U=E.current,J="0px ".concat(C===-1?1:C,"px"),se="".concat(C,"px 0px"),X=UP(["strokeDasharray"],f,p);return x.createElement(gu,{animationId:T,key:T,canBegin:C>0,duration:f,easing:p,isActive:v,begin:d},le=>{var G=Tt(F,i,le),M=Tt(P,o,le),B=Tt(W,u,le),re=Tt(R,a,le),Z=Tt(U,r,le);y.current&&(j.current=G,w.current=M,O.current=B,S.current=re,E.current=Z);var te=le>0?{transition:X,strokeDasharray:se}:{strokeDasharray:J};return x.createElement("path",xm({},Kn(n),{className:k,d:ND(re,Z,G,M,B),ref:y,style:bD(bD({},te),n.style)}))})},cY=["option","shapeType","propTransformer","activeClassName"];function uY(t,n){if(t==null)return{};var a,r,i=dY(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function dY(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function SD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function gm(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?SD(Object(a),!0).forEach(function(r){hY(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):SD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function hY(t,n,a){return(n=mY(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function mY(t){var n=fY(t,"string");return typeof n=="symbol"?n:n+""}function fY(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function pY(t,n){return gm(gm({},n),t)}function vY(t,n){return t==="symbols"}function CD(t){var{shapeType:n,elementProps:a}=t;switch(n){case"rectangle":return x.createElement(VP,a);case"trapezoid":return x.createElement(oY,a);case"sector":return x.createElement(WP,a);case"symbols":if(vY(n))return x.createElement(cj,a);break;case"curve":return x.createElement(Wl,a);default:return null}}function xY(t){return x.isValidElement(t)?t.props:t}function jM(t){var{option:n,shapeType:a,propTransformer:r=pY,activeClassName:i="recharts-active-shape"}=t,o=uY(t,cY),u;if(x.isValidElement(n))u=x.cloneElement(n,gm(gm({},o),xY(n)));else if(typeof n=="function")u=n(o,o.index);else if(aY(n)&&typeof n!="boolean"){var h=r(n,o);u=x.createElement(CD,{shapeType:a,elementProps:h})}else{var p=o;u=x.createElement(CD,{shapeType:a,elementProps:p})}return o.isActive?x.createElement(en,{className:i},u):u}var $b=(t,n,a)=>{var r=Et();return(i,o)=>u=>{t?.(i,o,u),r(PT({activeIndex:String(o),activeDataKey:n,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:a}))}},qb=t=>{var n=Et();return(a,r)=>i=>{t?.(a,r,i),n(P9())}},Hb=(t,n,a)=>{var r=Et();return(i,o)=>u=>{t?.(i,o,u),r(k9({activeIndex:String(o),activeDataKey:n,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:a}))}};function Vb(t){var{tooltipEntrySettings:n}=t,a=Et(),r=Hn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?a(A9(n)):i.current!==n&&a(E9({prev:i.current,next:n})),i.current=n)},[n,a,r]),x.useLayoutEffect(()=>()=>{i.current&&(a(D9(i.current)),i.current=null)},[a]),null}function bM(t){var{legendPayload:n}=t,a=Et(),r=Hn(),i=x.useRef(null);return x.useLayoutEffect(()=>{r||(i.current===null?a(BP(n)):i.current!==n&&a(LP({prev:i.current,next:n})),i.current=n)},[a,r,n]),x.useLayoutEffect(()=>()=>{i.current&&(a(FP(i.current)),i.current=null)},[a]),null}function gY(t){var{legendPayload:n}=t,a=Et(),r=ke(it),i=x.useRef(null);return x.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?a(BP(n)):i.current!==n&&a(LP({prev:i.current,next:n})),i.current=n)},[a,r,n]),x.useLayoutEffect(()=>()=>{i.current&&(a(FP(i.current)),i.current=null)},[a]),null}var Og,yY=()=>{var[t]=x.useState(()=>Hc("uid-"));return t},jY=(Og=p2.useId)!==null&&Og!==void 0?Og:yY;function NM(t,n){var a=jY();return n||(t?"".concat(t,"-").concat(a):a)}var bY=x.createContext(void 0),Yb=t=>{var{id:n,type:a,children:r}=t,i=NM("recharts-".concat(a),n);return x.createElement(bY.Provider,{value:i},r(i))},NY={cartesianItems:[],polarItems:[]},SM=ha({name:"graphicalItems",initialState:NY,reducers:{addCartesianGraphicalItem:{reducer(t,n){t.cartesianItems.push(n.payload)},prepare:Lt()},replaceCartesianGraphicalItem:{reducer(t,n){var{prev:a,next:r}=n.payload,i=or(t).cartesianItems.indexOf(a);i>-1&&(t.cartesianItems[i]=r)},prepare:Lt()},removeCartesianGraphicalItem:{reducer(t,n){var a=or(t).cartesianItems.indexOf(n.payload);a>-1&&t.cartesianItems.splice(a,1)},prepare:Lt()},addPolarGraphicalItem:{reducer(t,n){t.polarItems.push(n.payload)},prepare:Lt()},removePolarGraphicalItem:{reducer(t,n){var a=or(t).polarItems.indexOf(n.payload);a>-1&&t.polarItems.splice(a,1)},prepare:Lt()}}}),{addCartesianGraphicalItem:SY,replaceCartesianGraphicalItem:CY,removeCartesianGraphicalItem:wY,addPolarGraphicalItem:AY,removePolarGraphicalItem:EY}=SM.actions,DY=SM.reducer,OY=t=>{var n=Et(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?n(SY(t)):a.current!==t&&n(CY({prev:a.current,next:t})),a.current=t},[n,t]),x.useLayoutEffect(()=>()=>{a.current&&(n(wY(a.current)),a.current=null)},[n]),null},CM=x.memo(OY);function PY(t){var n=Et();return x.useLayoutEffect(()=>(n(AY(t)),()=>{n(EY(t))}),[n,t]),null}var kY=["key"],TY=["onMouseEnter","onClick","onMouseLeave"],MY=["id"],IY=["id"];function wD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Kt(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?wD(Object(a),!0).forEach(function(r){RY(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):wD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function RY(t,n,a){return(n=_Y(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function _Y(t){var n=BY(t,"string");return typeof n=="symbol"?n:n+""}function BY(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function ti(){return ti=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ti.apply(null,arguments)}function Df(t,n){if(t==null)return{};var a,r,i=LY(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function LY(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function FY(t){var n=x.useMemo(()=>Ub(t.children,_n),[t.children]),a=ke(r=>WV(r,t.id,n));return a==null?null:x.createElement(gY,{legendPayload:a})}var zY=x.memo(t=>{var{dataKey:n,nameKey:a,sectors:r,stroke:i,strokeWidth:o,fill:u,name:h,hide:p,tooltipType:f}=t,d={dataDefinedOnItem:r.map(v=>v.tooltipPayload),positions:r.map(v=>v.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:u,dataKey:n,nameKey:a,name:mo(h,n),hide:p,type:f,color:u,unit:""}};return x.createElement(Vb,{tooltipEntrySettings:d})}),UY=(t,n)=>t>n?"start":t<n?"end":"middle",$Y=(t,n,a)=>qn(typeof n=="function"?n(t):n,a,a*.8),qY=(t,n,a)=>{var{top:r,left:i,width:o,height:u}=n,h=YP(o,u),p=i+qn(t.cx,o,o/2),f=r+qn(t.cy,u,u/2),d=qn(t.innerRadius,h,0),v=$Y(a,t.outerRadius,h),y=t.maxRadius||Math.sqrt(o*o+u*u)/2;return{cx:p,cy:f,innerRadius:d,outerRadius:v,maxRadius:y}},HY=(t,n)=>{var a=wn(n-t),r=Math.min(Math.abs(n-t),360);return a*r};function VY(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var YY=(t,n)=>{if(x.isValidElement(t))return x.cloneElement(t,n);if(typeof t=="function")return t(n);var a=ut("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=n,i=Df(n,kY);return x.createElement(Wl,ti({},i,{type:"linear",className:a}))},GY=(t,n,a)=>{if(x.isValidElement(t))return x.cloneElement(t,n);var r=a;if(typeof t=="function"&&(r=t(n),x.isValidElement(r)))return r;var i=ut("recharts-pie-label-text",VY(t));return x.createElement(wf,ti({},n,{alignmentBaseline:"middle",className:i}),r)};function KY(t){var{sectors:n,props:a,showLabels:r}=t,{label:i,labelLine:o,dataKey:u}=a;if(!r||!i||!n)return null;var h=da(a),p=$i(i),f=$i(o),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,v=n.map((y,C)=>{var N=(y.startAngle+y.endAngle)/2,j=ln(y.cx,y.cy,y.outerRadius+d,N),w=Kt(Kt(Kt(Kt({},h),y),{},{stroke:"none"},p),{},{index:C,textAnchor:UY(j.x,y.cx)},j),O=Kt(Kt(Kt(Kt({},h),y),{},{fill:"none",stroke:y.fill},f),{},{index:C,points:[ln(y.cx,y.cy,y.outerRadius,N),j],key:"line"});return x.createElement(ma,{zIndex:on.label,key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(C)},x.createElement(en,null,o&&YY(o,O),GY(i,w,St(y,u))))});return x.createElement(en,{className:"recharts-pie-labels"},v)}function WY(t){var{sectors:n,props:a,showLabels:r}=t,{label:i}=a;return typeof i=="object"&&i!=null&&"position"in i?x.createElement(Lb,{label:i}):x.createElement(KY,{sectors:n,props:a,showLabels:r})}function XY(t){var{sectors:n,activeShape:a,inactiveShape:r,allOtherPieProps:i,shape:o,id:u}=t,h=ke(ei),p=ke(kb),f=ke(v7),{onMouseEnter:d,onClick:v,onMouseLeave:y}=i,C=Df(i,TY),N=$b(d,i.dataKey,u),j=qb(y),w=Hb(v,i.dataKey,u);return n==null||n.length===0?null:x.createElement(x.Fragment,null,n.map((O,S)=>{if(O?.startAngle===0&&O?.endAngle===0&&n.length!==1)return null;var E=f==null||f===u,T=String(S)===h&&(p==null||i.dataKey===p)&&E,k=h?r:null,F=a&&T?a:k,P=Kt(Kt({},O),{},{stroke:O.stroke,tabIndex:-1,[SP]:S,[CP]:i.dataKey});return x.createElement(en,ti({key:"sector-".concat(O?.startAngle,"-").concat(O?.endAngle,"-").concat(O.midAngle,"-").concat(S),tabIndex:-1,className:"recharts-pie-sector"},hu(C,O,S),{onMouseEnter:N(O,S),onMouseLeave:j(O,S),onClick:w(O,S)}),x.createElement(jM,ti({option:o??F,index:S,shapeType:"sector",isActive:T},P)))}))}function ZY(t){var n,{pieSettings:a,displayedData:r,cells:i,offset:o}=t,{cornerRadius:u,startAngle:h,endAngle:p,dataKey:f,nameKey:d,tooltipType:v}=a,y=Math.abs(a.minAngle),C=HY(h,p),N=Math.abs(C),j=r.length<=1?0:(n=a.paddingAngle)!==null&&n!==void 0?n:0,w=r.filter(F=>St(F,f,0)!==0).length,O=(N>=360?w:w-1)*j,S=N-w*y-O,E=r.reduce((F,P)=>{var W=St(P,f,0);return F+(Pe(W)?W:0)},0),T;if(E>0){var k;T=r.map((F,P)=>{var W=St(F,f,0),R=St(F,d,P),U=qY(a,o,F),J=(Pe(W)?W:0)/E,se,X=Kt(Kt({},F),i&&i[P]&&i[P].props);P?se=k.endAngle+wn(C)*j*(W!==0?1:0):se=h;var le=se+wn(C)*((W!==0?y:0)+J*S),G=(se+le)/2,M=(U.innerRadius+U.outerRadius)/2,B=[{name:R,value:W,payload:X,dataKey:f,type:v}],re=ln(U.cx,U.cy,M,G);return k=Kt(Kt(Kt(Kt({},a.presentationProps),{},{percent:J,cornerRadius:typeof u=="string"?parseFloat(u):u,name:R,tooltipPayload:B,midAngle:G,middleRadius:M,tooltipPosition:re},X),U),{},{value:W,dataKey:f,startAngle:se,endAngle:le,payload:X,paddingAngle:wn(C)*j}),k})}return T}function QY(t){var{showLabels:n,sectors:a,children:r}=t,i=x.useMemo(()=>!n||!a?[]:a.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[a,n]);return x.createElement(MV,{value:n?i:void 0},r)}function JY(t){var{props:n,previousSectorsRef:a,id:r}=t,{sectors:i,isAnimationActive:o,animationBegin:u,animationDuration:h,animationEasing:p,activeShape:f,inactiveShape:d,onAnimationStart:v,onAnimationEnd:y}=n,C=yu(n,"recharts-pie-"),N=a.current,[j,w]=x.useState(!1),O=x.useCallback(()=>{typeof y=="function"&&y(),w(!1)},[y]),S=x.useCallback(()=>{typeof v=="function"&&v(),w(!0)},[v]);return x.createElement(QY,{showLabels:!j,sectors:i},x.createElement(gu,{animationId:C,begin:u,duration:h,isActive:o,easing:p,onAnimationStart:S,onAnimationEnd:O,key:C},E=>{var T=[],k=i&&i[0],F=k?.startAngle;return i?.forEach((P,W)=>{var R=N&&N[W],U=W>0?qi(P,"paddingAngle",0):0;if(R){var J=Tt(R.endAngle-R.startAngle,P.endAngle-P.startAngle,E),se=Kt(Kt({},P),{},{startAngle:F+U,endAngle:F+J+U});T.push(se),F=se.endAngle}else{var{endAngle:X,startAngle:le}=P,G=Tt(0,X-le,E),M=Kt(Kt({},P),{},{startAngle:F+U,endAngle:F+G+U});T.push(M),F=M.endAngle}}),a.current=T,x.createElement(en,null,x.createElement(XY,{sectors:T,activeShape:f,inactiveShape:d,allOtherPieProps:n,shape:n.shape,id:r}))}),x.createElement(WY,{showLabels:!j,sectors:i,props:n}),n.children)}var eG={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:on.area};function tG(t){var{id:n}=t,a=Df(t,MY),{hide:r,className:i,rootTabIndex:o}=t,u=x.useMemo(()=>Ub(t.children,_n),[t.children]),h=ke(d=>XV(d,n,u)),p=x.useRef(null),f=ut("recharts-pie",i);return r||h==null?(p.current=null,x.createElement(en,{tabIndex:o,className:f})):x.createElement(ma,{zIndex:t.zIndex},x.createElement(zY,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:h,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),x.createElement(en,{tabIndex:o,className:f},x.createElement(JY,{props:Kt(Kt({},a),{},{sectors:h}),previousSectorsRef:p,id:n})))}function Wa(t){var n=un(t,eG),{id:a}=n,r=Df(n,IY),i=da(r);return x.createElement(Yb,{id:a,type:"pie"},o=>x.createElement(x.Fragment,null,x.createElement(PY,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:n.maxRadius}),x.createElement(FY,ti({},r,{id:o})),x.createElement(tG,ti({},r,{id:o}))))}Wa.displayName="Pie";var nG=["points"];function AD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Pg(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?AD(Object(a),!0).forEach(function(r){aG(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):AD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function aG(t,n,a){return(n=rG(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function rG(t){var n=sG(t,"string");return typeof n=="symbol"?n:n+""}function sG(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ym.apply(null,arguments)}function iG(t,n){if(t==null)return{};var a,r,i=lG(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function lG(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function oG(t){var{option:n,dotProps:a,className:r}=t;if(x.isValidElement(n))return x.cloneElement(n,a);if(typeof n=="function")return n(a);var i=ut(r,typeof n!="boolean"?n.className:""),o=a??{},{points:u}=o,h=iG(o,nG);return x.createElement(mM,ym({},h,{className:i}))}function cG(t,n){return t==null?!1:n?!0:t.length===1}function uG(t){var{points:n,dot:a,className:r,dotClassName:i,dataKey:o,baseProps:u,needClip:h,clipPathId:p,zIndex:f=on.scatter}=t;if(!cG(n,a))return null;var d=yM(a),v=RL(a),y=n.map((N,j)=>{var w,O,S=Pg(Pg(Pg({r:3},u),v),{},{index:j,cx:(w=N.x)!==null&&w!==void 0?w:void 0,cy:(O=N.y)!==null&&O!==void 0?O:void 0,dataKey:o,value:N.value,payload:N.payload,points:n});return x.createElement(oG,{key:"dot-".concat(j),option:a,dotProps:S,className:i})}),C={};return h&&p!=null&&(C.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(p,")")),x.createElement(ma,{zIndex:f},x.createElement(en,ym({className:r},C),y))}function ED(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function DD(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ED(Object(a),!0).forEach(function(r){dG(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ED(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function dG(t,n,a){return(n=hG(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function hG(t){var n=mG(t,"string");return typeof n=="symbol"?n:n+""}function mG(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var fG={xAxis:{},yAxis:{},zAxis:{}},wM=ha({name:"cartesianAxis",initialState:fG,reducers:{addXAxis:{reducer(t,n){t.xAxis[n.payload.id]=n.payload},prepare:Lt()},replaceXAxis:{reducer(t,n){var{prev:a,next:r}=n.payload;t.xAxis[a.id]!==void 0&&(a.id!==r.id&&delete t.xAxis[a.id],t.xAxis[r.id]=r)},prepare:Lt()},removeXAxis:{reducer(t,n){delete t.xAxis[n.payload.id]},prepare:Lt()},addYAxis:{reducer(t,n){t.yAxis[n.payload.id]=n.payload},prepare:Lt()},replaceYAxis:{reducer(t,n){var{prev:a,next:r}=n.payload;t.yAxis[a.id]!==void 0&&(a.id!==r.id&&delete t.yAxis[a.id],t.yAxis[r.id]=r)},prepare:Lt()},removeYAxis:{reducer(t,n){delete t.yAxis[n.payload.id]},prepare:Lt()},addZAxis:{reducer(t,n){t.zAxis[n.payload.id]=n.payload},prepare:Lt()},replaceZAxis:{reducer(t,n){var{prev:a,next:r}=n.payload;t.zAxis[a.id]!==void 0&&(a.id!==r.id&&delete t.zAxis[a.id],t.zAxis[r.id]=r)},prepare:Lt()},removeZAxis:{reducer(t,n){delete t.zAxis[n.payload.id]},prepare:Lt()},updateYAxisWidth(t,n){var{id:a,width:r}=n.payload,i=t.yAxis[a];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var u=[...o,r].slice(-3);t.yAxis[a]=DD(DD({},t.yAxis[a]),{},{width:r,widthHistory:u})}}}}),{addXAxis:pG,replaceXAxis:vG,removeXAxis:xG,addYAxis:gG,replaceYAxis:yG,removeYAxis:jG,addZAxis:CJ,replaceZAxis:wJ,removeZAxis:AJ,updateYAxisWidth:bG}=wM.actions,NG=wM.reducer,SG=ve([vn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),CG=ve([SG,ds,hs],(t,n,a)=>{if(!(!t||n==null||a==null))return{x:t.left,y:t.top,width:Math.max(0,n-t.left-t.right),height:Math.max(0,a-t.top-t.bottom)}}),Gb=()=>ke(CG),wG=()=>ke(b7);function OD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function kg(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?OD(Object(a),!0).forEach(function(r){AG(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):OD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function AG(t,n,a){return(n=EG(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function EG(t){var n=DG(t,"string");return typeof n=="symbol"?n:n+""}function DG(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var OG=t=>{var{point:n,childIndex:a,mainColor:r,activeDot:i,dataKey:o,clipPath:u}=t;if(i===!1||n.x==null||n.y==null)return null;var h={index:a,dataKey:o,cx:n.x,cy:n.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:n.payload,value:n.value},p=kg(kg(kg({},h),$i(i)),uj(i)),f;return x.isValidElement(i)?f=x.cloneElement(i,p):typeof i=="function"?f=i(p):f=x.createElement(mM,p),x.createElement(en,{className:"recharts-active-dot",clipPath:u},f)};function PD(t){var{points:n,mainColor:a,activeDot:r,itemDataKey:i,clipPath:o,zIndex:u=on.activeDot}=t,h=ke(ei),p=wG();if(n==null||p==null)return null;var f=n.find(d=>p.includes(d.payload));return Ut(f)?null:x.createElement(ma,{zIndex:u},x.createElement(OG,{point:f,childIndex:Number(h),mainColor:a,dataKey:i,activeDot:r,clipPath:o}))}var PG="Invariant failed";function kG(t,n){throw new Error(PG)}var TG=["x","y"];function By(){return By=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},By.apply(null,arguments)}function kD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Tc(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?kD(Object(a),!0).forEach(function(r){MG(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):kD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function MG(t,n,a){return(n=IG(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function IG(t){var n=RG(t,"string");return typeof n=="symbol"?n:n+""}function RG(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function _G(t,n){if(t==null)return{};var a,r,i=BG(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function BG(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function LG(t,n){var{x:a,y:r}=t,i=_G(t,TG),o="".concat(a),u=parseInt(o,10),h="".concat(r),p=parseInt(h,10),f="".concat(n.height||i.height),d=parseInt(f,10),v="".concat(n.width||i.width),y=parseInt(v,10);return Tc(Tc(Tc(Tc(Tc({},n),i),u?{x:u}:{}),p?{y:p}:{}),{},{height:d,width:y,name:n.name,radius:n.radius})}function jm(t){return x.createElement(jM,By({shapeType:"rectangle",propTransformer:LG,activeClassName:"recharts-active-bar"},t))}var FG=function(n){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(Pe(n))return n;var o=Pe(r)||Ut(r);return o?n(r,i):(o||kG(),a)}},zG={},AM=ha({name:"errorBars",initialState:zG,reducers:{addErrorBar:(t,n)=>{var{itemId:a,errorBar:r}=n.payload;t[a]||(t[a]=[]),t[a].push(r)},replaceErrorBar:(t,n)=>{var{itemId:a,prev:r,next:i}=n.payload;t[a]&&(t[a]=t[a].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,n)=>{var{itemId:a,errorBar:r}=n.payload;t[a]&&(t[a]=t[a].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:EJ,replaceErrorBar:DJ,removeErrorBar:OJ}=AM.actions,UG=AM.reducer,$G=["children"];function qG(t,n){if(t==null)return{};var a,r,i=HG(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function HG(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var VG={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},YG=x.createContext(VG);function GG(t){var{children:n}=t,a=qG(t,$G);return x.createElement(YG.Provider,{value:a},n)}function Kb(t,n){var a,r,i=ke(f=>fs(f,t)),o=ke(f=>ps(f,n)),u=(a=i?.allowDataOverflow)!==null&&a!==void 0?a:Nn.allowDataOverflow,h=(r=o?.allowDataOverflow)!==null&&r!==void 0?r:Sn.allowDataOverflow,p=u||h;return{needClip:p,needClipX:u,needClipY:h}}function EM(t){var{xAxisId:n,yAxisId:a,clipPathId:r}=t,i=Gb(),{needClipX:o,needClipY:u,needClip:h}=Kb(n,a);if(!h||!i)return null;var{x:p,y:f,width:d,height:v}=i;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:o?p:p-d/2,y:u?f:f-v/2,width:o?d:d*2,height:u?v:v*2}))}function KG(t,n){return t&&typeof t=="object"&&"zIndex"in t&&typeof t.zIndex=="number"&&Rt(t.zIndex)?t.zIndex:n}var Tg={exports:{}},Mg={};var TD;function WG(){if(TD)return Mg;TD=1;var t=lo();function n(p,f){return p===f&&(p!==0||1/p===1/f)||p!==p&&f!==f}var a=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,u=t.useMemo,h=t.useDebugValue;return Mg.useSyncExternalStoreWithSelector=function(p,f,d,v,y){var C=i(null);if(C.current===null){var N={hasValue:!1,value:null};C.current=N}else N=C.current;C=u(function(){function w(k){if(!O){if(O=!0,S=k,k=v(k),y!==void 0&&N.hasValue){var F=N.value;if(y(F,k))return E=F}return E=k}if(F=E,a(S,k))return F;var P=v(k);return y!==void 0&&y(F,P)?(S=k,F):(S=k,E=P)}var O=!1,S,E,T=d===void 0?null:d;return[function(){return w(f())},T===null?void 0:function(){return w(T())}]},[f,d,v,y]);var j=r(p,C[0],C[1]);return o(function(){N.hasValue=!0,N.value=j},[j]),h(j),j},Mg}var MD;function XG(){return MD||(MD=1,Tg.exports=WG()),Tg.exports}XG();function ZG(t){t()}function QG(){let t=null,n=null;return{clear(){t=null,n=null},notify(){ZG(()=>{let a=t;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=t;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const i=n={callback:a,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ID={notify(){},get:()=>[]};function JG(t,n){let a,r=ID,i=0,o=!1;function u(j){d();const w=r.subscribe(j);let O=!1;return()=>{O||(O=!0,w(),v())}}function h(){r.notify()}function p(){N.onStateChange&&N.onStateChange()}function f(){return o}function d(){i++,a||(a=t.subscribe(p),r=QG())}function v(){i--,a&&i===0&&(a(),a=void 0,r.clear(),r=ID)}function y(){o||(o=!0,d())}function C(){o&&(o=!1,v())}const N={addNestedSub:u,notifyNestedSubs:h,handleChangeWrapper:p,isSubscribed:f,trySubscribe:y,tryUnsubscribe:C,getListeners:()=>r};return N}var eK=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tK=eK(),nK=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aK=nK(),rK=()=>tK||aK?x.useLayoutEffect:x.useEffect,sK=rK();function RD(t,n){return t===n?t!==0||n!==0||1/t===1/n:t!==t&&n!==n}function iK(t,n){if(RD(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;const a=Object.keys(t),r=Object.keys(n);if(a.length!==r.length)return!1;for(let i=0;i<a.length;i++)if(!Object.prototype.hasOwnProperty.call(n,a[i])||!RD(t[a[i]],n[a[i]]))return!1;return!0}var lK=Symbol.for("react-redux-context"),oK=typeof globalThis<"u"?globalThis:{};function cK(){if(!x.createContext)return{};const t=oK[lK]??=new Map;let n=t.get(x.createContext);return n||(n=x.createContext(null),t.set(x.createContext,n)),n}var uK=cK();function dK(t){const{children:n,context:a,serverState:r,store:i}=t,o=x.useMemo(()=>{const p=JG(i);return{store:i,subscription:p,getServerState:r?()=>r:void 0}},[i,r]),u=x.useMemo(()=>i.getState(),[i]);sK(()=>{const{subscription:p}=o;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),u!==i.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[o,u]);const h=a||uK;return x.createElement(h.Provider,{value:o},n)}var hK=dK,mK=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function fK(t,n){return t==null&&n==null?!0:typeof t=="number"&&typeof n=="number"?t===n||t!==t&&n!==n:t===n}function Of(t,n){var a=new Set([...Object.keys(t),...Object.keys(n)]);for(var r of a)if(mK.has(r)){if(t[r]==null&&n[r]==null)continue;if(!iK(t[r],n[r]))return!1}else if(!fK(t[r],n[r]))return!1;return!0}var pK=["onMouseEnter","onMouseLeave","onClick"],vK=["value","background","tooltipPosition"],xK=["id"],gK=["onMouseEnter","onClick","onMouseLeave"];function ls(){return ls=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ls.apply(null,arguments)}function _D(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Yn(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?_D(Object(a),!0).forEach(function(r){yK(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_D(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function yK(t,n,a){return(n=jK(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function jK(t){var n=bK(t,"string");return typeof n=="symbol"?n:n+""}function bK(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function bm(t,n){if(t==null)return{};var a,r,i=NK(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function NK(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var SK=t=>{var{dataKey:n,name:a,fill:r,legendType:i,hide:o}=t;return[{inactive:o,dataKey:n,type:i,color:r,value:mo(a,n),payload:t}]},CK=x.memo(t=>{var{dataKey:n,stroke:a,strokeWidth:r,fill:i,name:o,hide:u,unit:h,tooltipType:p}=t,f={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:i,dataKey:n,nameKey:void 0,name:mo(o,n),hide:u,type:p,color:i,unit:h}};return x.createElement(Vb,{tooltipEntrySettings:f})});function wK(t){var n=ke(ei),{data:a,dataKey:r,background:i,allOtherBarProps:o}=t,{onMouseEnter:u,onMouseLeave:h,onClick:p}=o,f=bm(o,pK),d=$b(u,r),v=qb(h),y=Hb(p,r);if(!i||a==null)return null;var C=$i(i);return x.createElement(ma,{zIndex:KG(i,on.barBackground)},a.map((N,j)=>{var{value:w,background:O,tooltipPosition:S}=N,E=bm(N,vK);if(!O)return null;var T=d(N,j),k=v(N,j),F=y(N,j),P=Yn(Yn(Yn(Yn(Yn({option:i,isActive:String(j)===n},E),{},{fill:"#eee"},O),C),hu(f,N,j)),{},{onMouseEnter:T,onMouseLeave:k,onClick:F,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return x.createElement(jm,ls({key:"background-bar-".concat(j)},P))}))}function AK(t){var{showLabels:n,children:a,rects:r}=t,i=r?.map(o=>{var u={x:o.x,y:o.y,width:o.width,lowerWidth:o.width,upperWidth:o.width,height:o.height};return Yn(Yn({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return x.createElement(dM,{value:n?i:void 0},a)}function EK(t){var{shape:n,activeBar:a,baseProps:r,entry:i,index:o,dataKey:u}=t,h=ke(ei),p=ke(kb),f=a&&String(o)===h&&(p==null||u===p),d=f?a:n;return f?x.createElement(ma,{zIndex:on.activeBar},x.createElement(jm,ls({},r,{name:String(r.name)},i,{isActive:f,option:d,index:o,dataKey:u}))):x.createElement(jm,ls({},r,{name:String(r.name)},i,{isActive:f,option:d,index:o,dataKey:u}))}function DK(t){var{shape:n,baseProps:a,entry:r,index:i,dataKey:o}=t;return x.createElement(jm,ls({},a,{name:String(a.name)},r,{isActive:!1,option:n,index:i,dataKey:o}))}function OK(t){var n,{data:a,props:r}=t,i=(n=da(r))!==null&&n!==void 0?n:{},{id:o}=i,u=bm(i,xK),{shape:h,dataKey:p,activeBar:f}=r,{onMouseEnter:d,onClick:v,onMouseLeave:y}=r,C=bm(r,gK),N=$b(d,p),j=qb(y),w=Hb(v,p);return a?x.createElement(x.Fragment,null,a.map((O,S)=>x.createElement(en,ls({key:"rectangle-".concat(O?.x,"-").concat(O?.y,"-").concat(O?.value,"-").concat(S),className:"recharts-bar-rectangle"},hu(C,O,S),{onMouseEnter:N(O,S),onMouseLeave:j(O,S),onClick:w(O,S)}),f?x.createElement(EK,{shape:h,activeBar:f,baseProps:u,entry:O,index:S,dataKey:p}):x.createElement(DK,{shape:h,baseProps:u,entry:O,index:S,dataKey:p})))):null}function PK(t){var{props:n,previousRectanglesRef:a}=t,{data:r,layout:i,isAnimationActive:o,animationBegin:u,animationDuration:h,animationEasing:p,onAnimationEnd:f,onAnimationStart:d}=n,v=a.current,y=yu(n,"recharts-bar-"),[C,N]=x.useState(!1),j=!C,w=x.useCallback(()=>{typeof f=="function"&&f(),N(!1)},[f]),O=x.useCallback(()=>{typeof d=="function"&&d(),N(!0)},[d]);return x.createElement(AK,{showLabels:j,rects:r},x.createElement(gu,{animationId:y,begin:u,duration:h,isActive:o,easing:p,onAnimationEnd:w,onAnimationStart:O,key:y},S=>{var E=S===1?r:r?.map((T,k)=>{var F=v&&v[k];if(F)return Yn(Yn({},T),{},{x:Tt(F.x,T.x,S),y:Tt(F.y,T.y,S),width:Tt(F.width,T.width,S),height:Tt(F.height,T.height,S)});if(i==="horizontal"){var P=Tt(0,T.height,S),W=Tt(T.stackedBarStart,T.y,S);return Yn(Yn({},T),{},{y:W,height:P})}var R=Tt(0,T.width,S),U=Tt(T.stackedBarStart,T.x,S);return Yn(Yn({},T),{},{width:R,x:U})});return S>0&&(a.current=E??null),E==null?null:x.createElement(en,null,x.createElement(OK,{props:n,data:E}))}),x.createElement(Lb,{label:n.label}),n.children)}function kK(t){var n=x.useRef(null);return x.createElement(PK,{previousRectanglesRef:n,props:t})}var DM=0,TK=(t,n)=>{var a=Array.isArray(t.value)?t.value[1]:t.value;return{x:t.x,y:t.y,value:a,errorVal:St(t,n)}};class MK extends x.PureComponent{render(){var{hide:n,data:a,dataKey:r,className:i,xAxisId:o,yAxisId:u,needClip:h,background:p,id:f}=this.props;if(n||a==null)return null;var d=ut("recharts-bar",i),v=f;return x.createElement(en,{className:d,id:f},h&&x.createElement("defs",null,x.createElement(EM,{clipPathId:v,xAxisId:o,yAxisId:u})),x.createElement(en,{className:"recharts-bar-rectangles",clipPath:h?"url(#clipPath-".concat(v,")"):void 0},x.createElement(wK,{data:a,dataKey:r,background:p,allOtherBarProps:this.props}),x.createElement(kK,this.props)))}}var IK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:DM,xAxisId:0,yAxisId:0,zIndex:on.bar};function RK(t){var{xAxisId:n,yAxisId:a,hide:r,legendType:i,minPointSize:o,activeBar:u,animationBegin:h,animationDuration:p,animationEasing:f,isAnimationActive:d}=t,{needClip:v}=Kb(n,a),y=fo(),C=Hn(),N=Ub(t.children,_n),j=ke(S=>cW(S,n,a,C,t.id,N));if(y!=="vertical"&&y!=="horizontal")return null;var w,O=j?.[0];return O==null||O.height==null||O.width==null?w=0:w=y==="vertical"?O.height/2:O.width/2,x.createElement(GG,{xAxisId:n,yAxisId:a,data:j,dataPointFormatter:TK,errorBarOffset:w},x.createElement(MK,ls({},t,{layout:y,needClip:v,data:j,xAxisId:n,yAxisId:a,hide:r,legendType:i,minPointSize:o,activeBar:u,animationBegin:h,animationDuration:p,animationEasing:f,isAnimationActive:d})))}function _K(t){var{layout:n,barSettings:{dataKey:a,minPointSize:r},pos:i,bandSize:o,xAxis:u,yAxis:h,xAxisTicks:p,yAxisTicks:f,stackedData:d,displayedData:v,offset:y,cells:C,parentViewBox:N,dataStartIndex:j}=t,w=n==="horizontal"?h:u,O=d?w.scale.domain():null,S=t6({numericAxis:w}),E=w.scale(S);return v.map((T,k)=>{var F,P,W,R,U,J;d?F=X5(d[k+j],O):(F=St(T,a),Array.isArray(F)||(F=[S,F]));var se=FG(r,DM)(F[1],k);if(n==="horizontal"){var X,[le,G]=[h.scale(F[0]),h.scale(F[1])];P=Qw({axis:u,ticks:p,bandSize:o,offset:i.offset,entry:T,index:k}),W=(X=G??le)!==null&&X!==void 0?X:void 0,R=i.size;var M=le-G;if(U=Ya(M)?0:M,J={x:P,y:y.top,width:R,height:y.height},Math.abs(se)>0&&Math.abs(U)<Math.abs(se)){var B=wn(U||se)*(Math.abs(se)-Math.abs(U));W-=B,U+=B}}else{var[re,Z]=[u.scale(F[0]),u.scale(F[1])];if(P=re,W=Qw({axis:h,ticks:f,bandSize:o,offset:i.offset,entry:T,index:k}),R=Z-re,U=i.size,J={x:y.left,y:W,width:y.width,height:U},Math.abs(se)>0&&Math.abs(R)<Math.abs(se)){var te=wn(R||se)*(Math.abs(se)-Math.abs(R));R+=te}}if(P==null||W==null||R==null||U==null)return null;var _=Yn(Yn({},T),{},{stackedBarStart:E,x:P,y:W,width:R,height:U,value:d?F:F[1],payload:T,background:J,tooltipPosition:{x:P+R/2,y:W+U/2},parentViewBox:N},C&&C[k]&&C[k].props);return _}).filter(Boolean)}function BK(t){var n=un(t,IK),a=Hn();return x.createElement(Yb,{id:n.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(bM,{legendPayload:SK(n)}),x.createElement(CK,{dataKey:n.dataKey,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,unit:n.unit,tooltipType:n.tooltipType}),x.createElement(CM,{type:"bar",id:r,data:void 0,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,dataKey:n.dataKey,stackId:bP(n.stackId),hide:n.hide,barSize:n.barSize,minPointSize:n.minPointSize,maxBarSize:n.maxBarSize,isPanorama:a}),x.createElement(ma,{zIndex:n.zIndex},x.createElement(RK,ls({},n,{id:r})))))}var Rn=x.memo(BK,Of);Rn.displayName="Bar";function BD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function mh(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?BD(Object(a),!0).forEach(function(r){LK(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):BD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function LK(t,n,a){return(n=FK(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function FK(t){var n=zK(t,"string");return typeof n=="symbol"?n:n+""}function zK(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var UK=(t,n)=>n,$K=(t,n,a)=>a,qK=(t,n,a,r)=>r,HK=(t,n,a,r,i)=>i,Iu=ve([jf,HK],(t,n)=>t.filter(a=>a.type==="bar").find(a=>a.id===n)),VK=ve([Iu],t=>t?.maxBarSize),YK=(t,n,a,r,i,o)=>o,LD=(t,n,a)=>{var r=a??t;if(!Ut(r))return qn(r,n,0)},GK=ve([it,jf,UK,$K,qK],(t,n,a,r,i)=>n.filter(o=>t==="horizontal"?o.xAxisId===a:o.yAxisId===r).filter(o=>o.isPanorama===i).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),KK=(t,n,a,r)=>{var i=it(t);return i==="horizontal"?au(t,"yAxis",a,r):au(t,"xAxis",n,r)},WK=(t,n,a)=>{var r=it(t);return r==="horizontal"?kE(t,"xAxis",n):kE(t,"yAxis",a)},XK=(t,n,a)=>{var r={},i=t.filter(xf),o=t.filter(f=>f.stackId==null),u=i.reduce((f,d)=>(f[d.stackId]||(f[d.stackId]=[]),f[d.stackId].push(d),f),r),h=Object.entries(u).map(f=>{var[d,v]=f,y=v.map(N=>N.dataKey),C=LD(n,a,v[0].barSize);return{stackId:d,dataKeys:y,barSize:C}}),p=o.map(f=>{var d=[f.dataKey].filter(y=>y!=null),v=LD(n,a,f.barSize);return{stackId:void 0,dataKeys:d,barSize:v}});return[...h,...p]},ZK=ve([GK,gq,WK],XK),QK=(t,n,a,r,i)=>{var o,u,h=Iu(t,n,a,r,i);if(h!=null){var p=it(t),f=Vk(t),{maxBarSize:d}=h,v=Ut(d)?f:d,y,C;return p==="horizontal"?(y=Js(t,"xAxis",n,r),C=Qs(t,"xAxis",n,r)):(y=Js(t,"yAxis",a,r),C=Qs(t,"yAxis",a,r)),(o=(u=to(y,C,!0))!==null&&u!==void 0?u:v)!==null&&o!==void 0?o:0}},OM=(t,n,a,r)=>{var i=it(t),o,u;return i==="horizontal"?(o=Js(t,"xAxis",n,r),u=Qs(t,"xAxis",n,r)):(o=Js(t,"yAxis",a,r),u=Qs(t,"yAxis",a,r)),to(o,u)};function JK(t,n,a,r,i){var o=r.length;if(!(o<1)){var u=qn(t,a,0,!0),h,p=[];if(Rt(r[0].barSize)){var f=!1,d=a/o,v=r.reduce((O,S)=>O+(S.barSize||0),0);v+=(o-1)*u,v>=a&&(v-=(o-1)*u,u=0),v>=a&&d>0&&(f=!0,d*=.9,v=o*d);var y=(a-v)/2>>0,C={offset:y-u,size:0};h=r.reduce((O,S)=>{var E,T={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:C.offset+C.size+u,size:f?d:(E=S.barSize)!==null&&E!==void 0?E:0}},k=[...O,T];return C=k[k.length-1].position,k},p)}else{var N=qn(n,a,0,!0);a-2*N-(o-1)*u<=0&&(u=0);var j=(a-2*N-(o-1)*u)/o;j>1&&(j>>=0);var w=Rt(i)?Math.min(j,i):j;h=r.reduce((O,S,E)=>[...O,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:N+(j+u)*E+(j-w)/2,size:w}}],p)}return h}}var eW=(t,n,a,r,i,o,u)=>{var h=Ut(u)?n:u,p=JK(a,r,i!==o?i:o,t,h);return i!==o&&p!=null&&(p=p.map(f=>mh(mh({},f),{},{position:mh(mh({},f.position),{},{offset:f.position.offset-i/2})}))),p},tW=ve([ZK,Vk,xq,Yk,QK,OM,VK],eW),nW=(t,n,a,r)=>Js(t,"xAxis",n,r),aW=(t,n,a,r)=>Js(t,"yAxis",a,r),rW=(t,n,a,r)=>Qs(t,"xAxis",n,r),sW=(t,n,a,r)=>Qs(t,"yAxis",a,r),iW=ve([tW,Iu],(t,n)=>{if(!(t==null||n==null)){var a=t.find(r=>r.stackId===n.stackId&&n.dataKey!=null&&r.dataKeys.includes(n.dataKey));if(a!=null)return a.position}}),lW=(t,n)=>{var a=vf(n);if(!(!t||a==null||n==null)){var{stackId:r}=n;if(r!=null){var i=t[r];if(i){var{stackedData:o}=i;if(o)return o.find(u=>u.key===a)}}}},oW=ve([KK,Iu],lW),cW=ve([vn,bj,nW,aW,rW,sW,iW,it,mf,OM,oW,Iu,YK],(t,n,a,r,i,o,u,h,p,f,d,v,y)=>{var{chartData:C,dataStartIndex:N,dataEndIndex:j}=p;if(!(v==null||u==null||n==null||h!=="horizontal"&&h!=="vertical"||a==null||r==null||i==null||o==null||f==null)){var{data:w}=v,O;if(w!=null&&w.length>0?O=w:O=C?.slice(N,j+1),O!=null)return _K({layout:h,barSettings:v,pos:u,parentViewBox:n,bandSize:f,xAxis:a,yAxis:r,xAxisTicks:i,yAxisTicks:o,stackedData:d,displayedData:O,offset:t,cells:y,dataStartIndex:N})}}),PM=t=>{var{chartData:n}=t,a=Et(),r=Hn();return x.useEffect(()=>r?()=>{}:(a(HE(n)),()=>{a(HE(void 0))}),[n,a,r]),null},FD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},kM=ha({name:"brush",initialState:FD,reducers:{setBrushSettings(t,n){return n.payload==null?FD:n.payload}}}),{setBrushSettings:PJ}=kM.actions,uW=kM.reducer;function dW(t,n,a){return(n=hW(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function hW(t){var n=mW(t,"string");return typeof n=="symbol"?n:n+""}function mW(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}class Wb{static create(n){return new Wb(n)}constructor(n){this.scale=n}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(n){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n!==void 0){if(r)switch(r){case"start":return this.scale(n);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+i}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(a){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}isInRange(n){var a=this.range(),r=a[0],i=a[a.length-1];return r<=i?n>=r&&n<=i:n>=i&&n<=r}}dW(Wb,"EPS",1e-4);function fW(t){return(t%180+180)%180}var pW=function(n){var{width:a,height:r}=n,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=fW(i),u=o*Math.PI/180,h=Math.atan(r/a),p=u>h&&u<Math.PI-h?r/Math.sin(u):a/Math.cos(u);return Math.abs(p)},vW={dots:[],areas:[],lines:[]},TM=ha({name:"referenceElements",initialState:vW,reducers:{addDot:(t,n)=>{t.dots.push(n.payload)},removeDot:(t,n)=>{var a=or(t).dots.findIndex(r=>r===n.payload);a!==-1&&t.dots.splice(a,1)},addArea:(t,n)=>{t.areas.push(n.payload)},removeArea:(t,n)=>{var a=or(t).areas.findIndex(r=>r===n.payload);a!==-1&&t.areas.splice(a,1)},addLine:(t,n)=>{t.lines.push(n.payload)},removeLine:(t,n)=>{var a=or(t).lines.findIndex(r=>r===n.payload);a!==-1&&t.lines.splice(a,1)}}}),{addDot:kJ,removeDot:TJ,addArea:MJ,removeArea:IJ,addLine:RJ,removeLine:_J}=TM.actions,xW=TM.reducer,gW=x.createContext(void 0),yW=t=>{var{children:n}=t,[a]=x.useState("".concat(Hc("recharts"),"-clip")),r=Gb();if(r==null)return null;var{x:i,y:o,width:u,height:h}=r;return x.createElement(gW.Provider,{value:a},x.createElement("defs",null,x.createElement("clipPath",{id:a},x.createElement("rect",{x:i,y:o,height:h,width:u}))),n)};function MM(t,n){if(n<1)return[];if(n===1)return t;for(var a=[],r=0;r<t.length;r+=n)a.push(t[r]);return a}function jW(t,n,a){var r={width:t.width+n.width,height:t.height+n.height};return pW(r,a)}function bW(t,n,a){var r=a==="width",{x:i,y:o,width:u,height:h}=t;return n===1?{start:r?i:o,end:r?i+u:o+h}:{start:r?i+u:o+h,end:r?i:o}}function Nm(t,n,a,r,i){if(t*n<t*r||t*n>t*i)return!1;var o=a();return t*(n-t*o/2-r)>=0&&t*(n+t*o/2-i)<=0}function NW(t,n){return MM(t,n+1)}function SW(t,n,a,r,i){for(var o=(r||[]).slice(),{start:u,end:h}=n,p=0,f=1,d=u,v=function(){var N=r?.[p];if(N===void 0)return{v:MM(r,f)};var j=p,w,O=()=>(w===void 0&&(w=a(N,j)),w),S=N.coordinate,E=p===0||Nm(t,S,O,d,h);E||(p=0,d=u,f+=1),E&&(d=S+t*(O()/2+i),p+=f)},y;f<=o.length;)if(y=v(),y)return y.v;return[]}function zD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Fn(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?zD(Object(a),!0).forEach(function(r){CW(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):zD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function CW(t,n,a){return(n=wW(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function wW(t){var n=AW(t,"string");return typeof n=="symbol"?n:n+""}function AW(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function EW(t,n,a,r,i){for(var o=(r||[]).slice(),u=o.length,{start:h}=n,{end:p}=n,f=function(y){var C=o[y],N,j=()=>(N===void 0&&(N=a(C,y)),N);if(y===u-1){var w=t*(C.coordinate+t*j()/2-p);o[y]=C=Fn(Fn({},C),{},{tickCoord:w>0?C.coordinate-w*t:C.coordinate})}else o[y]=C=Fn(Fn({},C),{},{tickCoord:C.coordinate});if(C.tickCoord!=null){var O=Nm(t,C.tickCoord,j,h,p);O&&(p=C.tickCoord-t*(j()/2+i),o[y]=Fn(Fn({},C),{},{isShow:!0}))}},d=u-1;d>=0;d--)f(d);return o}function DW(t,n,a,r,i,o){var u=(r||[]).slice(),h=u.length,{start:p,end:f}=n;if(o){var d=r[h-1],v=a(d,h-1),y=t*(d.coordinate+t*v/2-f);if(u[h-1]=d=Fn(Fn({},d),{},{tickCoord:y>0?d.coordinate-y*t:d.coordinate}),d.tickCoord!=null){var C=Nm(t,d.tickCoord,()=>v,p,f);C&&(f=d.tickCoord-t*(v/2+i),u[h-1]=Fn(Fn({},d),{},{isShow:!0}))}}for(var N=o?h-1:h,j=function(S){var E=u[S],T,k=()=>(T===void 0&&(T=a(E,S)),T);if(S===0){var F=t*(E.coordinate-t*k()/2-p);u[S]=E=Fn(Fn({},E),{},{tickCoord:F<0?E.coordinate-F*t:E.coordinate})}else u[S]=E=Fn(Fn({},E),{},{tickCoord:E.coordinate});if(E.tickCoord!=null){var P=Nm(t,E.tickCoord,k,p,f);P&&(p=E.tickCoord+t*(k()/2+i),u[S]=Fn(Fn({},E),{},{isShow:!0}))}},w=0;w<N;w++)j(w);return u}function Xb(t,n,a){var{tick:r,ticks:i,viewBox:o,minTickGap:u,orientation:h,interval:p,tickFormatter:f,unit:d,angle:v}=t;if(!i||!i.length||!r)return[];if(Pe(p)||po.isSsr){var y;return(y=NW(i,Pe(p)?p:0))!==null&&y!==void 0?y:[]}var C=[],N=h==="top"||h==="bottom"?"width":"height",j=d&&N==="width"?Uc(d,{fontSize:n,letterSpacing:a}):{width:0,height:0},w=(E,T)=>{var k=typeof f=="function"?f(E.value,T):E.value;return N==="width"?jW(Uc(k,{fontSize:n,letterSpacing:a}),j,v):Uc(k,{fontSize:n,letterSpacing:a})[N]},O=i.length>=2?wn(i[1].coordinate-i[0].coordinate):1,S=bW(o,O,N);return p==="equidistantPreserveStart"?SW(O,S,w,i,u):(p==="preserveStart"||p==="preserveStartEnd"?C=DW(O,S,w,i,u,p==="preserveStartEnd"):C=EW(O,S,w,i,u),C.filter(E=>E.isShow))}var OW=t=>{var{ticks:n,label:a,labelGapWithTick:r=5,tickSize:i=0,tickMargin:o=0}=t,u=0;if(n){Array.from(n).forEach(d=>{if(d){var v=d.getBoundingClientRect();v.width>u&&(u=v.width)}});var h=a?a.getBoundingClientRect().width:0,p=i+o,f=u+p+h+(a?r:0);return Math.round(f)}return 0},PW=["axisLine","width","height","className","hide","ticks","axisType"];function kW(t,n){if(t==null)return{};var a,r,i=TW(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function TW(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function Gi(){return Gi=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Gi.apply(null,arguments)}function UD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function sn(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?UD(Object(a),!0).forEach(function(r){MW(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):UD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function MW(t,n,a){return(n=IW(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function IW(t){var n=RW(t,"string");return typeof n=="symbol"?n:n+""}function RW(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var Qr={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:on.axis};function _W(t){var{x:n,y:a,width:r,height:i,orientation:o,mirror:u,axisLine:h,otherSvgProps:p}=t;if(!h)return null;var f=sn(sn(sn({},p),da(h)),{},{fill:"none"});if(o==="top"||o==="bottom"){var d=+(o==="top"&&!u||o==="bottom"&&u);f=sn(sn({},f),{},{x1:n,y1:a+d*i,x2:n+r,y2:a+d*i})}else{var v=+(o==="left"&&!u||o==="right"&&u);f=sn(sn({},f),{},{x1:n+v*r,y1:a,x2:n+v*r,y2:a+i})}return x.createElement("line",Gi({},f,{className:ut("recharts-cartesian-axis-line",qi(h,"className"))}))}function BW(t,n,a,r,i,o,u,h,p){var f,d,v,y,C,N,j=h?-1:1,w=t.tickSize||u,O=Pe(t.tickCoord)?t.tickCoord:t.coordinate;switch(o){case"top":f=d=t.coordinate,y=a+ +!h*i,v=y-j*w,N=v-j*p,C=O;break;case"left":v=y=t.coordinate,d=n+ +!h*r,f=d-j*w,C=f-j*p,N=O;break;case"right":v=y=t.coordinate,d=n+ +h*r,f=d+j*w,C=f+j*p,N=O;break;default:f=d=t.coordinate,y=a+ +h*i,v=y+j*w,N=v+j*p,C=O;break}return{line:{x1:f,y1:v,x2:d,y2:y},tick:{x:C,y:N}}}function LW(t,n){switch(t){case"left":return n?"start":"end";case"right":return n?"end":"start";default:return"middle"}}function FW(t,n){switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}function zW(t){var{option:n,tickProps:a,value:r}=t,i,o=ut(a.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(n))i=x.cloneElement(n,sn(sn({},a),{},{className:o}));else if(typeof n=="function")i=n(sn(sn({},a),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof n!="boolean"&&(u=ut(u,n?.className)),i=x.createElement(wf,Gi({},a,{className:u}),r)}return i}var UW=x.forwardRef((t,n)=>{var{ticks:a=[],tick:r,tickLine:i,stroke:o,tickFormatter:u,unit:h,padding:p,tickTextProps:f,orientation:d,mirror:v,x:y,y:C,width:N,height:j,tickSize:w,tickMargin:O,fontSize:S,letterSpacing:E,getTicksConfig:T,events:k,axisType:F}=t,P=Xb(sn(sn({},T),{},{ticks:a}),S,E),W=LW(d,v),R=FW(d,v),U=da(T),J=$i(r),se={};typeof i=="object"&&(se=i);var X=sn(sn({},U),{},{fill:"none"},se),le=P.map(B=>sn({entry:B},BW(B,y,C,N,j,d,w,v,O))),G=le.map(B=>{var{entry:re,line:Z}=B;return x.createElement(en,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},i&&x.createElement("line",Gi({},X,Z,{className:ut("recharts-cartesian-axis-tick-line",qi(i,"className"))})))}),M=le.map((B,re)=>{var{entry:Z,tick:te}=B,_=sn(sn(sn(sn({textAnchor:W,verticalAnchor:R},U),{},{stroke:"none",fill:o},J),te),{},{index:re,payload:Z,visibleTicksCount:P.length,tickFormatter:u,padding:p},f);return x.createElement(en,Gi({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},hu(k,Z,re)),r&&x.createElement(zW,{option:r,tickProps:_,value:"".concat(typeof u=="function"?u(Z.value,re):Z.value).concat(h||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(F,"-ticks")},M.length>0&&x.createElement(ma,{zIndex:on.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(F,"-tick-labels"),ref:n},M)),G.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(F,"-tick-lines")},G))}),$W=x.forwardRef((t,n)=>{var{axisLine:a,width:r,height:i,className:o,hide:u,ticks:h,axisType:p}=t,f=kW(t,PW),[d,v]=x.useState(""),[y,C]=x.useState(""),N=x.useRef(null);x.useImperativeHandle(n,()=>({getCalculatedWidth:()=>{var w;return OW({ticks:N.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var j=x.useCallback(w=>{if(w){var O=w.getElementsByClassName("recharts-cartesian-axis-tick-value");N.current=O;var S=O[0];if(S){var E=window.getComputedStyle(S),T=E.fontSize,k=E.letterSpacing;(T!==d||k!==y)&&(v(T),C(k))}}},[d,y]);return u||r!=null&&r<=0||i!=null&&i<=0?null:x.createElement(ma,{zIndex:t.zIndex},x.createElement(en,{className:ut("recharts-cartesian-axis",o)},x.createElement(_W,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:a,otherSvgProps:da(t)}),x.createElement(UW,{ref:j,axisType:p,events:f,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:h,unit:t.unit,width:t.width,x:t.x,y:t.y}),x.createElement(hV,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},x.createElement(NV,{label:t.label,labelRef:t.labelRef}),t.children)))}),Zb=x.forwardRef((t,n)=>{var a=un(t,Qr);return x.createElement($W,Gi({},a,{ref:n}))});Zb.displayName="CartesianAxis";var qW=["x1","y1","x2","y2","key"],HW=["offset"],VW=["xAxisId","yAxisId"],YW=["xAxisId","yAxisId"];function $D(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Un(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?$D(Object(a),!0).forEach(function(r){GW(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):$D(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function GW(t,n,a){return(n=KW(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function KW(t){var n=WW(t,"string");return typeof n=="symbol"?n:n+""}function WW(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Ii(){return Ii=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ii.apply(null,arguments)}function Sm(t,n){if(t==null)return{};var a,r,i=XW(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function XW(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var ZW=t=>{var{fill:n}=t;if(!n||n==="none")return null;var{fillOpacity:a,x:r,y:i,width:o,height:u,ry:h}=t;return x.createElement("rect",{x:r,y:i,ry:h,width:o,height:u,stroke:"none",fill:n,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function IM(t){var{option:n,lineItemProps:a}=t,r;if(x.isValidElement(n))r=x.cloneElement(n,a);else if(typeof n=="function")r=n(a);else{var i,{x1:o,y1:u,x2:h,y2:p,key:f}=a,d=Sm(a,qW),v=(i=da(d))!==null&&i!==void 0?i:{},{offset:y}=v,C=Sm(v,HW);r=x.createElement("line",Ii({},C,{x1:o,y1:u,x2:h,y2:p,fill:"none",key:f}))}return r}function QW(t){var{x:n,width:a,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:u}=t,h=Sm(t,VW),p=i.map((f,d)=>{var v=Un(Un({},h),{},{x1:n,y1:f,x2:n+a,y2:f,key:"line-".concat(d),index:d});return x.createElement(IM,{key:"line-".concat(d),option:r,lineItemProps:v})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},p)}function JW(t){var{y:n,height:a,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:o,yAxisId:u}=t,h=Sm(t,YW),p=i.map((f,d)=>{var v=Un(Un({},h),{},{x1:f,y1:n,x2:f,y2:n+a,key:"line-".concat(d),index:d});return x.createElement(IM,{option:r,lineItemProps:v,key:"line-".concat(d)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},p)}function eX(t){var{horizontalFill:n,fillOpacity:a,x:r,y:i,width:o,height:u,horizontalPoints:h,horizontal:p=!0}=t;if(!p||!n||!n.length||h==null)return null;var f=h.map(v=>Math.round(v+i-i)).sort((v,y)=>v-y);i!==f[0]&&f.unshift(0);var d=f.map((v,y)=>{var C=!f[y+1],N=C?i+u-v:f[y+1]-v;if(N<=0)return null;var j=y%n.length;return x.createElement("rect",{key:"react-".concat(y),y:v,x:r,height:N,width:o,stroke:"none",fill:n[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function tX(t){var{vertical:n=!0,verticalFill:a,fillOpacity:r,x:i,y:o,width:u,height:h,verticalPoints:p}=t;if(!n||!a||!a.length)return null;var f=p.map(v=>Math.round(v+i-i)).sort((v,y)=>v-y);i!==f[0]&&f.unshift(0);var d=f.map((v,y)=>{var C=!f[y+1],N=C?i+u-v:f[y+1]-v;if(N<=0)return null;var j=y%a.length;return x.createElement("rect",{key:"react-".concat(y),x:v,y:o,width:N,height:h,stroke:"none",fill:a[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var nX=(t,n)=>{var{xAxis:a,width:r,height:i,offset:o}=t;return yP(Xb(Un(Un(Un({},Qr),a),{},{ticks:jP(a),viewBox:{x:0,y:0,width:r,height:i}})),o.left,o.left+o.width,n)},aX=(t,n)=>{var{yAxis:a,width:r,height:i,offset:o}=t;return yP(Xb(Un(Un(Un({},Qr),a),{},{ticks:jP(a),viewBox:{x:0,y:0,width:r,height:i}})),o.top,o.top+o.height,n)},rX={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:on.grid};function Xn(t){var n=Sj(),a=Cj(),r=OP(),i=Un(Un({},un(t,rX)),{},{x:Pe(t.x)?t.x:r.left,y:Pe(t.y)?t.y:r.top,width:Pe(t.width)?t.width:r.width,height:Pe(t.height)?t.height:r.height}),{xAxisId:o,yAxisId:u,x:h,y:p,width:f,height:d,syncWithTicks:v,horizontalValues:y,verticalValues:C}=i,N=Hn(),j=ke(R=>TE(R,"xAxis",o,N)),w=ke(R=>TE(R,"yAxis",u,N));if(!br(f)||!br(d)||!Pe(h)||!Pe(p))return null;var O=i.verticalCoordinatesGenerator||nX,S=i.horizontalCoordinatesGenerator||aX,{horizontalPoints:E,verticalPoints:T}=i;if((!E||!E.length)&&typeof S=="function"){var k=y&&y.length,F=S({yAxis:w?Un(Un({},w),{},{ticks:k?y:w.ticks}):void 0,width:n??f,height:a??d,offset:r},k?!0:v);Kh(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof F,"]")),Array.isArray(F)&&(E=F)}if((!T||!T.length)&&typeof O=="function"){var P=C&&C.length,W=O({xAxis:j?Un(Un({},j),{},{ticks:P?C:j.ticks}):void 0,width:n??f,height:a??d,offset:r},P?!0:v);Kh(Array.isArray(W),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof W,"]")),Array.isArray(W)&&(T=W)}return x.createElement(ma,{zIndex:i.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(ZW,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(eX,Ii({},i,{horizontalPoints:E})),x.createElement(tX,Ii({},i,{verticalPoints:T})),x.createElement(QW,Ii({},i,{offset:r,horizontalPoints:E,xAxis:j,yAxis:w})),x.createElement(JW,Ii({},i,{offset:r,verticalPoints:T,xAxis:j,yAxis:w}))))}Xn.displayName="CartesianGrid";function sX(t){var n=$i(t),a=3,r=2;if(n!=null){var{r:i,strokeWidth:o}=n,u=Number(i),h=Number(o);return(Number.isNaN(u)||u<0)&&(u=a),(Number.isNaN(h)||h<0)&&(h=r),{r:u,strokeWidth:h}}return{r:a,strokeWidth:r}}var RM=(t,n,a,r)=>Js(t,"xAxis",n,r),_M=(t,n,a,r)=>Qs(t,"xAxis",n,r),BM=(t,n,a,r)=>Js(t,"yAxis",a,r),LM=(t,n,a,r)=>Qs(t,"yAxis",a,r),iX=ve([it,RM,BM,_M,LM],(t,n,a,r,i)=>us(t,"xAxis")?to(n,r,!1):to(a,i,!1)),lX=(t,n,a,r,i)=>i,FM=ve([jf,lX],(t,n)=>t.filter(a=>a.type==="area").find(a=>a.id===n)),oX=(t,n,a,r,i)=>{var o,u=FM(t,n,a,r,i);if(u!=null){var h=it(t),p=us(h,"xAxis"),f;if(p?f=au(t,"yAxis",a,r):f=au(t,"xAxis",n,r),f!=null){var{stackId:d}=u,v=vf(u);if(!(d==null||v==null)){var y=(o=f[d])===null||o===void 0?void 0:o.stackedData;return y?.find(C=>C.key===v)}}}},cX=ve([it,RM,BM,_M,LM,oX,mf,iX,FM,yq],(t,n,a,r,i,o,u,h,p,f)=>{var{chartData:d,dataStartIndex:v,dataEndIndex:y}=u;if(!(p==null||t!=="horizontal"&&t!=="vertical"||n==null||a==null||r==null||i==null||r.length===0||i.length===0||h==null)){var{data:C}=p,N;if(C&&C.length>0?N=C:N=d?.slice(v,y+1),N!=null)return DX({layout:t,xAxis:n,yAxis:a,xAxisTicks:r,yAxisTicks:i,dataStartIndex:v,areaSettings:p,stackedData:o,displayedData:N,chartBaseValue:f,bandSize:h})}}),uX=["id"],dX=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function zi(){return zi=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},zi.apply(null,arguments)}function zM(t,n){if(t==null)return{};var a,r,i=hX(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function hX(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function qD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function Gl(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?qD(Object(a),!0).forEach(function(r){mX(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):qD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function mX(t,n,a){return(n=fX(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function fX(t){var n=pX(t,"string");return typeof n=="symbol"?n:n+""}function pX(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Cm(t,n){return t&&t!=="none"?t:n}var vX=t=>{var{dataKey:n,name:a,stroke:r,fill:i,legendType:o,hide:u}=t;return[{inactive:u,dataKey:n,type:o,color:Cm(r,i),value:mo(a,n),payload:t}]},xX=x.memo(t=>{var{dataKey:n,data:a,stroke:r,strokeWidth:i,fill:o,name:u,hide:h,unit:p,tooltipType:f}=t,d={dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:o,dataKey:n,nameKey:void 0,name:mo(u,n),hide:h,type:f,color:Cm(r,o),unit:p}};return x.createElement(Vb,{tooltipEntrySettings:d})});function gX(t){var{clipPathId:n,points:a,props:r}=t,{needClip:i,dot:o,dataKey:u}=r,h=da(r);return x.createElement(uG,{points:a,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:u,baseProps:h,needClip:i,clipPathId:n})}function yX(t){var{showLabels:n,children:a,points:r}=t,i=r.map(o=>{var u,h,p={x:(u=o.x)!==null&&u!==void 0?u:0,y:(h=o.y)!==null&&h!==void 0?h:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Gl(Gl({},p),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:p,fill:void 0})});return x.createElement(dM,{value:n?i:void 0},a)}function HD(t){var{points:n,baseLine:a,needClip:r,clipPathId:i,props:o}=t,{layout:u,type:h,stroke:p,connectNulls:f,isRange:d}=o,{id:v}=o,y=zM(o,uX),C=da(y),N=Kn(y);return x.createElement(x.Fragment,null,n?.length>1&&x.createElement(en,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},x.createElement(Wl,zi({},N,{id:v,points:n,connectNulls:f,type:h,baseLine:a,layout:u,stroke:"none",className:"recharts-area-area"})),p!=="none"&&x.createElement(Wl,zi({},C,{className:"recharts-area-curve",layout:u,type:h,connectNulls:f,fill:"none",points:n})),p!=="none"&&d&&x.createElement(Wl,zi({},C,{className:"recharts-area-curve",layout:u,type:h,connectNulls:f,fill:"none",points:a}))),x.createElement(gX,{points:n,props:y,clipPathId:i}))}function jX(t){var{alpha:n,baseLine:a,points:r,strokeWidth:i}=t,o=r[0].y,u=r[r.length-1].y;if(!Rt(o)||!Rt(u))return null;var h=n*Math.abs(o-u),p=Math.max(...r.map(f=>f.x||0));return Pe(a)?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(...a.map(f=>f.x||0),p)),Pe(p)?x.createElement("rect",{x:0,y:o<u?o:o-h,width:p+(i?parseInt("".concat(i),10):1),height:Math.floor(h)}):null}function bX(t){var{alpha:n,baseLine:a,points:r,strokeWidth:i}=t,o=r[0].x,u=r[r.length-1].x;if(!Rt(o)||!Rt(u))return null;var h=n*Math.abs(o-u),p=Math.max(...r.map(f=>f.y||0));return Pe(a)?p=Math.max(a,p):a&&Array.isArray(a)&&a.length&&(p=Math.max(...a.map(f=>f.y||0),p)),Pe(p)?x.createElement("rect",{x:o<u?o:o-h,y:0,width:h,height:Math.floor(p+(i?parseInt("".concat(i),10):1))}):null}function NX(t){var{alpha:n,layout:a,points:r,baseLine:i,strokeWidth:o}=t;return a==="vertical"?x.createElement(jX,{alpha:n,points:r,baseLine:i,strokeWidth:o}):x.createElement(bX,{alpha:n,points:r,baseLine:i,strokeWidth:o})}function SX(t){var{needClip:n,clipPathId:a,props:r,previousPointsRef:i,previousBaselineRef:o}=t,{points:u,baseLine:h,isAnimationActive:p,animationBegin:f,animationDuration:d,animationEasing:v,onAnimationStart:y,onAnimationEnd:C}=r,N=x.useMemo(()=>({points:u,baseLine:h}),[u,h]),j=yu(N,"recharts-area-"),w=B6(),[O,S]=x.useState(!1),E=!O,T=x.useCallback(()=>{typeof C=="function"&&C(),S(!1)},[C]),k=x.useCallback(()=>{typeof y=="function"&&y(),S(!0)},[y]);if(w==null)return null;var F=i.current,P=o.current;return x.createElement(yX,{showLabels:E,points:u},r.children,x.createElement(gu,{animationId:j,begin:f,duration:d,isActive:p,easing:v,onAnimationEnd:T,onAnimationStart:k,key:j},W=>{if(F){var R=F.length/u.length,U=W===1?u:u.map((se,X)=>{var le=Math.floor(X*R);if(F[le]){var G=F[le];return Gl(Gl({},se),{},{x:Tt(G.x,se.x,W),y:Tt(G.y,se.y,W)})}return se}),J;return Pe(h)?J=Tt(P,h,W):Ut(h)||Ya(h)?J=Tt(P,0,W):J=h.map((se,X)=>{var le=Math.floor(X*R);if(Array.isArray(P)&&P[le]){var G=P[le];return Gl(Gl({},se),{},{x:Tt(G.x,se.x,W),y:Tt(G.y,se.y,W)})}return se}),W>0&&(i.current=U,o.current=J),x.createElement(HD,{points:U,baseLine:J,needClip:n,clipPathId:a,props:r})}return W>0&&(i.current=u,o.current=h),x.createElement(en,null,p&&x.createElement("defs",null,x.createElement("clipPath",{id:"animationClipPath-".concat(a)},x.createElement(NX,{alpha:W,points:u,baseLine:h,layout:w,strokeWidth:r.strokeWidth}))),x.createElement(en,{clipPath:"url(#animationClipPath-".concat(a,")")},x.createElement(HD,{points:u,baseLine:h,needClip:n,clipPathId:a,props:r})))}),x.createElement(Lb,{label:r.label}))}function CX(t){var{needClip:n,clipPathId:a,props:r}=t,i=x.useRef(null),o=x.useRef();return x.createElement(SX,{needClip:n,clipPathId:a,props:r,previousPointsRef:i,previousBaselineRef:o})}class wX extends x.PureComponent{render(){var{hide:n,dot:a,points:r,className:i,top:o,left:u,needClip:h,xAxisId:p,yAxisId:f,width:d,height:v,id:y,baseLine:C,zIndex:N}=this.props;if(n)return null;var j=ut("recharts-area",i),w=y,{r:O,strokeWidth:S}=sX(a),E=yM(a),T=O*2+S,k=h?"url(#clipPath-".concat(E?"":"dots-").concat(w,")"):void 0;return x.createElement(ma,{zIndex:N},x.createElement(en,{className:j},h&&x.createElement("defs",null,x.createElement(EM,{clipPathId:w,xAxisId:p,yAxisId:f}),!E&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:u-T/2,y:o-T/2,width:d+T,height:v+T}))),x.createElement(CX,{needClip:h,clipPathId:w,props:this.props})),x.createElement(PD,{points:r,mainColor:Cm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}),this.props.isRange&&Array.isArray(C)&&x.createElement(PD,{points:C,mainColor:Cm(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}))}}var UM={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:on.area};function AX(t){var n,a=un(t,UM),{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:u,connectNulls:h,dot:p,fill:f,fillOpacity:d,hide:v,isAnimationActive:y,legendType:C,stroke:N,xAxisId:j,yAxisId:w}=a,O=zM(a,dX),S=fo(),E=YT(),{needClip:T}=Kb(j,w),k=Hn(),{points:F,isRange:P,baseLine:W}=(n=ke(le=>cX(le,j,w,k,t.id)))!==null&&n!==void 0?n:{},R=Gb();if(S!=="horizontal"&&S!=="vertical"||R==null||E!=="AreaChart"&&E!=="ComposedChart")return null;var{height:U,width:J,x:se,y:X}=R;return!F||!F.length?null:x.createElement(wX,zi({},O,{activeDot:r,animationBegin:i,animationDuration:o,animationEasing:u,baseLine:W,connectNulls:h,dot:p,fill:f,fillOpacity:d,height:U,hide:v,layout:S,isAnimationActive:y==="auto"?!po.isSsr:y,isRange:P,legendType:C,needClip:T,points:F,stroke:N,width:J,left:se,top:X,xAxisId:j,yAxisId:w}))}var EX=(t,n,a,r,i)=>{var o=a??n;if(Pe(o))return o;var u=t==="horizontal"?i:r,h=u.scale.domain();if(u.type==="number"){var p=Math.max(h[0],h[1]),f=Math.min(h[0],h[1]);return o==="dataMin"?f:o==="dataMax"||p<0?p:Math.max(Math.min(h[0],h[1]),0)}return o==="dataMin"?h[0]:o==="dataMax"?h[1]:h[0]};function DX(t){var{areaSettings:{connectNulls:n,baseValue:a,dataKey:r},stackedData:i,layout:o,chartBaseValue:u,xAxis:h,yAxis:p,displayedData:f,dataStartIndex:d,xAxisTicks:v,yAxisTicks:y,bandSize:C}=t,N=i&&i.length,j=EX(o,u,a,h,p),w=o==="horizontal",O=!1,S=f.map((T,k)=>{var F;N?F=i[d+k]:(F=St(T,r),Array.isArray(F)?O=!0:F=[j,F]);var P=F[1]==null||N&&!n&&St(T,r)==null;return w?{x:Zw({axis:h,ticks:v,bandSize:C,entry:T,index:k}),y:P?null:p.scale(F[1]),value:F,payload:T}:{x:P?null:h.scale(F[1]),y:Zw({axis:p,ticks:y,bandSize:C,entry:T,index:k}),value:F,payload:T}}),E;return N||O?E=S.map(T=>{var k=Array.isArray(T.value)?T.value[0]:null;return w?{x:T.x,y:k!=null&&T.y!=null?p.scale(k):null,payload:T.payload}:{x:k!=null?h.scale(k):null,y:T.y,payload:T.payload}}):E=w?p.scale(j):h.scale(j),{points:S,baseLine:E,isRange:O}}function OX(t){var n=un(t,UM),a=Hn();return x.createElement(Yb,{id:n.id,type:"area"},r=>x.createElement(x.Fragment,null,x.createElement(bM,{legendPayload:vX(n)}),x.createElement(xX,{dataKey:n.dataKey,data:n.data,stroke:n.stroke,strokeWidth:n.strokeWidth,fill:n.fill,name:n.name,hide:n.hide,unit:n.unit,tooltipType:n.tooltipType}),x.createElement(CM,{type:"area",id:r,data:n.data,dataKey:n.dataKey,xAxisId:n.xAxisId,yAxisId:n.yAxisId,zAxisId:0,stackId:bP(n.stackId),hide:n.hide,barSize:void 0,baseValue:n.baseValue,isPanorama:a,connectNulls:n.connectNulls}),x.createElement(AX,zi({},n,{id:r}))))}var wo=x.memo(OX,Of);wo.displayName="Area";var PX=["domain","range"],kX=["domain","range"];function VD(t,n){if(t==null)return{};var a,r,i=TX(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function TX(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function YD(t,n){return t===n?!0:Array.isArray(t)&&t.length===2&&Array.isArray(n)&&n.length===2?t[0]===n[0]&&t[1]===n[1]:!1}function $M(t,n){if(t===n)return!0;var{domain:a,range:r}=t,i=VD(t,PX),{domain:o,range:u}=n,h=VD(n,kX);return!YD(a,o)||!YD(r,u)?!1:Of(i,h)}var MX=["dangerouslySetInnerHTML","ticks"],IX=["id"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ly.apply(null,arguments)}function GD(t,n){if(t==null)return{};var a,r,i=RX(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function RX(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function _X(t){var n=Et(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?n(pG(t)):a.current!==t&&n(vG({prev:a.current,next:t})),a.current=t},[t,n]),x.useLayoutEffect(()=>()=>{a.current&&(n(xG(a.current)),a.current=null)},[n]),null}var BX=t=>{var{xAxisId:n,className:a}=t,r=ke(bj),i=Hn(),o="xAxis",u=ke(w=>No(w,o,n,i)),h=ke(w=>CT(w,o,n,i)),p=ke(w=>jT(w,n)),f=ke(w=>v9(w,n)),d=ke(w=>tT(w,n));if(p==null||f==null||d==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=t,C=GD(t,MX),{id:N}=d,j=GD(d,IX);return x.createElement(Zb,Ly({},C,j,{scale:u,x:f.x,y:f.y,width:p.width,height:p.height,className:ut("recharts-".concat(o," ").concat(o),a),viewBox:r,ticks:h,axisType:o}))},LX={allowDataOverflow:Nn.allowDataOverflow,allowDecimals:Nn.allowDecimals,allowDuplicatedCategory:Nn.allowDuplicatedCategory,angle:Nn.angle,axisLine:Qr.axisLine,height:Nn.height,hide:!1,includeHidden:Nn.includeHidden,interval:Nn.interval,minTickGap:Nn.minTickGap,mirror:Nn.mirror,orientation:Nn.orientation,padding:Nn.padding,reversed:Nn.reversed,scale:Nn.scale,tick:Nn.tick,tickCount:Nn.tickCount,tickLine:Qr.tickLine,tickSize:Qr.tickSize,type:Nn.type,xAxisId:0},FX=t=>{var n=un(t,LX);return x.createElement(x.Fragment,null,x.createElement(_X,{allowDataOverflow:n.allowDataOverflow,allowDecimals:n.allowDecimals,allowDuplicatedCategory:n.allowDuplicatedCategory,angle:n.angle,dataKey:n.dataKey,domain:n.domain,height:n.height,hide:n.hide,id:n.xAxisId,includeHidden:n.includeHidden,interval:n.interval,minTickGap:n.minTickGap,mirror:n.mirror,name:n.name,orientation:n.orientation,padding:n.padding,reversed:n.reversed,scale:n.scale,tick:n.tick,tickCount:n.tickCount,tickFormatter:n.tickFormatter,ticks:n.ticks,type:n.type,unit:n.unit}),x.createElement(BX,n))},Zn=x.memo(FX,$M);Zn.displayName="XAxis";var zX=["dangerouslySetInnerHTML","ticks"],UX=["id"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Fy.apply(null,arguments)}function KD(t,n){if(t==null)return{};var a,r,i=$X(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function $X(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function qX(t){var n=Et(),a=x.useRef(null);return x.useLayoutEffect(()=>{a.current===null?n(gG(t)):a.current!==t&&n(yG({prev:a.current,next:t})),a.current=t},[t,n]),x.useLayoutEffect(()=>()=>{a.current&&(n(jG(a.current)),a.current=null)},[n]),null}var HX=t=>{var{yAxisId:n,className:a,width:r,label:i}=t,o=x.useRef(null),u=x.useRef(null),h=ke(bj),p=Hn(),f=Et(),d="yAxis",v=ke(k=>No(k,d,n,p)),y=ke(k=>bT(k,n)),C=ke(k=>g9(k,n)),N=ke(k=>CT(k,d,n,p)),j=ke(k=>nT(k,n));if(x.useLayoutEffect(()=>{if(!(r!=="auto"||!y||Bb(i)||x.isValidElement(i)||j==null)){var k=o.current;if(k){var F=k.getCalculatedWidth();Math.round(y.width)!==Math.round(F)&&f(bG({id:n,width:F}))}}},[N,y,f,i,n,r,j]),y==null||C==null||j==null)return null;var{dangerouslySetInnerHTML:w,ticks:O}=t,S=KD(t,zX),{id:E}=j,T=KD(j,UX);return x.createElement(Zb,Fy({},S,T,{ref:o,labelRef:u,scale:v,x:C.x,y:C.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:y.width,height:y.height,className:ut("recharts-".concat(d," ").concat(d),a),viewBox:h,ticks:N,axisType:d}))},VX={allowDataOverflow:Sn.allowDataOverflow,allowDecimals:Sn.allowDecimals,allowDuplicatedCategory:Sn.allowDuplicatedCategory,angle:Sn.angle,axisLine:Qr.axisLine,hide:!1,includeHidden:Sn.includeHidden,interval:Sn.interval,minTickGap:Sn.minTickGap,mirror:Sn.mirror,orientation:Sn.orientation,padding:Sn.padding,reversed:Sn.reversed,scale:Sn.scale,tick:Sn.tick,tickCount:Sn.tickCount,tickLine:Qr.tickLine,tickSize:Qr.tickSize,type:Sn.type,width:Sn.width,yAxisId:0},YX=t=>{var n=un(t,VX);return x.createElement(x.Fragment,null,x.createElement(qX,{interval:n.interval,id:n.yAxisId,scale:n.scale,type:n.type,domain:n.domain,allowDataOverflow:n.allowDataOverflow,dataKey:n.dataKey,allowDuplicatedCategory:n.allowDuplicatedCategory,allowDecimals:n.allowDecimals,tickCount:n.tickCount,padding:n.padding,includeHidden:n.includeHidden,reversed:n.reversed,ticks:n.ticks,width:n.width,orientation:n.orientation,mirror:n.mirror,hide:n.hide,unit:n.unit,name:n.name,angle:n.angle,minTickGap:n.minTickGap,tick:n.tick,tickFormatter:n.tickFormatter}),x.createElement(HX,n))},Qn=x.memo(YX,$M);Qn.displayName="YAxis";var GX=(t,n)=>n,Qb=ve([GX,it,Jk,gn,zT,vs,M7,vn],z7),Jb=t=>{var n=t.currentTarget.getBoundingClientRect(),a=n.width/t.currentTarget.offsetWidth,r=n.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-n.left)/a),chartY:Math.round((t.clientY-n.top)/r)}},qM=Ga("mouseClick"),HM=pu();HM.startListening({actionCreator:qM,effect:(t,n)=>{var a=t.payload,r=Qb(n.getState(),Jb(a));r?.activeIndex!=null&&n.dispatch(T9({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var zy=Ga("mouseMove"),VM=pu(),fh=null;VM.startListening({actionCreator:zy,effect:(t,n)=>{var a=t.payload;fh!==null&&cancelAnimationFrame(fh);var r=Jb(a);fh=requestAnimationFrame(()=>{var i=n.getState(),o=wb(i,i.tooltip.settings.shared);if(o==="axis"){var u=Qb(i,r);u?.activeIndex!=null?n.dispatch(TT({activeIndex:u.activeIndex,activeDataKey:void 0,activeCoordinate:u.activeCoordinate})):n.dispatch(kT())}fh=null})}});var WD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},YM=ha({name:"rootProps",initialState:WD,reducers:{updateOptions:(t,n)=>{var a;t.accessibilityLayer=n.payload.accessibilityLayer,t.barCategoryGap=n.payload.barCategoryGap,t.barGap=(a=n.payload.barGap)!==null&&a!==void 0?a:WD.barGap,t.barSize=n.payload.barSize,t.maxBarSize=n.payload.maxBarSize,t.stackOffset=n.payload.stackOffset,t.syncId=n.payload.syncId,t.syncMethod=n.payload.syncMethod,t.className=n.payload.className,t.baseValue=n.payload.baseValue,t.reverseStackOrder=n.payload.reverseStackOrder}}}),KX=YM.reducer,{updateOptions:WX}=YM.actions,GM=ha({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,n)=>n.payload}}),{updatePolarOptions:XX}=GM.actions,ZX=GM.reducer,KM=Ga("keyDown"),WM=Ga("focus"),e0=pu();e0.startListening({actionCreator:KM,effect:(t,n)=>{var a=n.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=a.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Ab(i,Co(a),Du(a),Tu(a)),h=u==null?-1:Number(u);if(!(!Number.isFinite(h)||h<0)){var p=vs(a);if(o==="Enter"){var f=pm(a,"axis","hover",String(i.index));n.dispatch(ky({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:f}));return}var d=N9(a),v=d==="left-to-right"?1:-1,y=o==="ArrowRight"?1:-1,C=h+y*v;if(!(p==null||C>=p.length||C<0)){var N=pm(a,"axis","hover",String(C));n.dispatch(ky({active:!0,activeIndex:C.toString(),activeDataKey:void 0,activeCoordinate:N}))}}}}}});e0.startListening({actionCreator:WM,effect:(t,n)=>{var a=n.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=a.tooltip;if(!i.active&&i.index==null){var o="0",u=pm(a,"axis","hover",String(o));n.dispatch(ky({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var Ua=Ga("externalEvent"),XM=pu(),Ig=new Map;XM.startListening({actionCreator:Ua,effect:(t,n)=>{var{handler:a,reactEvent:r}=t.payload;if(a!=null){r.persist();var i=r.type,o=Ig.get(i);o!==void 0&&cancelAnimationFrame(o);var u=requestAnimationFrame(()=>{try{var h=n.getState(),p={activeCoordinate:g7(h),activeDataKey:kb(h),activeIndex:ei(h),activeLabel:qT(h),activeTooltipIndex:ei(h),isTooltipActive:y7(h)};a(p,r)}finally{Ig.delete(i)}});Ig.set(i,u)}}});var QX=ve([So],t=>t.tooltipItemPayloads),JX=ve([QX,Pu,(t,n,a)=>n,(t,n,a)=>a],(t,n,a,r)=>{var i=t.find(h=>h.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var u=n(o,a);return u}}}),ZM=Ga("touchMove"),QM=pu();QM.startListening({actionCreator:ZM,effect:(t,n)=>{var a=t.payload;if(!(a.touches==null||a.touches.length===0)){var r=n.getState(),i=wb(r,r.tooltip.settings.shared);if(i==="axis"){var o=Qb(r,Jb({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));o?.activeIndex!=null&&n.dispatch(TT({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var u,h=a.touches[0];if(document.elementFromPoint==null)return;var p=document.elementFromPoint(h.clientX,h.clientY);if(!p||!p.getAttribute)return;var f=p.getAttribute(SP),d=(u=p.getAttribute(CP))!==null&&u!==void 0?u:void 0,v=JX(n.getState(),f,d);n.dispatch(PT({activeDataKey:d,activeIndex:f,activeCoordinate:v}))}}}});var eZ=HO({brush:uW,cartesianAxis:NG,chartData:xH,errorBars:UG,graphicalItems:DY,layout:H5,legend:Q6,options:hH,polarAxis:qV,polarOptions:ZX,referenceElements:xW,rootProps:KX,tooltip:M9,zIndex:eH}),tZ=function(n){return p5({reducer:eZ,preloadedState:n,middleware:a=>{var r;return a({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([HM.middleware,VM.middleware,e0.middleware,XM.middleware,QM.middleware])},enhancers:a=>{var r=a;return typeof a=="function"&&(r=a()),r.concat(sP({type:"raf"}))},devTools:po.devToolsEnabled})};function JM(t){var{preloadedState:n,children:a,reduxStoreName:r}=t,i=Hn(),o=x.useRef(null);if(i)return a;o.current==null&&(o.current=tZ(n));var u=hj;return x.createElement(hK,{context:u,store:o.current},a)}function nZ(t){var{layout:n,margin:a}=t,r=Et(),i=Hn();return x.useEffect(()=>{i||(r(U5(n)),r(z5(a)))},[r,i,n,a]),null}var eI=x.memo(nZ,Of);function tI(t){var n=Et();return x.useEffect(()=>{n(WX(t))},[n,t]),null}function XD(t){var{zIndex:n,isPanorama:a}=t,r=a?"recharts-zindex-panorama-":"recharts-zindex-",i=NM("".concat(r).concat(n)),o=Et();return x.useLayoutEffect(()=>(o(Q7({zIndex:n,elementId:i,isPanorama:a})),()=>{o(J7({zIndex:n,isPanorama:a}))}),[o,n,i,a]),x.createElement("g",{tabIndex:-1,id:i})}function ZD(t){var{children:n,isPanorama:a}=t,r=ke($7);if(!r||r.length===0)return n;var i=r.filter(u=>u<0),o=r.filter(u=>u>0);return x.createElement(x.Fragment,null,i.map(u=>x.createElement(XD,{key:u,zIndex:u,isPanorama:a})),n,o.map(u=>x.createElement(XD,{key:u,zIndex:u,isPanorama:a})))}var aZ=["children"];function rZ(t,n){if(t==null)return{};var a,r,i=sZ(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function sZ(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}function wm(){return wm=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},wm.apply(null,arguments)}var iZ={width:"100%",height:"100%",display:"block"},lZ=x.forwardRef((t,n)=>{var a=Sj(),r=Cj(),i=zP();if(!br(a)||!br(r))return null;var{children:o,otherAttributes:u,title:h,desc:p}=t,f,d;return u!=null&&(typeof u.tabIndex=="number"?f=u.tabIndex:f=i?0:void 0,typeof u.role=="string"?d=u.role:d=i?"application":void 0),x.createElement(nj,wm({},u,{title:h,desc:p,role:d,tabIndex:f,width:a,height:r,style:iZ,ref:n}),o)}),oZ=t=>{var{children:n}=t,a=ke(ef);if(!a)return null;var{width:r,height:i,y:o,x:u}=a;return x.createElement(nj,{width:r,height:i,x:u,y:o},n)},QD=x.forwardRef((t,n)=>{var{children:a}=t,r=rZ(t,aZ),i=Hn();return i?x.createElement(oZ,null,x.createElement(ZD,{isPanorama:!0},a)):x.createElement(lZ,wm({ref:n},r),x.createElement(ZD,{isPanorama:!1},a))});function cZ(){var t=Et(),[n,a]=x.useState(null),r=ke(l6);return x.useEffect(()=>{if(n!=null){var i=n.getBoundingClientRect(),o=i.width/n.offsetWidth;Rt(o)&&o!==r&&t(q5(o))}},[n,t,r]),a}function JD(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function uZ(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?JD(Object(a),!0).forEach(function(r){dZ(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):JD(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function dZ(t,n,a){return(n=hZ(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function hZ(t){var n=mZ(t,"string");return typeof n=="symbol"?n:n+""}function mZ(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}function Ki(){return Ki=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ki.apply(null,arguments)}var fZ=()=>(AH(),null);function Am(t){if(typeof t=="number")return t;if(typeof t=="string"){var n=parseFloat(t);if(!Number.isNaN(n))return n}return 0}var pZ=x.forwardRef((t,n)=>{var a,r,i=x.useRef(null),[o,u]=x.useState({containerWidth:Am((a=t.style)===null||a===void 0?void 0:a.width),containerHeight:Am((r=t.style)===null||r===void 0?void 0:r.height)}),h=x.useCallback((f,d)=>{u(v=>{var y=Math.round(f),C=Math.round(d);return v.containerWidth===y&&v.containerHeight===C?v:{containerWidth:y,containerHeight:C}})},[]),p=x.useCallback(f=>{if(typeof n=="function"&&n(f),f!=null&&typeof ResizeObserver<"u"){var{width:d,height:v}=f.getBoundingClientRect();h(d,v);var y=N=>{var{width:j,height:w}=N[0].contentRect;h(j,w)},C=new ResizeObserver(y);C.observe(f),i.current=C}},[n,h]);return x.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[h]),x.createElement(x.Fragment,null,x.createElement(nf,{width:o.containerWidth,height:o.containerHeight}),x.createElement("div",Ki({ref:p},t)))}),vZ=x.forwardRef((t,n)=>{var{width:a,height:r}=t,[i,o]=x.useState({containerWidth:Am(a),containerHeight:Am(r)}),u=x.useCallback((p,f)=>{o(d=>{var v=Math.round(p),y=Math.round(f);return d.containerWidth===v&&d.containerHeight===y?d:{containerWidth:v,containerHeight:y}})},[]),h=x.useCallback(p=>{if(typeof n=="function"&&n(p),p!=null){var{width:f,height:d}=p.getBoundingClientRect();u(f,d)}},[n,u]);return x.createElement(x.Fragment,null,x.createElement(nf,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Ki({ref:h},t)))}),xZ=x.forwardRef((t,n)=>{var{width:a,height:r}=t;return x.createElement(x.Fragment,null,x.createElement(nf,{width:a,height:r}),x.createElement("div",Ki({ref:n},t)))}),gZ=x.forwardRef((t,n)=>{var{width:a,height:r}=t;return ts(a)||ts(r)?x.createElement(vZ,Ki({},t,{ref:n})):x.createElement(xZ,Ki({},t,{ref:n}))});function yZ(t){return t===!0?pZ:gZ}var jZ=x.forwardRef((t,n)=>{var{children:a,className:r,height:i,onClick:o,onContextMenu:u,onDoubleClick:h,onMouseDown:p,onMouseEnter:f,onMouseLeave:d,onMouseMove:v,onMouseUp:y,onTouchEnd:C,onTouchMove:N,onTouchStart:j,style:w,width:O,responsive:S,dispatchTouchEvents:E=!0}=t,T=x.useRef(null),k=Et(),[F,P]=x.useState(null),[W,R]=x.useState(null),U=cZ(),J=Nj(),se=J?.width>0?J.width:O,X=J?.height>0?J.height:i,le=x.useCallback(V=>{U(V),typeof n=="function"&&n(V),P(V),R(V),V!=null&&(T.current=V)},[U,n,P,R]),G=x.useCallback(V=>{k(qM(V)),k(Ua({handler:o,reactEvent:V}))},[k,o]),M=x.useCallback(V=>{k(zy(V)),k(Ua({handler:f,reactEvent:V}))},[k,f]),B=x.useCallback(V=>{k(kT()),k(Ua({handler:d,reactEvent:V}))},[k,d]),re=x.useCallback(V=>{k(zy(V)),k(Ua({handler:v,reactEvent:V}))},[k,v]),Z=x.useCallback(()=>{k(WM())},[k]),te=x.useCallback(V=>{k(KM(V.key))},[k]),_=x.useCallback(V=>{k(Ua({handler:u,reactEvent:V}))},[k,u]),z=x.useCallback(V=>{k(Ua({handler:h,reactEvent:V}))},[k,h]),L=x.useCallback(V=>{k(Ua({handler:p,reactEvent:V}))},[k,p]),$=x.useCallback(V=>{k(Ua({handler:y,reactEvent:V}))},[k,y]),q=x.useCallback(V=>{k(Ua({handler:j,reactEvent:V}))},[k,j]),A=x.useCallback(V=>{E&&k(ZM(V)),k(Ua({handler:N,reactEvent:V}))},[k,E,N]),K=x.useCallback(V=>{k(Ua({handler:C,reactEvent:V}))},[k,C]),xe=yZ(S);return x.createElement(ZT.Provider,{value:F},x.createElement(iO.Provider,{value:W},x.createElement(xe,{width:se??w?.width,height:X??w?.height,className:ut("recharts-wrapper",r),style:uZ({position:"relative",cursor:"default",width:se,height:X},w),onClick:G,onContextMenu:_,onDoubleClick:z,onFocus:Z,onKeyDown:te,onMouseDown:L,onMouseEnter:M,onMouseLeave:B,onMouseMove:re,onMouseUp:$,onTouchEnd:K,onTouchMove:A,onTouchStart:q,ref:le},x.createElement(fZ,null),a)))}),bZ=["width","height","responsive","children","className","style","compact","title","desc"];function NZ(t,n){if(t==null)return{};var a,r,i=SZ(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function SZ(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var nI=x.forwardRef((t,n)=>{var{width:a,height:r,responsive:i,children:o,className:u,style:h,compact:p,title:f,desc:d}=t,v=NZ(t,bZ),y=da(v);return p?x.createElement(x.Fragment,null,x.createElement(nf,{width:a,height:r}),x.createElement(QD,{otherAttributes:y,title:f,desc:d},o)):x.createElement(jZ,{className:u,style:h,width:a,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},x.createElement(QD,{otherAttributes:y,title:f,desc:d,ref:n},x.createElement(yW,null,o)))});function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Uy.apply(null,arguments)}var CZ={top:5,right:5,bottom:5,left:5},wZ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:CZ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},aI=x.forwardRef(function(n,a){var r,i=un(n.categoricalChartProps,wZ),{chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,categoricalChartProps:f}=n,d={chartName:o,defaultTooltipEventType:u,validateTooltipEventTypes:h,tooltipPayloadSearcher:p,eventEmitter:void 0};return x.createElement(JM,{preloadedState:{options:d},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:o},x.createElement(PM,{chartData:f.data}),x.createElement(eI,{layout:i.layout,margin:i.margin}),x.createElement(tI,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(nI,Uy({},i,{ref:a})))}),AZ=["axis","item"],os=x.forwardRef((t,n)=>x.createElement(aI,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:AZ,tooltipPayloadSearcher:_b,categoricalChartProps:t,ref:n}));function EZ(t){var n=Et();return x.useEffect(()=>{n(XX(t))},[n,t]),null}var DZ=["layout"];function $y(){return $y=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)({}).hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},$y.apply(null,arguments)}function OZ(t,n){if(t==null)return{};var a,r,i=PZ(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],n.indexOf(a)===-1&&{}.propertyIsEnumerable.call(t,a)&&(i[a]=t[a])}return i}function PZ(t,n){if(t==null)return{};var a={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(n.indexOf(r)!==-1)continue;a[r]=t[r]}return a}var kZ={top:5,right:5,bottom:5,left:5},rI={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:kZ,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},TZ=x.forwardRef(function(n,a){var r,i=un(n.categoricalChartProps,rI),{layout:o}=i,u=OZ(i,DZ),{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:f,tooltipPayloadSearcher:d}=n,v={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,eventEmitter:void 0};return x.createElement(JM,{preloadedState:{options:v},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:h},x.createElement(PM,{chartData:i.data}),x.createElement(eI,{layout:o,margin:i.margin}),x.createElement(tI,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),x.createElement(EZ,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(nI,$y({},u,{ref:a})))});function e2(t,n){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,r)}return a}function t2(t){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?e2(Object(a),!0).forEach(function(r){MZ(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e2(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function MZ(t,n,a){return(n=IZ(n))in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function IZ(t){var n=RZ(t,"string");return typeof n=="symbol"?n:n+""}function RZ(t,n){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,n);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}var _Z=["item"],BZ=t2(t2({},rI),{},{layout:"centric",startAngle:0,endAngle:360}),ur=x.forwardRef((t,n)=>{var a=un(t,BZ);return x.createElement(TZ,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_Z,tooltipPayloadSearcher:_b,categoricalChartProps:a,ref:n})}),LZ=["axis"],Ru=x.forwardRef((t,n)=>x.createElement(aI,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:LZ,tooltipPayloadSearcher:_b,categoricalChartProps:t,ref:n}));const De={getAll:t=>{const n=t?`?category=${t}`:"";return oe.get(`/investments${n}`)},getOne:t=>oe.get(`/investments/${t}`),getById:t=>oe.get(`/investments/${t}`),create:t=>oe.post("/investments",t),update:(t,n)=>oe.put(`/investments/${t}`,n),delete:t=>oe.delete(`/investments/${t}`),getStats:()=>oe.get("/investments/stats/summary"),getLoans:()=>oe.get("/investments/loans/list"),updatePaymentStatus:(t,n,a)=>oe.patch(`/investments/${t}/payment/${n}`,a),getBillDatesAnalytics:(t={})=>{const n=t.year?`year=${t.year}`:"",a=t.horizonDays?`horizonDays=${t.horizonDays}`:"",r=[n,a].filter(Boolean).join("&"),i=r?`?${r}`:"";return oe.get(`/investments/bill-dates/analytics${i}`)},getWeeklyAppointments:(t={})=>{const a=[t.weekStart?`weekStart=${t.weekStart}`:""].filter(Boolean).join("&"),r=a?`?${a}`:"";return oe.get(`/investments/appointments/weekly${r}`)},getYearlyCalendar:(t={})=>{const n=t.year?`year=${t.year}`:"",a=t.categories&&t.categories.length?`categories=${t.categories.join(",")}`:"",r=[n,a].filter(Boolean).join("&"),i=r?`?${r}`:"";return oe.get(`/investments/calendar/yearly${i}`)}},_u=async(t,n)=>{try{const a=FZ(t,n);if(a.length===0)return console.log("No bills to sync from",n),{success:!0,message:"No bills to sync",count:0};const r=[];for(const i of a)try{const o=await zZ(i);o?(await De.update(o._id,n2(i)),r.push({action:"updated",provider:i.provider})):(await De.create(n2(i)),r.push({action:"created",provider:i.provider}))}catch(o){console.error(`Error syncing bill for ${i.provider}:`,o),r.push({action:"failed",provider:i.provider,error:o.message})}return console.log(` Synced ${r.length} bill(s) from ${n}:`,r),{success:!0,message:`Synced ${r.length} bill(s)`,count:r.length,results:r}}catch(a){return console.error("Error in syncBillScheduleFromForm:",a),{success:!1,message:a.message,count:0}}},n2=t=>({category:"daily-bill-checklist",type:"Bill",name:`${t.billType} - ${t.billName||t.provider||""}`.trim(),provider:t.provider||t.billType,accountNumber:t.accountNumber||"",amount:Number(t.amount)||0,startDate:t.startDate||new Date().toISOString().slice(0,10),maturityDate:t.dueDate||void 0,frequency:t.cycle||"monthly",notes:JSON.stringify({...t,syncedFrom:t.source,lastSynced:new Date().toISOString()})}),FZ=(t,n)=>{const a=[];switch(n){case"MobileEmailDetails":t.type==="Mobile"&&t.planName&&t.amount&&a.push({billType:"Mobile",billName:t.planName,provider:t.carrier||"Mobile Carrier",accountNumber:t.mobile||t.accountNo||"",cycle:"monthly",amount:t.amount||t.planCost||0,dueDate:t.planExpiryDate||sI(t.billDate),autoDebit:t.autoRenewal||!1,paymentMethod:"UPI",status:"pending",startDate:t.planStartDate||new Date().toISOString().slice(0,10),source:"MobileEmailDetails",notes:`Mobile: ${t.mobile||"N/A"}, Plan: ${t.planName||"N/A"}`}),t.type==="Email"&&t.isPaid&&t.subscriptionCost&&a.push({billType:"Internet",billName:`Email - ${t.provider}`,provider:t.provider||"Email Provider",accountNumber:t.email||"",cycle:"yearly",amount:t.subscriptionCost||0,dueDate:t.renewalDate||a2(),autoDebit:t.autoRenewal||!1,paymentMethod:"Card",status:"pending",startDate:new Date().toISOString().slice(0,10),source:"MobileEmailDetails",notes:`Email: ${t.email||"N/A"}`});break;case"MfInsuranceShares":t.insuranceType&&t.premium&&a.push({billType:"Insurance",billName:t.policyName||"Insurance Policy",provider:t.insuranceCompany||"Insurance Company",accountNumber:t.policyNumber||"",cycle:t.premiumFrequency==="Monthly"?"monthly":t.premiumFrequency==="Quarterly"?"quarterly":"yearly",amount:t.premium||0,dueDate:t.nextPremiumDate||t.maturityDate,autoDebit:t.autoDebit||!1,paymentMethod:"NetBanking",status:"pending",startDate:t.startDate||new Date().toISOString().slice(0,10),source:"MfInsuranceShares",notes:`Policy: ${t.policyNumber||"N/A"}, Sum Assured: ${t.sumAssured||"N/A"}`}),t.investmentType==="SIP"&&t.sipAmount&&a.push({billType:"Investment",billName:`SIP - ${t.fundName||"Mutual Fund"}`,provider:t.amcName||"AMC",accountNumber:t.folioNumber||"",cycle:"monthly",amount:t.sipAmount||0,dueDate:t.sipDate||$Z(t.sipDay),autoDebit:!0,paymentMethod:"SIP",status:"pending",startDate:t.sipStartDate||new Date().toISOString().slice(0,10),source:"MfInsuranceShares",notes:`Fund: ${t.fundName||"N/A"}, Folio: ${t.folioNumber||"N/A"}`});break;case"NpsPpfInvestment":t.accountType==="NPS"&&t.contributionAmount&&a.push({billType:"Investment",billName:"NPS Contribution",provider:"National Pension System",accountNumber:t.pranNumber||t.accountNumber||"",cycle:t.contributionFrequency||"monthly",amount:t.contributionAmount||0,dueDate:t.nextContributionDate||iI(),autoDebit:t.autoDebit||!1,paymentMethod:"NetBanking",status:"pending",startDate:t.startDate||new Date().toISOString().slice(0,10),source:"NpsPpfInvestment",notes:`PRAN: ${t.pranNumber||"N/A"}`}),t.accountType==="PPF"&&t.annualContribution&&a.push({billType:"Investment",billName:"PPF Annual Contribution",provider:"Public Provident Fund",accountNumber:t.accountNumber||"",cycle:"yearly",amount:t.annualContribution||0,dueDate:t.contributionDate||a2(),autoDebit:!1,paymentMethod:"NetBanking",status:"pending",startDate:t.startDate||new Date().toISOString().slice(0,10),source:"NpsPpfInvestment",notes:`Account: ${t.accountNumber||"N/A"}`});break;case"GoldSgbInvestment":if(t.investmentType==="SGB"&&t.interestRate){const r=(t.currentValue||t.purchasePrice||0)*(t.interestRate||2.5)/100/2;a.push({billType:"Investment",billName:"SGB Interest Payment",provider:t.provider||"SGB",accountNumber:t.certificateNumber||"",cycle:"half-yearly",amount:r,dueDate:t.nextInterestDate||UZ(),autoDebit:!1,paymentMethod:"Direct Credit",status:"pending",startDate:t.purchaseDate||new Date().toISOString().slice(0,10),source:"GoldSgbInvestment",notes:`Certificate: ${t.certificateNumber||"N/A"}, Maturity: ${t.maturityDate||"N/A"}`})}break;case"DigitalAssets":if(t.domain&&t.domain.domainName&&t.domain.expiryDate){const r=new Date(t.domain.expiryDate);r.setDate(r.getDate()-30),a.push({billType:"Internet",billName:`Domain - ${t.domain.domainName}`,provider:t.domain.serviceProvider||"Domain Registrar",accountNumber:t.domain.adminId||"",cycle:"yearly",amount:t.domain.cost||1e3,dueDate:r.toISOString().slice(0,10),autoDebit:t.domain.autoRenewal||!1,paymentMethod:"Card",status:"pending",startDate:t.domain.startDate||new Date().toISOString().slice(0,10),source:"DigitalAssets",notes:`Domain: ${t.domain.domainName}, Expiry: ${t.domain.expiryDate}`})}t.hosting&&t.hosting.serviceProvider&&t.hosting.expiryDate&&a.push({billType:"Internet",billName:`Hosting - ${t.projectName||"Website"}`,provider:t.hosting.serviceProvider||"Hosting Provider",accountNumber:t.hosting.userId||"",cycle:t.hosting.billingCycle||"yearly",amount:t.hosting.cost||2e3,dueDate:t.hosting.expiryDate,autoDebit:t.hosting.autoRenewal||!1,paymentMethod:"Card",status:"pending",startDate:t.hosting.startDate||new Date().toISOString().slice(0,10),source:"DigitalAssets",notes:`Project: ${t.projectName||"N/A"}, Server: ${t.hosting.serverType||"N/A"}`}),t.ssl&&t.ssl.expiryDate&&t.ssl.cost&&a.push({billType:"Internet",billName:`SSL Certificate - ${t.projectName||"Website"}`,provider:t.ssl.provider||"SSL Provider",accountNumber:"",cycle:"yearly",amount:t.ssl.cost||500,dueDate:t.ssl.expiryDate,autoDebit:t.ssl.autoRenewal||!1,paymentMethod:"Card",status:"pending",startDate:new Date().toISOString().slice(0,10),source:"DigitalAssets",notes:`SSL Type: ${t.ssl.type||"N/A"}`});break;case"MembershipList":if(t.organizationName&&t.amount){const r=t.paymentFrequency==="Monthly"?"monthly":t.paymentFrequency==="Quarterly"?"quarterly":t.paymentFrequency==="Yearly"?"yearly":"one-time";a.push({billType:t.membershipType||"Membership",billName:t.organizationName,provider:t.organizationName,accountNumber:t.membershipNumber||"",cycle:r,amount:t.amount||0,dueDate:t.renewalDate||t.endDate,autoDebit:t.autoRenewal||!1,paymentMethod:"UPI",status:t.status==="Active"?"pending":"inactive",startDate:t.startDate||new Date().toISOString().slice(0,10),source:"MembershipList",notes:`Member: ${t.memberName||"N/A"}, Benefits: ${(t.benefits||[]).join(", ")}`})}break;default:console.warn(`Unknown form type for bill sync: ${n}`);break}return a.filter(r=>r.provider&&r.provider.trim()!==""&&r.amount>0)},zZ=async t=>{try{return((await De.getAll("daily-bill-checklist")).data.investments||[]).find(i=>{const o=(i.provider||"").toLowerCase().trim(),u=(t.provider||"").toLowerCase().trim(),h=(i.accountNumber||"").toLowerCase().trim(),p=(t.accountNumber||"").toLowerCase().trim();if(o===u&&h===p&&h!=="")return!0;if(o===u&&!p){let f={};try{f=i.notes?JSON.parse(i.notes):{}}catch{}return f.billType===t.billType}return!1})||null}catch(n){return console.error("Error finding existing bill:",n),null}},sI=t=>{if(!t)return null;const n=new Date;let a=new Date(n.getFullYear(),n.getMonth(),parseInt(t));return a<n&&a.setMonth(a.getMonth()+1),a.toISOString().slice(0,10)},iI=()=>{const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,t.getDate()).toISOString().slice(0,10)},a2=()=>{const t=new Date;return new Date(t.getFullYear()+1,t.getMonth(),t.getDate()).toISOString().slice(0,10)},UZ=()=>{const t=new Date;return new Date(t.getFullYear(),t.getMonth()+6,t.getDate()).toISOString().slice(0,10)},$Z=t=>t?sI(t):iI(),qZ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(!1),[i,o]=x.useState(null),[u,h]=x.useState(!1),p=x.useRef(null),[f,d]=x.useState({category:"nps-ppf",type:"NPS",name:"",accountNumber:"",amount:"",startDate:"",maturityDate:"",interestRate:"",frequency:"yearly",currentValue:"",notes:""}),v=["#C084FC","#9333EA","#7C3AED","#8B5CF6","#6366F1"];x.useEffect(()=>{y()},[]),x.useEffect(()=>{a&&p.current&&p.current.scrollIntoView({behavior:"smooth",block:"start"})},[a]);const y=async()=>{try{h(!0);const k=await De.getAll("nps-ppf");n(k.data.investments)}catch(k){console.error("Error fetching investments:",k)}finally{h(!1)}},C=async k=>{k.preventDefault();try{const F={...f,amount:parseFloat(f.amount),interestRate:parseFloat(f.interestRate)||0,currentValue:parseFloat(f.currentValue)||parseFloat(f.amount)};i?await De.update(i,F):await De.create(F),await _u(f,"NpsPpfInvestment"),w(),y()}catch(F){console.error("Error saving investment:",F),alert(F.response?.data?.message||"Error saving investment")}},N=k=>{d({category:k.category,type:k.type,name:k.name,accountNumber:k.accountNumber||"",amount:k.amount,startDate:k.startDate?.split("T")[0]||"",maturityDate:k.maturityDate?.split("T")[0]||"",interestRate:k.interestRate||"",frequency:k.frequency||"yearly",currentValue:k.currentValue||k.amount,notes:k.notes||""}),o(k._id),r(!0)},j=async k=>{if(window.confirm("Are you sure you want to delete this investment?"))try{await De.delete(k),y()}catch(F){console.error("Error deleting investment:",F),alert("Error deleting investment")}},w=()=>{d({category:"nps-ppf",type:"NPS",name:"",accountNumber:"",amount:"",startDate:"",maturityDate:"",interestRate:"",frequency:"yearly",currentValue:"",notes:""}),o(null),r(!1)},O=()=>{const k=t.reduce((R,U)=>R+U.amount,0),F=t.reduce((R,U)=>R+(U.currentValue||U.amount),0),P=F-k,W=k>0?(P/k*100).toFixed(2):0;return{total:k,currentTotal:F,returns:P,returnsPercent:W}},S=()=>t.reduce((F,P)=>{const W=F.find(R=>R.name===P.type);return W?W.value+=P.amount:F.push({name:P.type,value:P.amount}),F},[]),E=O(),T=S();return e.jsxs("div",{className:"investment-container",children:[e.jsxs("div",{className:"investment-header",children:[e.jsx("h1",{children:"NPS / Post Office / PPF Investments"}),e.jsxs("button",{className:"btn-primary",onClick:()=>r(!a),children:[e.jsx(Oe,{})," ",a?"Cancel":"Add Investment"]})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #C084FC 0%, #9333EA 100%)"},children:e.jsx(ua,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Invested"}),e.jsxs("h3",{className:"stat-value",children:["",E.total.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #7C3AED 0%, #F87171 100%)"},children:e.jsx(In,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Current Value"}),e.jsxs("h3",{className:"stat-value",children:["",E.currentTotal.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #6366F1 100%)"},children:e.jsx(In,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Returns"}),e.jsxs("h3",{className:"stat-value",style:{color:E.returns>=0?"#10B981":"#ff6b6b"},children:["",E.returns.toLocaleString("en-IN")," (",E.returnsPercent,"%)"]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #10B981 0%, #34D399 100%)"},children:e.jsx(ua,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Investments"}),e.jsx("h3",{className:"stat-value",children:t.length})]})]})]}),t.length>0&&e.jsx("div",{className:"charts-grid",children:e.jsxs("div",{className:"chart-card",children:[e.jsx("h3",{children:"Investment Distribution by Type"}),e.jsx(Mt,{width:"100%",height:300,children:e.jsxs(ur,{children:[e.jsx(Wa,{data:T,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:F})=>`${k} ${(F*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:T.map((k,F)=>e.jsx(_n,{fill:v[F%v.length]},`cell-${F}`))}),e.jsx(It,{formatter:k=>`${k.toLocaleString("en-IN")}`}),e.jsx(pn,{})]})})]})}),a&&e.jsxs("div",{ref:p,className:"investment-form-card",children:[e.jsx("h2",{children:i?"Edit Investment":"Add New Investment"}),e.jsxs("form",{onSubmit:C,className:"investment-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Type *"}),e.jsxs("select",{value:f.type,onChange:k=>d({...f,type:k.target.value}),required:!0,children:[e.jsx("option",{value:"NPS",children:"NPS (National Pension Scheme)"}),e.jsx("option",{value:"PPF",children:"PPF (Public Provident Fund)"}),e.jsx("option",{value:"Post Office",children:"Post Office Schemes"}),e.jsx("option",{value:"SSY",children:"Sukanya Samriddhi Yojana"}),e.jsx("option",{value:"NSC",children:"National Savings Certificate"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Name/Description *"}),e.jsx("input",{type:"text",value:f.name,onChange:k=>d({...f,name:k.target.value}),placeholder:"e.g., My PPF Account",required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Account Number"}),e.jsx("input",{type:"text",value:f.accountNumber,onChange:k=>d({...f,accountNumber:k.target.value}),placeholder:"Account/Policy Number"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Amount *"}),e.jsx("input",{type:"number",value:f.amount,onChange:k=>d({...f,amount:k.target.value}),placeholder:"Investment Amount",step:"0.01",required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Start Date *"}),e.jsx("input",{type:"date",value:f.startDate,onChange:k=>d({...f,startDate:k.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Maturity Date"}),e.jsx("input",{type:"date",value:f.maturityDate,onChange:k=>d({...f,maturityDate:k.target.value})})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Interest Rate (%)"}),e.jsx("input",{type:"number",value:f.interestRate,onChange:k=>d({...f,interestRate:k.target.value}),placeholder:"e.g., 7.1",step:"0.01"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Contribution Frequency"}),e.jsxs("select",{value:f.frequency,onChange:k=>d({...f,frequency:k.target.value}),children:[e.jsx("option",{value:"one-time",children:"One Time"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Current Value"}),e.jsx("input",{type:"number",value:f.currentValue,onChange:k=>d({...f,currentValue:k.target.value}),placeholder:"Current market value",step:"0.01"})]})}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:f.notes,onChange:k=>d({...f,notes:k.target.value}),placeholder:"Additional notes...",rows:"3"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:w,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:i?"Update Investment":"Add Investment"})]})]})]}),e.jsxs("div",{className:"investments-list",children:[e.jsx("h2",{children:"Your Investments"}),u?e.jsx("div",{className:"loading",children:"Loading..."}):t.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No investments found. Add your first investment to get started!"})}):e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Account"}),e.jsx("th",{children:"Invested"}),e.jsx("th",{children:"Current"}),e.jsx("th",{children:"Returns"}),e.jsx("th",{children:"Rate"}),e.jsx("th",{children:"Start"}),e.jsx("th",{children:"Maturity"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(k=>{const F=(k.currentValue||k.amount)-k.amount,P=k.amount>0?(F/k.amount*100).toFixed(2):0;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"investment-type-badge",children:k.type})}),e.jsx("td",{title:k.name+(k.notes?" - "+k.notes:""),children:e.jsx("strong",{children:k.name})}),e.jsx("td",{title:k.accountNumber,children:k.accountNumber||"-"}),e.jsxs("td",{children:["",(k.amount/1e3).toFixed(0),"k"]}),e.jsxs("td",{children:["",((k.currentValue||k.amount)/1e3).toFixed(0),"k"]}),e.jsxs("td",{style:{color:F>=0?"#10B981":"#ff6b6b",fontWeight:"bold"},children:["",(F/1e3).toFixed(0),"k (",P,"%)"]}),e.jsx("td",{children:k.interestRate?`${k.interestRate}%`:"-"}),e.jsx("td",{children:new Date(k.startDate).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"2-digit"})}),e.jsx("td",{children:k.maturityDate?new Date(k.maturityDate).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"2-digit"}):"-"}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>N(k),className:"btn-icon",title:"Edit",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>j(k._id),className:"btn-icon btn-danger",title:"Delete",children:e.jsx(Ze,{})})]})})]},k._id)})})]})})]})]})},Ao=async(t,n)=>{try{const a=HZ(t,n);if(a.length===0)return{success:!0,message:"No contacts to sync",count:0};const r=[];for(const i of a)try{const o=await VZ(i);o?(await De.update(o._id,r2(i,n)),r.push({action:"updated",contact:i.nameOfPerson})):(await De.create(r2(i,n)),r.push({action:"created",contact:i.nameOfPerson}))}catch(o){console.error(`Error syncing contact ${i.nameOfPerson}:`,o),r.push({action:"failed",contact:i.nameOfPerson,error:o.message})}return{success:!0,message:`Synced ${r.length} contact(s)`,count:r.length,results:r}}catch(a){return console.error("Error in syncContactsFromForm:",a),{success:!1,message:a.message,count:0}}},HZ=(t,n)=>{const a=[];switch(n){case"InventoryRecord":t.vendorName&&(t.vendorContactNumber||t.vendorContactEmail)&&a.push({nameOfPerson:t.vendorName,nameOfCompany:t.companyName||t.vendorName,mobileNumber1:t.vendorContactNumber||"",emailId:t.vendorContactEmail||"",address:t.address||"",category:"Vendor",serviceProviderOrProductSeller:"Product Vendor",notes:`Source: Inventory Record - ${t.itemName||"Item"}`}),t.servicePersonName&&(t.serviceMobileNumber||t.serviceEmailId)&&a.push({nameOfPerson:t.servicePersonName,nameOfCompany:t.serviceCompanyName||"",mobileNumber1:t.serviceMobileNumber||"",emailId:t.serviceEmailId||"",address:t.serviceAddress||"",category:"Service Provider",serviceProviderOrProductSeller:t.serviceName||"Service Provider",website:t.serviceWebsite||"",notes:`Source: Inventory Record - Service Provider for ${t.itemName||"Item"}`}),t.companyName&&(t.customerCareNumber||t.customerCareEmail)&&a.push({nameOfPerson:`${t.companyName} Customer Care`,nameOfCompany:t.companyName,mobileNumber1:t.customerCareNumber||"",emailId:t.customerCareEmail||"",category:"Customer Support",serviceProviderOrProductSeller:"Customer Service",notes:`Source: Inventory Record - Customer Care for ${t.itemName||"Item"}`});break;case"DigitalAssets":t.domain?.registrar&&t.domain?.serviceProvider&&a.push({nameOfPerson:t.domain.serviceProvider,nameOfCompany:t.domain.registrar,emailId:t.domain.adminId||t.admin?.recoveryEmail||"",category:"Service Provider",serviceProviderOrProductSeller:"Domain Registrar",notes:`Source: Digital Assets - ${t.projectName||"Website"} - Domain: ${t.domain.domainName||""}`}),t.hosting?.serviceProvider&&a.push({nameOfPerson:t.hosting.serviceProvider,nameOfCompany:t.hosting.serviceProvider,mobileNumber1:"",emailId:t.hosting.userId||"",category:"Service Provider",serviceProviderOrProductSeller:"Hosting Provider",notes:`Source: Digital Assets - ${t.projectName||"Website"} - Hosting: ${t.hosting.serverType||""}`}),t.development?.developerName&&a.push({nameOfPerson:t.development.developerName,profession:"Developer",category:"Professional",serviceProviderOrProductSeller:"Web Developer",notes:`Source: Digital Assets - Developer for ${t.projectName||"Website"}`}),t.monitoring?.monitoringProvider&&a.push({nameOfPerson:t.monitoring.monitoringProvider,nameOfCompany:t.monitoring.monitoringProvider,category:"Service Provider",serviceProviderOrProductSeller:"Monitoring Service",notes:`Source: Digital Assets - Monitoring for ${t.projectName||"Website"}`});break;case"PersonalRecords":t.nameOnId&&(t.mobileNumber||t.emailId)&&a.push({nameOfPerson:t.nameOnId,mobileNumber1:t.mobileNumber||"",emailId:t.emailId||"",category:"Personal",notes:`Source: Personal Records - ${t.docType||"Document"} - ID: ${t.idNumber||""}`});break;case"MobileEmailDetails":(t.carrier||t.provider)&&(t.customerCareNo||t.customerCareEmail)&&a.push({nameOfPerson:`${t.carrier||t.provider} Customer Care`,nameOfCompany:t.carrier||t.provider,mobileNumber1:t.customerCareNo||"",emailId:t.customerCareEmail||"",category:"Customer Support",serviceProviderOrProductSeller:t.type==="Mobile"?"Mobile Carrier":"Email Provider",notes:`Source: Mobile & Email Details - ${t.type||"Service"} - ${t.mobile||t.email||""}`}),t.ownerName&&(t.mobile||t.email)&&a.push({nameOfPerson:t.ownerName,mobileNumber1:t.type==="Mobile"?t.mobile:t.alternateNumber||"",emailId:t.type==="Email"?t.email:"",category:"Personal",notes:`Source: Mobile & Email Details - ${t.relationship||"Contact"}`});break;case"CompanyRecords":(t.registeredOffice?.phone||t.registeredOffice?.email)&&a.push({nameOfPerson:`${t.companyName} - Registered Office`,nameOfCompany:t.companyName,mobileNumber1:t.registeredOffice.phone||"",emailId:t.registeredOffice.email||"",website:t.registeredOffice.website||"",address:t.registeredOffice.address||"",city:t.registeredOffice.city||"",state:t.registeredOffice.state||"",pinCode:t.registeredOffice.pincode||"",category:"Company",notes:`Source: Company Records - ${t.companyName} - Registered Office`}),!t.sameAsRegistered&&(t.corporateOffice?.phone||t.corporateOffice?.email)&&a.push({nameOfPerson:`${t.companyName} - Corporate Office`,nameOfCompany:t.companyName,mobileNumber1:t.corporateOffice.phone||"",emailId:t.corporateOffice.email||"",address:t.corporateOffice.address||"",city:t.corporateOffice.city||"",state:t.corporateOffice.state||"",pinCode:t.corporateOffice.pincode||"",category:"Company",notes:`Source: Company Records - ${t.companyName} - Corporate Office`}),t.directors&&Array.isArray(t.directors)&&t.directors.forEach(r=>{r.name&&(r.mcaMobileNumber||r.mcaEmailId||r.gstMobileNumber||r.gstEmailId)&&a.push({nameOfPerson:r.name,nameOfCompany:t.companyName,mobileNumber1:r.mcaMobileNumber||r.gstMobileNumber||r.bankMobileNumber||"",mobileNumber2:r.gstMobileNumber||r.bankMobileNumber||"",emailId:r.mcaEmailId||r.gstEmailId||r.bankEmailId||"",profession:"Director",category:"Corporate",notes:`Source: Company Records - Director of ${t.companyName} - DIN: ${r.din||""}`})});break;case"FamilyProfile":t.emergencyContact?.name&&t.emergencyContact?.mobile&&a.push({nameOfPerson:t.emergencyContact.name,mobileNumber1:t.emergencyContact.mobile,address:t.emergencyContact.address||"",category:"Emergency Contact",notes:`Source: Family Profile - Emergency Contact - Relation: ${t.emergencyContact.relation||""}`}),t.members&&Array.isArray(t.members)&&t.members.forEach(r=>{r.name&&(r.mobile||r.email)&&a.push({nameOfPerson:r.name,mobileNumber1:r.mobile||"",mobileNumber2:r.additionalInfo?.alternatePhone||"",emailId:r.email||"",category:"Family",profession:r.occupation||"",nameOfCompany:r.companyName||"",notes:`Source: Family Profile - ${r.relation||"Family Member"}`})});break;case"GoldSgbInvestment":t.provider&&a.push({nameOfPerson:t.provider,nameOfCompany:t.provider,category:"Service Provider",serviceProviderOrProductSeller:"Investment Provider",primaryProducts:t.type||"Gold/SGB",notes:`Source: Gold/SGB Investment - Provider for ${t.name||"Investment"}`});break;default:console.warn(`Unknown form type: ${n}`);break}return a.filter(r=>r.nameOfPerson&&r.nameOfPerson.trim()!=="")},VZ=async t=>{try{return((await De.getAll("static-contact-management")).data.investments||[]).map(i=>{let o={};try{o=i.notes?JSON.parse(i.notes):{}}catch{o={}}return{_id:i._id,...o}}).find(i=>i.nameOfPerson&&t.nameOfPerson&&i.nameOfPerson.toLowerCase().trim()===t.nameOfPerson.toLowerCase().trim())||null}catch(n){return console.error("Error finding existing contact:",n),null}},r2=(t,n)=>({category:"static-contact-management",type:"Contact",name:t.nameOfPerson||"Contact",provider:t.nameOfCompany||t.relation||"Contact",amount:0,startDate:new Date().toISOString().slice(0,10),notes:JSON.stringify({...t,reference:n,lastUpdated:new Date().toISOString()})}),YZ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(!1),[i,o]=x.useState(null),[u,h]=x.useState(!1),p=x.useRef(null),[f,d]=x.useState({category:"gold-sgb",type:"Digital Gold",name:"",provider:"",quantity:"",purchasePrice:"",currentValue:"",purchaseDate:"",maturityDate:"",interestRate:"",purity:"",storageType:"digital",notes:""}),v=["#FFD700","#FFA500","#C0C0C0","#4169E1","#32CD32","#FF6347"];x.useEffect(()=>{y()},[]),x.useEffect(()=>{a&&p.current&&setTimeout(()=>{p.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},[a]);const y=async()=>{try{h(!0);const R=await De.getAll("gold-sgb");n(R.data.investments||[])}catch(R){console.error("Error fetching investments:",R),n([{_id:"1",category:"gold-sgb",type:"Digital Gold",name:"MMTC-PAMP Digital Gold",provider:"MMTC-PAMP",quantity:10,purchasePrice:55e3,currentValue:58e3,purchaseDate:"2024-01-15",purity:"24K",storageType:"digital",notes:"Monthly investment plan"},{_id:"2",category:"gold-sgb",type:"SGB",name:"Sovereign Gold Bond 2023",provider:"RBI",quantity:1,purchasePrice:6e4,currentValue:62e3,purchaseDate:"2023-12-01",maturityDate:"2033-12-01",interestRate:2.5,purity:"24K",storageType:"digital",notes:"8-year tenure with 2.5% interest"}])}finally{h(!1)}},C=async R=>{R.preventDefault();try{const U={...f,quantity:parseFloat(f.quantity),purchasePrice:parseFloat(f.purchasePrice),currentValue:parseFloat(f.currentValue)||parseFloat(f.purchasePrice),interestRate:parseFloat(f.interestRate)||0,startDate:f.purchaseDate};delete U.purchaseDate,i?await De.update(i,U):await De.create(U),await Promise.all([Ao(f,"GoldSgbInvestment"),_u(f,"GoldSgbInvestment")]),w(),y()}catch(U){console.error("Error saving investment:",U),alert(U.response?.data?.message||"Error saving investment")}},N=R=>{d({category:R.category,type:R.type,name:R.name,provider:R.provider||"",quantity:R.quantity,purchasePrice:R.purchasePrice,currentValue:R.currentValue||R.purchasePrice,purchaseDate:R.startDate?.split("T")[0]||"",maturityDate:R.maturityDate?.split("T")[0]||"",interestRate:R.interestRate||"",purity:R.purity||"",storageType:R.storageType||"digital",notes:R.notes||""}),o(R._id),r(!0)},j=async R=>{if(window.confirm("Are you sure you want to delete this investment?"))try{await De.delete(R),y()}catch(U){console.error("Error deleting investment:",U),alert("Error deleting investment")}},w=()=>{d({category:"gold-sgb",type:"Digital Gold",name:"",provider:"",quantity:"",purchasePrice:"",currentValue:"",purchaseDate:"",maturityDate:"",interestRate:"",purity:"",storageType:"digital",notes:""}),o(null),r(!1)},O=()=>{const R=t.reduce((le,G)=>le+G.purchasePrice*G.quantity,0),U=t.reduce((le,G)=>le+G.currentValue*G.quantity,0),J=U-R,se=R>0?(J/R*100).toFixed(2):0,X=t.reduce((le,G)=>le+G.quantity,0);return{totalInvested:R,totalCurrent:U,totalReturns:J,returnsPercent:se,totalQuantity:X}},S=()=>t.reduce((U,J)=>{const se=U.find(le=>le.name===J.type),X=J.currentValue*J.quantity;return se?se.value+=X:U.push({name:J.type,value:X}),U},[]),E=()=>t.map(R=>({name:R.name.length>15?R.name.substring(0,15)+"...":R.name,invested:R.purchasePrice*R.quantity,current:R.currentValue*R.quantity,returns:(R.currentValue-R.purchasePrice)*R.quantity,returnsPercent:R.purchasePrice>0?((R.currentValue-R.purchasePrice)/R.purchasePrice*100).toFixed(2):0})),T=()=>t.reduce((U,J)=>{const se=U.find(le=>le.name===J.provider),X=J.currentValue*J.quantity;return se?(se.value+=X,se.quantity+=J.quantity):U.push({name:J.provider,value:X,quantity:J.quantity}),U},[]),k=O(),F=S(),P=E(),W=T();return e.jsxs("div",{className:"investment-container",children:[e.jsxs("div",{className:"investment-header",children:[e.jsx("h1",{children:"Gold / SGB / Silver / Bonds Investments"}),e.jsx("div",{className:"header-actions",children:e.jsxs("button",{className:"btn-primary",onClick:()=>r(!a),children:[e.jsx(Oe,{})," ",a?"Cancel":"Add Investment"]})})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)"},children:e.jsx(ua,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Invested"}),e.jsxs("h3",{className:"stat-value",children:["",k.totalInvested.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #C0C0C0 0%, #4169E1 100%)"},children:e.jsx(In,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Current Value"}),e.jsxs("h3",{className:"stat-value",children:["",k.totalCurrent.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #32CD32 0%, #228B22 100%)"},children:e.jsx(In,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Returns"}),e.jsxs("h3",{className:"stat-value",style:{color:k.totalReturns>=0?"#32CD32":"#FF6347"},children:["",k.totalReturns.toLocaleString("en-IN")," (",k.returnsPercent,"%)"]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #FF6347 0%, #DC143C 100%)"},children:e.jsx(Jr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Quantity"}),e.jsxs("h3",{className:"stat-value",children:[k.totalQuantity," Units"]})]})]})]}),t.length>0&&e.jsxs("div",{className:"charts-section",children:[e.jsxs("div",{className:"charts-header",children:[e.jsx("h2",{children:"Portfolio Analytics"}),e.jsx("p",{children:"Comprehensive visualization of your Gold & SGB investments"})]}),e.jsxs("div",{className:"charts-grid",children:[e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(In,{className:"chart-icon"}),e.jsx("h3",{children:"Investment Distribution"})]}),e.jsx("div",{className:"chart-subtitle",children:"By investment type"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(ur,{children:[e.jsx(Wa,{data:F,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",animationBegin:0,animationDuration:1500,children:F.map((R,U)=>e.jsx(_n,{fill:v[U%v.length],stroke:"#fff",strokeWidth:2},`cell - ${U} `))}),e.jsx(It,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontWeight:"600"},formatter:R=>[`${R.toLocaleString("en-IN")} `,"Value"]}),e.jsx(pn,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"13px",fontWeight:"500"}})]})})})]}),e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(Kr,{className:"chart-icon"}),e.jsx("h3",{children:"Performance Analysis"})]}),e.jsx("div",{className:"chart-subtitle",children:"Invested vs Current Value"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(os,{data:P,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"investedGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#FFD700",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#FFA500",stopOpacity:.6})]}),e.jsxs("linearGradient",{id:"currentGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#32CD32",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#228B22",stopOpacity:.6})]})]}),e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.3}),e.jsx(Zn,{dataKey:"name",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},axisLine:{stroke:"#e2e8f0"}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickFormatter:R=>`${(R/1e3).toFixed(0)} K`}),e.jsx(It,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontWeight:"600"},formatter:R=>[`${R.toLocaleString("en-IN")} `,""]}),e.jsx(pn,{wrapperStyle:{fontSize:"13px",fontWeight:"500"}}),e.jsx(Rn,{dataKey:"invested",fill:"url(#investedGradient)",name:"Invested Amount",radius:[8,8,0,0],animationDuration:1500}),e.jsx(Rn,{dataKey:"current",fill:"url(#currentGradient)",name:"Current Value",radius:[8,8,0,0],animationDuration:1500})]})})})]}),e.jsxs("div",{className:"chart-card premium full-width",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(Jr,{className:"chart-icon"}),e.jsx("h3",{children:"Provider Portfolio Distribution"})]}),e.jsx("div",{className:"chart-subtitle",children:"Investment allocation by provider/platform"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:280,children:e.jsxs(Ru,{data:W,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#C084FC",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#9333EA",stopOpacity:.2})]})}),e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.3}),e.jsx(Zn,{dataKey:"name",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},axisLine:{stroke:"#e2e8f0"}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},axisLine:{stroke:"#e2e8f0"},tickFormatter:R=>`${(R/1e3).toFixed(0)} K`}),e.jsx(It,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontWeight:"600"},formatter:R=>[`${R.toLocaleString("en-IN")} `,"Portfolio Value"]}),e.jsx(wo,{type:"monotone",dataKey:"value",stroke:"#C084FC",strokeWidth:3,fill:"url(#areaGradient)",animationDuration:2e3})]})})})]})]})]}),t.length>0&&e.jsxs("div",{className:"table-container",children:[e.jsx("h2",{children:"Investment Details"}),e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Provider"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Purchase Price"}),e.jsx("th",{children:"Current Value"}),e.jsx("th",{children:"Returns"}),e.jsx("th",{children:"Purity"}),e.jsx("th",{children:"Purchase Date"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(R=>{const U=R.purchasePrice*R.quantity,J=R.currentValue*R.quantity,se=J-U,X=U>0?(se/U*100).toFixed(2):0;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"investment-type-badge",style:{background:R.type.includes("Gold")?"linear-gradient(135deg, #FFD700 0%, #FFA500 100%)":R.type.includes("Silver")?"linear-gradient(135deg, #C0C0C0 0%, #4169E1 100%)":"linear-gradient(135deg, #C084FC 0%, #9333EA 100%)"},children:R.type})}),e.jsx("td",{children:R.name}),e.jsx("td",{children:R.provider}),e.jsxs("td",{children:[R.quantity," ",R.type.includes("Gold")||R.type.includes("Silver")?"gms":"units"]}),e.jsxs("td",{children:["",U.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",J.toLocaleString("en-IN")]}),e.jsxs("td",{style:{color:se>=0?"#32CD32":"#FF6347",fontWeight:600},children:["",se.toLocaleString("en-IN")," (",X,"%)"]}),e.jsx("td",{children:R.purity||"N/A"}),e.jsx("td",{children:new Date(R.startDate).toLocaleDateString("en-IN")}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>N(R),className:"btn-icon",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>j(R._id),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},R._id)})})]})]}),t.length===0&&!u&&e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No investments found. Add your first investment to get started!"})}),a&&e.jsxs("div",{ref:p,className:"investment-form-card",children:[e.jsx("h2",{children:i?"Edit Investment":"Add New Investment"}),e.jsxs("form",{onSubmit:C,className:"investment-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investment Type *"}),e.jsxs("select",{value:f.type,onChange:R=>d({...f,type:R.target.value}),required:!0,children:[e.jsx("option",{value:"Digital Gold",children:"Digital Gold"}),e.jsx("option",{value:"Physical Gold",children:"Physical Gold (Coins/Bars)"}),e.jsx("option",{value:"Gold Jewelry",children:"Gold Jewelry"}),e.jsx("option",{value:"SGB",children:"Sovereign Gold Bond (SGB)"}),e.jsx("option",{value:"Silver",children:"Silver (Coins/Bars)"}),e.jsx("option",{value:"Government Bonds",children:"Government Bonds"}),e.jsx("option",{value:"Corporate Bonds",children:"Corporate Bonds"}),e.jsx("option",{value:"ETF",children:"Gold/Silver ETF"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investment Name *"}),e.jsx("input",{type:"text",value:f.name,onChange:R=>d({...f,name:R.target.value}),placeholder:"e.g., MMTC-PAMP Digital Gold",required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Provider/Platform *"}),e.jsx("input",{type:"text",value:f.provider,onChange:R=>d({...f,provider:R.target.value}),placeholder:"e.g., MMTC-PAMP, RBI, HDFC Securities",required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Quantity *"}),e.jsx("input",{type:"number",value:f.quantity,onChange:R=>d({...f,quantity:R.target.value}),placeholder:"Quantity in grams/units",step:"0.001",required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Purchase Price per Unit *"}),e.jsx("input",{type:"number",value:f.purchasePrice,onChange:R=>d({...f,purchasePrice:R.target.value}),placeholder:"Price per gram/unit",step:"0.01",required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Current Value per Unit"}),e.jsx("input",{type:"number",value:f.currentValue,onChange:R=>d({...f,currentValue:R.target.value}),placeholder:"Current market price",step:"0.01"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Purchase Date *"}),e.jsx("input",{type:"date",value:f.purchaseDate,onChange:R=>d({...f,purchaseDate:R.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Maturity Date"}),e.jsx("input",{type:"date",value:f.maturityDate,onChange:R=>d({...f,maturityDate:R.target.value})})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Interest Rate (%)"}),e.jsx("input",{type:"number",value:f.interestRate,onChange:R=>d({...f,interestRate:R.target.value}),placeholder:"For bonds/SGB",step:"0.01"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Purity"}),e.jsxs("select",{value:f.purity,onChange:R=>d({...f,purity:R.target.value}),children:[e.jsx("option",{value:"",children:"Select Purity"}),e.jsx("option",{value:"24K",children:"24K (99.9%)"}),e.jsx("option",{value:"22K",children:"22K (91.6%)"}),e.jsx("option",{value:"18K",children:"18K (75%)"}),e.jsx("option",{value:"14K",children:"14K (58.5%)"}),e.jsx("option",{value:"Silver",children:"Silver (99.9%)"}),e.jsx("option",{value:"N/A",children:"N/A"})]})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Storage Type"}),e.jsxs("select",{value:f.storageType,onChange:R=>d({...f,storageType:R.target.value}),children:[e.jsx("option",{value:"digital",children:"Digital"}),e.jsx("option",{value:"physical",children:"Physical (Home)"}),e.jsx("option",{value:"bank-locker",children:"Bank Locker"}),e.jsx("option",{value:"vault",children:"Secure Vault"}),e.jsx("option",{value:"demat",children:"Demat Account"})]})]})}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:f.notes,onChange:R=>d({...f,notes:R.target.value}),placeholder:"Additional details, purchase purpose, etc.",rows:"3"})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:w,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:i?"Update Investment":"Add Investment"})]})]})]})]})},GZ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(!1),[i,o]=x.useState(null),[u,h]=x.useState(!1),p=x.useRef(null),[f,d]=x.useState({category:"bank-schemes",type:"Fixed Deposit",name:"",bankName:"",accountNumber:"",amount:"",interestRate:"",startDate:"",maturityDate:"",frequency:"yearly",currentValue:"",notes:""}),v=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899"];x.useEffect(()=>{y()},[]),x.useEffect(()=>{a&&p.current&&setTimeout(()=>{p.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},[a]);const y=async()=>{try{h(!0);const R=await De.getAll("bank-schemes");n(R.data.investments||[])}catch(R){console.error("Error fetching investments:",R),n([{_id:"demo-1",category:"bank-schemes",type:"Fixed Deposit",name:"HDFC FD Nov-2024",provider:"HDFC Bank",accountNumber:"XXXX1234",amount:2e5,currentValue:212e3,interestRate:7.25,frequency:"one-time",startDate:"2024-11-10",maturityDate:"2025-11-10",notes:"1 year FD"},{_id:"demo-2",category:"bank-schemes",type:"Recurring Deposit",name:"SBI RD 2024",provider:"SBI",accountNumber:"XXXX5678",amount:5e4,currentValue:52e3,interestRate:6.5,frequency:"monthly",startDate:"2024-01-01",maturityDate:"2025-01-01",notes:"Monthly 4,000 deposit"}])}finally{h(!1)}},C=async R=>{R.preventDefault();try{const U={category:"bank-schemes",type:f.type,name:f.name,provider:f.bankName,accountNumber:f.accountNumber,amount:parseFloat(f.amount)||0,currentValue:parseFloat(f.currentValue)||parseFloat(f.amount)||0,interestRate:parseFloat(f.interestRate)||0,startDate:f.startDate,maturityDate:f.maturityDate||void 0,frequency:f.frequency,notes:f.notes||""};i?await De.update(i,U):await De.create(U),w(),y()}catch(U){console.error("Error saving investment:",U),alert(U.response?.data?.message||"Error saving investment")}},N=R=>{d({category:R.category,type:R.type,name:R.name||"",bankName:R.provider||"",accountNumber:R.accountNumber||"",amount:R.amount||"",interestRate:R.interestRate||"",startDate:R.startDate?.split("T")[0]||"",maturityDate:R.maturityDate?.split("T")[0]||"",frequency:R.frequency||"one-time",currentValue:R.currentValue||R.amount||"",notes:R.notes||""}),o(R._id),r(!0)},j=async R=>{if(window.confirm("Are you sure you want to delete this investment?"))try{await De.delete(R),y()}catch(U){console.error("Error deleting investment:",U),alert("Error deleting investment")}},w=()=>{d({category:"bank-schemes",type:"Fixed Deposit",name:"",bankName:"",accountNumber:"",amount:"",interestRate:"",startDate:"",maturityDate:"",frequency:"yearly",currentValue:"",notes:""}),o(null),r(!1)},O=()=>{const R=t.reduce((le,G)=>le+(G.amount||0),0),U=t.reduce((le,G)=>le+(G.currentValue||G.amount||0),0),J=U-R,se=R>0?(J/R*100).toFixed(2):0,X=t.length>0?(t.reduce((le,G)=>le+(G.interestRate||0),0)/t.length).toFixed(2):0;return{totalInvested:R,totalCurrent:U,totalReturns:J,returnsPercent:se,averageRate:X}},S=()=>t.reduce((U,J)=>{const se=U.find(le=>le.name===J.type),X=J.currentValue||J.amount||0;return se?se.value+=X:U.push({name:J.type,value:X}),U},[]),E=()=>t.reduce((U,J)=>{const se=U.find(le=>le.name===(J.provider||J.bankName)),X=J.currentValue||J.amount||0;return se?se.value+=X:U.push({name:J.provider||J.bankName,value:X}),U},[]),T=()=>t.map(R=>({name:R.name||`${R.provider} ${R.type}`||"Deposit",invested:R.amount||0,current:R.currentValue||R.amount||0,returns:(R.currentValue||R.amount||0)-(R.amount||0),returnsPercent:(R.amount||0)>0?(((R.currentValue||R.amount||0)-(R.amount||0))/(R.amount||1)*100).toFixed(2):0})),k=O(),F=S(),P=E(),W=T();return e.jsxs("div",{className:"investment-container",children:[e.jsxs("div",{className:"investment-header",children:[e.jsx("h1",{children:"Bank Schemes - RD, FD & Other Deposits"}),e.jsx("div",{className:"header-actions",children:e.jsxs("button",{className:"btn-primary",onClick:()=>r(!a),children:[e.jsx(Oe,{})," ",a?"Cancel":"Add Investment"]})})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)"},children:e.jsx(ua,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Invested"}),e.jsxs("h3",{className:"stat-value",children:["",k.totalInvested.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:e.jsx(In,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Current Value"}),e.jsxs("h3",{className:"stat-value",children:["",k.totalCurrent.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #F59E0B 0%, #D97706 100%)"},children:e.jsx(Jr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Returns"}),e.jsxs("h3",{className:"stat-value",style:{color:k.totalReturns>=0?"#10B981":"#EF4444"},children:["",k.totalReturns.toLocaleString("en-IN")," (",k.returnsPercent,"%)"]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)"},children:e.jsx(Jy,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Avg Interest Rate"}),e.jsxs("h3",{className:"stat-value",children:[k.averageRate,"%"]})]})]})]}),t.length>0&&e.jsxs("div",{className:"charts-section",children:[e.jsxs("div",{className:"charts-header",children:[e.jsx("h2",{children:"Portfolio Analytics"}),e.jsx("p",{children:"RD/FD allocation, bank-wise distribution and performance"})]}),e.jsxs("div",{className:"charts-grid",children:[e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(In,{className:"chart-icon"}),e.jsx("h3",{children:"Investment Distribution"})]}),e.jsx("div",{className:"chart-subtitle",children:"By deposit type"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(ur,{children:[e.jsx(Wa,{data:F,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:F.map((R,U)=>e.jsx(_n,{fill:v[U%v.length],stroke:"#fff",strokeWidth:2},`cell-${U}`))}),e.jsx(It,{formatter:R=>[`${R.toLocaleString("en-IN")}`,"Value"]}),e.jsx(pn,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})]}),e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(Kr,{className:"chart-icon"}),e.jsx("h3",{children:"Performance Analysis"})]}),e.jsx("div",{className:"chart-subtitle",children:"Invested vs Current Value"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(os,{data:W,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.3}),e.jsx(Zn,{dataKey:"name",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},tickFormatter:R=>`${(R/1e3).toFixed(0)}K`}),e.jsx(It,{formatter:R=>[`${R.toLocaleString("en-IN")}`,""]}),e.jsx(pn,{}),e.jsx(Rn,{dataKey:"invested",fill:"#3B82F6",name:"Invested",radius:[8,8,0,0]}),e.jsx(Rn,{dataKey:"current",fill:"#10B981",name:"Current",radius:[8,8,0,0]})]})})})]}),e.jsxs("div",{className:"chart-card premium full-width",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(Jr,{className:"chart-icon"}),e.jsx("h3",{children:"Bank-wise Allocation"})]}),e.jsx("div",{className:"chart-subtitle",children:"Investment by bank"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:280,children:e.jsxs(Ru,{data:P,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#6D28D9",stopOpacity:.2})]})}),e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.3}),e.jsx(Zn,{dataKey:"name",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},tickFormatter:R=>`${(R/1e3).toFixed(0)}K`}),e.jsx(It,{formatter:R=>[`${R.toLocaleString("en-IN")}`,"Portfolio Value"]}),e.jsx(wo,{type:"monotone",dataKey:"value",stroke:"#8B5CF6",strokeWidth:3,fill:"url(#areaGradient)"})]})})})]})]})]}),t.length>0&&e.jsxs("div",{className:"table-container",children:[e.jsx("h2",{children:"Investment Details"}),e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Bank"}),e.jsx("th",{children:"Account"}),e.jsx("th",{children:"Invested"}),e.jsx("th",{children:"Current"}),e.jsx("th",{children:"Returns"}),e.jsx("th",{children:"Rate"}),e.jsx("th",{children:"Frequency"}),e.jsx("th",{children:"Start"}),e.jsx("th",{children:"Maturity"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(R=>{const U=R.amount||0,J=R.currentValue||R.amount||0,se=J-U,X=U>0?(se/U*100).toFixed(2):0;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"investment-type-badge",style:{background:R.type.includes("Fixed")?"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)":"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:R.type})}),e.jsx("td",{children:R.name}),e.jsx("td",{children:R.provider||R.bankName}),e.jsx("td",{children:R.accountNumber||"N/A"}),e.jsxs("td",{children:["",U.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",J.toLocaleString("en-IN")]}),e.jsxs("td",{style:{color:se>=0?"#10B981":"#EF4444",fontWeight:600},children:["",se.toLocaleString("en-IN")," (",X,"%)"]}),e.jsx("td",{children:R.interestRate?`${R.interestRate}%`:"N/A"}),e.jsx("td",{children:R.frequency||"one-time"}),e.jsx("td",{children:new Date(R.startDate).toLocaleDateString("en-IN")}),e.jsx("td",{children:R.maturityDate?new Date(R.maturityDate).toLocaleDateString("en-IN"):"N/A"}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>N(R),className:"btn-icon",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>j(R._id),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},R._id)})})]})]}),t.length===0&&!u&&e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No deposits found. Add a new RD/FD to get started!"})}),a&&e.jsxs("div",{ref:p,className:"investment-form-card",children:[e.jsx("h2",{children:i?"Edit Investment":"Add New Investment"}),e.jsxs("form",{onSubmit:C,className:"investment-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investment Type *"}),e.jsxs("select",{value:f.type,onChange:R=>d({...f,type:R.target.value}),required:!0,children:[e.jsx("option",{value:"Fixed Deposit",children:"Fixed Deposit (FD)"}),e.jsx("option",{value:"Recurring Deposit",children:"Recurring Deposit (RD)"}),e.jsx("option",{value:"Savings Deposit",children:"Savings Deposit"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Deposit Name *"}),e.jsx("input",{type:"text",value:f.name,onChange:R=>d({...f,name:R.target.value}),placeholder:"e.g., HDFC FD Nov-2024",required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Bank Name *"}),e.jsx("input",{type:"text",value:f.bankName,onChange:R=>d({...f,bankName:R.target.value}),placeholder:"e.g., HDFC Bank, SBI",required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Account Number"}),e.jsx("input",{type:"text",value:f.accountNumber,onChange:R=>d({...f,accountNumber:R.target.value}),placeholder:"XXXX1234"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Amount *"}),e.jsx("input",{type:"number",value:f.amount,onChange:R=>d({...f,amount:R.target.value}),placeholder:"",required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Current Value"}),e.jsx("input",{type:"number",value:f.currentValue,onChange:R=>d({...f,currentValue:R.target.value}),placeholder:""})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Interest Rate (%)"}),e.jsx("input",{type:"number",step:"0.01",value:f.interestRate,onChange:R=>d({...f,interestRate:R.target.value}),placeholder:"e.g., 7.25"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Frequency *"}),e.jsxs("select",{value:f.frequency,onChange:R=>d({...f,frequency:R.target.value}),required:!0,children:[e.jsx("option",{value:"one-time",children:"One-time (FD)"}),e.jsx("option",{value:"monthly",children:"Monthly (RD)"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Start Date *"}),e.jsx("input",{type:"date",value:f.startDate,onChange:R=>d({...f,startDate:R.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Maturity Date"}),e.jsx("input",{type:"date",value:f.maturityDate,onChange:R=>d({...f,maturityDate:R.target.value})})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:f.notes,onChange:R=>d({...f,notes:R.target.value}),placeholder:"Additional details"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:i?"Update":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:w,children:"Reset"})]})]})]})]})},KZ=()=>e.jsxs("div",{className:"investment-container",children:[e.jsx("div",{className:"investment-header",children:e.jsx("h1",{children:"Mutual Funds, Insurance & Shares"})}),e.jsxs("div",{className:"coming-soon",children:[e.jsx("div",{className:"coming-soon-icon",children:e.jsx(es,{})}),e.jsx("h2",{children:"Coming Soon"}),e.jsx("p",{children:"Comprehensive platform for managing Mutual Funds, Insurance policies, and Stock investments."}),e.jsxs("div",{className:"features-list",children:[e.jsx("h3",{children:"Features will include:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Mutual fund portfolio tracking"}),e.jsx("li",{children:"SIP & lumpsum investments"}),e.jsx("li",{children:"Life & Health insurance management"}),e.jsx("li",{children:"Stock portfolio & demat integration"}),e.jsx("li",{children:"NAV & market price tracking"}),e.jsx("li",{children:"Insurance premium reminders"}),e.jsx("li",{children:"Capital gain tax calculations"})]})]})]})]}),Mn={getSummary:()=>oe.get("/investment-valuation/summary"),getMutualFunds:(t=null)=>{const n=t?`?type=${t}`:"";return oe.get(`/investment-valuation/mutual-funds${n}`)},createMutualFund:t=>oe.post("/investment-valuation/mutual-funds",t),updateMutualFund:(t,n)=>oe.put(`/investment-valuation/mutual-funds/${t}`,n),deleteMutualFund:t=>oe.delete(`/investment-valuation/mutual-funds/${t}`),getShares:()=>oe.get("/investment-valuation/shares"),createShare:t=>oe.post("/investment-valuation/shares",t),updateShare:(t,n)=>oe.put(`/investment-valuation/shares/${t}`,n),deleteShare:t=>oe.delete(`/investment-valuation/shares/${t}`),getInsurance:(t=null)=>{const n=t?`?type=${t}`:"";return oe.get(`/investment-valuation/insurance${n}`)},createInsurance:t=>oe.post("/investment-valuation/insurance",t),updateInsurance:(t,n)=>oe.put(`/investment-valuation/insurance/${t}`,n),deleteInsurance:t=>oe.delete(`/investment-valuation/insurance/${t}`),getLoans:()=>oe.get("/investment-valuation/loans"),createLoan:t=>oe.post("/investment-valuation/loans",t),updateLoan:(t,n)=>oe.put(`/investment-valuation/loans/${t}`,n),deleteLoan:t=>oe.delete(`/investment-valuation/loans/${t}`)},WZ=({isOpen:t,onClose:n,onSuccess:a,editData:r,investmentType:i})=>{const[o,u]=x.useState({investmentType:i||"lumpsum",broker:"",investorName:"",fundName:"",fundType:"equity",folioNumber:"",sipDate:"",sipAmount:"",units:"",purchaseNAV:"",purchaseValue:"",currentNAV:"",holdingStatus:"active",holdingPattern:"single",investmentDate:new Date().toISOString().split("T")[0]}),[h,p]=x.useState(!1),[f,d]=x.useState({});x.useEffect(()=>{u(r?{...r,investmentDate:r.investmentDate?r.investmentDate.split("T")[0]:new Date().toISOString().split("T")[0]}:{investmentType:i||"lumpsum",broker:"",investorName:"",fundName:"",fundType:"equity",folioNumber:"",sipDate:"",sipAmount:"",units:"",purchaseNAV:"",purchaseValue:"",currentNAV:"",holdingStatus:"active",holdingPattern:"single",investmentDate:new Date().toISOString().split("T")[0]})},[r,i]);const v=N=>{const{name:j,value:w}=N.target;if(u(O=>({...O,[j]:w})),f[j]&&d(O=>({...O,[j]:""})),j==="units"||j==="purchaseNAV"){const O=parseFloat(j==="units"?w:o.units),S=parseFloat(j==="purchaseNAV"?w:o.purchaseNAV);u(O&&S?E=>({...E,[j]:w,purchaseValue:(O*S).toString()}):E=>({...E,[j]:w}))}},y=()=>{const N={};return o.broker.trim()||(N.broker="Investment Broker is required"),o.investorName.trim()||(N.investorName="Investor Name is required"),o.fundName.trim()||(N.fundName="Fund Name is required"),o.folioNumber.trim()||(N.folioNumber="Folio Number is required"),o.units||(N.units="Number of Units is required"),o.purchaseNAV||(N.purchaseNAV="Purchase NAV is required"),o.purchaseValue||(N.purchaseValue="Purchase Value is required"),o.investmentType==="sip"&&(o.sipDate.trim()||(N.sipDate="SIP Date is required"),o.sipAmount||(N.sipAmount="SIP Amount is required")),d(N),Object.keys(N).length===0},C=async N=>{if(N.preventDefault(),!!y())try{p(!0);const j={...o,units:parseFloat(o.units),purchaseNAV:parseFloat(o.purchaseNAV),purchaseValue:parseFloat(o.purchaseValue),currentNAV:parseFloat(o.currentNAV)||parseFloat(o.purchaseNAV),sipAmount:o.sipAmount?parseFloat(o.sipAmount):void 0};r?await Mn.updateMutualFund(r._id,j):await Mn.createMutualFund(j),a(),n()}catch(j){console.error("Error saving mutual fund:",j),d({submit:"Failed to save mutual fund. Please try again."})}finally{p(!1)}};return t?e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content large",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:[r?"Edit":"Add"," Mutual Fund ",o.investmentType==="sip"?"SIP":"Lumpsum"]}),e.jsx("button",{className:"close-btn",onClick:n,children:e.jsx(Ge,{})})]}),e.jsxs("form",{onSubmit:C,className:"modal-form",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investment Type *"}),e.jsxs("select",{name:"investmentType",value:o.investmentType,onChange:v,required:!0,children:[e.jsx("option",{value:"lumpsum",children:"Lumpsum"}),e.jsx("option",{value:"sip",children:"SIP"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investment Broker *"}),e.jsx("input",{type:"text",name:"broker",value:o.broker,onChange:v,className:f.broker?"error":"",placeholder:"e.g., Zerodha, HDFC Securities",required:!0}),f.broker&&e.jsx("span",{className:"error-text",children:f.broker})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investor Name *"}),e.jsx("input",{type:"text",name:"investorName",value:o.investorName,onChange:v,className:f.investorName?"error":"",placeholder:"Enter investor name",required:!0}),f.investorName&&e.jsx("span",{className:"error-text",children:f.investorName})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Name of Fund *"}),e.jsx("input",{type:"text",name:"fundName",value:o.fundName,onChange:v,className:f.fundName?"error":"",placeholder:"e.g., HDFC Top 100 Fund",required:!0}),f.fundName&&e.jsx("span",{className:"error-text",children:f.fundName})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Type of Fund *"}),e.jsxs("select",{name:"fundType",value:o.fundType,onChange:v,required:!0,children:[e.jsx("option",{value:"equity",children:"Equity"}),e.jsx("option",{value:"debt",children:"Debt"}),e.jsx("option",{value:"hybrid",children:"Hybrid"}),e.jsx("option",{value:"index",children:"Index"}),e.jsx("option",{value:"elss",children:"ELSS"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Folio Number *"}),e.jsx("input",{type:"text",name:"folioNumber",value:o.folioNumber,onChange:v,className:f.folioNumber?"error":"",placeholder:"Enter folio number",required:!0}),f.folioNumber&&e.jsx("span",{className:"error-text",children:f.folioNumber})]}),o.investmentType==="sip"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"SIP Date *"}),e.jsx("input",{type:"text",name:"sipDate",value:o.sipDate,onChange:v,className:f.sipDate?"error":"",placeholder:"e.g., 15th",required:!0}),f.sipDate&&e.jsx("span",{className:"error-text",children:f.sipDate})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"SIP Amount *"}),e.jsx("input",{type:"number",name:"sipAmount",value:o.sipAmount,onChange:v,className:f.sipAmount?"error":"",placeholder:"Enter SIP amount",min:"0",step:"0.01",required:!0}),f.sipAmount&&e.jsx("span",{className:"error-text",children:f.sipAmount})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"No. of Units *"}),e.jsx("input",{type:"number",name:"units",value:o.units,onChange:v,className:f.units?"error":"",placeholder:"Enter number of units",min:"0",step:"0.001",required:!0}),f.units&&e.jsx("span",{className:"error-text",children:f.units})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Purchase NAV *"}),e.jsx("input",{type:"number",name:"purchaseNAV",value:o.purchaseNAV,onChange:v,className:f.purchaseNAV?"error":"",placeholder:"Enter purchase NAV",min:"0",step:"0.01",required:!0}),f.purchaseNAV&&e.jsx("span",{className:"error-text",children:f.purchaseNAV})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Purchase Value *"}),e.jsx("input",{type:"number",name:"purchaseValue",value:o.purchaseValue,onChange:v,className:f.purchaseValue?"error":"",placeholder:"Auto-calculated or enter manually",min:"0",step:"0.01",required:!0}),f.purchaseValue&&e.jsx("span",{className:"error-text",children:f.purchaseValue})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Current NAV"}),e.jsx("input",{type:"number",name:"currentNAV",value:o.currentNAV,onChange:v,placeholder:"Enter current NAV",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Holding Status"}),e.jsxs("select",{name:"holdingStatus",value:o.holdingStatus,onChange:v,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"redeemed",children:"Redeemed"}),e.jsx("option",{value:"partial",children:"Partial"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Holding Pattern"}),e.jsxs("select",{name:"holdingPattern",value:o.holdingPattern,onChange:v,children:[e.jsx("option",{value:"single",children:"Single"}),e.jsx("option",{value:"joint",children:"Joint"}),e.jsx("option",{value:"minor",children:"Minor"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investment Date"}),e.jsx("input",{type:"date",name:"investmentDate",value:o.investmentDate,onChange:v})]})]}),f.submit&&e.jsx("div",{className:"error-message",children:f.submit}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:n,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"save-btn",disabled:h,children:[h?e.jsx(Bm,{className:"spinner"}):e.jsx(cs,{}),h?"Saving...":"Save"]})]})]})]})}):null},XZ=({isOpen:t,onClose:n,onSuccess:a,editData:r})=>{const[i,o]=x.useState({broker:"",purchaseType:"delivery",clientId:"",dpId:"",tradingId:"",investorName:"",scripName:"",purchasePrice:"",quantity:"",brokerage:"0",stt:"0",otherCharges:"0",purchaseAmount:"",purchaseDate:new Date().toISOString().split("T")[0],currentPrice:"",nominee:"",intraDay:!1}),[u,h]=x.useState(!1),[p,f]=x.useState({});x.useEffect(()=>{o(r?{...r,purchaseDate:r.purchaseDate?r.purchaseDate.split("T")[0]:new Date().toISOString().split("T")[0],brokerage:r.brokerage||"0",stt:r.stt||"0",otherCharges:r.otherCharges||"0"}:{broker:"",purchaseType:"delivery",clientId:"",dpId:"",tradingId:"",investorName:"",scripName:"",purchasePrice:"",quantity:"",brokerage:"0",stt:"0",otherCharges:"0",purchaseAmount:"",purchaseDate:new Date().toISOString().split("T")[0],currentPrice:"",nominee:"",intraDay:!1})},[r]);const d=C=>{const{name:N,value:j,type:w,checked:O}=C.target,S=w==="checkbox"?O:j;if(o(E=>({...E,[N]:S})),p[N]&&f(E=>({...E,[N]:""})),N==="quantity"||N==="purchasePrice"){const E=parseFloat(N==="quantity"?j:i.quantity),T=parseFloat(N==="purchasePrice"?j:i.purchasePrice);o(E&&T?k=>({...k,[N]:S,purchaseAmount:(E*T).toString()}):k=>({...k,[N]:S}))}},v=()=>{const C={};return i.broker.trim()||(C.broker="Investment Broker is required"),i.clientId.trim()||(C.clientId="Client ID is required"),i.dpId.trim()||(C.dpId="DP ID is required"),i.tradingId.trim()||(C.tradingId="Trading ID is required"),i.investorName.trim()||(C.investorName="Investor Name is required"),i.scripName.trim()||(C.scripName="Scrip Name is required"),i.purchasePrice||(C.purchasePrice="Purchase Price is required"),i.quantity||(C.quantity="Quantity is required"),i.purchaseAmount||(C.purchaseAmount="Purchase Amount is required"),f(C),Object.keys(C).length===0},y=async C=>{if(C.preventDefault(),!!v())try{h(!0);const N={...i,purchasePrice:parseFloat(i.purchasePrice),quantity:parseFloat(i.quantity),brokerage:parseFloat(i.brokerage)||0,stt:parseFloat(i.stt)||0,otherCharges:parseFloat(i.otherCharges)||0,purchaseAmount:parseFloat(i.purchaseAmount),currentPrice:parseFloat(i.currentPrice)||parseFloat(i.purchasePrice)};r?await Mn.updateShare(r._id,N):await Mn.createShare(N),a(),n()}catch(N){console.error("Error saving share:",N),f({submit:"Failed to save share investment. Please try again."})}finally{h(!1)}};return t?e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content large",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:[r?"Edit":"Add"," Share Investment"]}),e.jsx("button",{className:"close-btn",onClick:n,children:e.jsx(Ge,{})})]}),e.jsxs("form",{onSubmit:y,className:"modal-form",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investment Broker *"}),e.jsx("input",{type:"text",name:"broker",value:i.broker,onChange:d,className:p.broker?"error":"",placeholder:"e.g., Zerodha, HDFC Securities",required:!0}),p.broker&&e.jsx("span",{className:"error-text",children:p.broker})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Type of Purchase"}),e.jsxs("select",{name:"purchaseType",value:i.purchaseType,onChange:d,children:[e.jsx("option",{value:"delivery",children:"Delivery"}),e.jsx("option",{value:"intraday",children:"Intraday"}),e.jsx("option",{value:"btst",children:"BTST"}),e.jsx("option",{value:"stbt",children:"STBT"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Client ID *"}),e.jsx("input",{type:"text",name:"clientId",value:i.clientId,onChange:d,className:p.clientId?"error":"",placeholder:"Enter client ID",required:!0}),p.clientId&&e.jsx("span",{className:"error-text",children:p.clientId})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"DP ID *"}),e.jsx("input",{type:"text",name:"dpId",value:i.dpId,onChange:d,className:p.dpId?"error":"",placeholder:"Enter DP ID",required:!0}),p.dpId&&e.jsx("span",{className:"error-text",children:p.dpId})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Trading ID *"}),e.jsx("input",{type:"text",name:"tradingId",value:i.tradingId,onChange:d,className:p.tradingId?"error":"",placeholder:"Enter trading ID",required:!0}),p.tradingId&&e.jsx("span",{className:"error-text",children:p.tradingId})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investor Name *"}),e.jsx("input",{type:"text",name:"investorName",value:i.investorName,onChange:d,className:p.investorName?"error":"",placeholder:"Enter investor name",required:!0}),p.investorName&&e.jsx("span",{className:"error-text",children:p.investorName})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Scrip Name *"}),e.jsx("input",{type:"text",name:"scripName",value:i.scripName,onChange:d,className:p.scripName?"error":"",placeholder:"e.g., RELIANCE, TCS",required:!0}),p.scripName&&e.jsx("span",{className:"error-text",children:p.scripName})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Purchase Price *"}),e.jsx("input",{type:"number",name:"purchasePrice",value:i.purchasePrice,onChange:d,className:p.purchasePrice?"error":"",placeholder:"Enter purchase price per share",min:"0",step:"0.01",required:!0}),p.purchasePrice&&e.jsx("span",{className:"error-text",children:p.purchasePrice})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Quantity *"}),e.jsx("input",{type:"number",name:"quantity",value:i.quantity,onChange:d,className:p.quantity?"error":"",placeholder:"Enter number of shares",min:"0",required:!0}),p.quantity&&e.jsx("span",{className:"error-text",children:p.quantity})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Brokerage"}),e.jsx("input",{type:"number",name:"brokerage",value:i.brokerage,onChange:d,placeholder:"Enter brokerage charges",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"STT"}),e.jsx("input",{type:"number",name:"stt",value:i.stt,onChange:d,placeholder:"Enter STT charges",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Other Charges"}),e.jsx("input",{type:"number",name:"otherCharges",value:i.otherCharges,onChange:d,placeholder:"Enter other charges",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Purchase Amount *"}),e.jsx("input",{type:"number",name:"purchaseAmount",value:i.purchaseAmount,onChange:d,className:p.purchaseAmount?"error":"",placeholder:"Auto-calculated or enter manually",min:"0",step:"0.01",required:!0}),p.purchaseAmount&&e.jsx("span",{className:"error-text",children:p.purchaseAmount})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Date of Purchase"}),e.jsx("input",{type:"date",name:"purchaseDate",value:i.purchaseDate,onChange:d})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Current Price"}),e.jsx("input",{type:"number",name:"currentPrice",value:i.currentPrice,onChange:d,placeholder:"Enter current market price",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Nominee"}),e.jsx("input",{type:"text",name:"nominee",value:i.nominee,onChange:d,placeholder:"Enter nominee name"})]}),e.jsx("div",{className:"form-field",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",name:"intraDay",checked:i.intraDay,onChange:d}),"Intra Day Trading"]})})]}),p.submit&&e.jsx("div",{className:"error-message",children:p.submit}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:n,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"save-btn",disabled:u,children:[u?e.jsx(Bm,{className:"spinner"}):e.jsx(cs,{}),u?"Saving...":"Save"]})]})]})]})}):null},ZZ=({isOpen:t,onClose:n,onSuccess:a,editData:r,insuranceType:i})=>{const[o,u]=x.useState({insuranceType:i||"life",customerName:"",companyName:"",policyName:"",policyNumber:"",policyType:"term",purchaseDate:new Date().toISOString().split("T")[0],maturityDate:"",premiumPaymentMode:"yearly",premiumDate:"",premiumAmount:"",lastPremiumDate:"",sumAssured:"",sumInsured:"",maturityAmount:"",status:"active"}),[h,p]=x.useState(!1),[f,d]=x.useState({});x.useEffect(()=>{u(r?{...r,purchaseDate:r.purchaseDate?r.purchaseDate.split("T")[0]:new Date().toISOString().split("T")[0],maturityDate:r.maturityDate?r.maturityDate.split("T")[0]:"",lastPremiumDate:r.lastPremiumDate?r.lastPremiumDate.split("T")[0]:""}:{insuranceType:i||"life",customerName:"",companyName:"",policyName:"",policyNumber:"",policyType:i==="health"?"health":"term",purchaseDate:new Date().toISOString().split("T")[0],maturityDate:"",premiumPaymentMode:"yearly",premiumDate:"",premiumAmount:"",lastPremiumDate:"",sumAssured:"",sumInsured:"",maturityAmount:"",status:"active"})},[r,i]);const v=w=>{const{name:O,value:S}=w.target;u(E=>({...E,[O]:S})),f[O]&&d(E=>({...E,[O]:""}))},y=()=>{const w={};return o.customerName.trim()||(w.customerName="Customer Name is required"),o.companyName.trim()||(w.companyName="Company Name is required"),o.policyName.trim()||(w.policyName="Policy Name is required"),o.policyNumber.trim()||(w.policyNumber="Policy Number is required"),o.premiumAmount||(w.premiumAmount="Premium Amount is required"),o.insuranceType==="life"&&!o.sumAssured&&(w.sumAssured="Sum Assured is required for life insurance"),o.insuranceType==="health"&&!o.sumInsured&&(w.sumInsured="Sum Insured is required for health insurance"),d(w),Object.keys(w).length===0},C=async w=>{if(w.preventDefault(),!!y())try{p(!0);const O={...o,premiumAmount:parseFloat(o.premiumAmount),sumAssured:o.sumAssured?parseFloat(o.sumAssured):void 0,sumInsured:o.sumInsured?parseFloat(o.sumInsured):void 0,maturityAmount:o.maturityAmount?parseFloat(o.maturityAmount):void 0};r?await Mn.updateInsurance(r._id,O):await Mn.createInsurance(O),a(),n()}catch(O){console.error("Error saving insurance:",O),d({submit:"Failed to save insurance policy. Please try again."})}finally{p(!1)}},N=()=>e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"term",children:"Term"}),e.jsx("option",{value:"whole-life",children:"Whole Life"}),e.jsx("option",{value:"endowment",children:"Endowment"}),e.jsx("option",{value:"ulip",children:"ULIP"}),e.jsx("option",{value:"money-back",children:"Money Back"})]}),j=()=>e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"health",children:"Health"}),e.jsx("option",{value:"critical-illness",children:"Critical Illness"}),e.jsx("option",{value:"family-floater",children:"Family Floater"}),e.jsx("option",{value:"individual",children:"Individual"})]});return t?e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content large",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:[r?"Edit":"Add"," ",o.insuranceType==="life"?"Life":"Health"," Insurance"]}),e.jsx("button",{className:"close-btn",onClick:n,children:e.jsx(Ge,{})})]}),e.jsxs("form",{onSubmit:C,className:"modal-form",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Insurance Type *"}),e.jsxs("select",{name:"insuranceType",value:o.insuranceType,onChange:v,required:!0,children:[e.jsx("option",{value:"life",children:"Life Insurance"}),e.jsx("option",{value:"health",children:"Health Insurance"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Name of Customer *"}),e.jsx("input",{type:"text",name:"customerName",value:o.customerName,onChange:v,className:f.customerName?"error":"",placeholder:"Enter customer name",required:!0}),f.customerName&&e.jsx("span",{className:"error-text",children:f.customerName})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Name of Company *"}),e.jsx("input",{type:"text",name:"companyName",value:o.companyName,onChange:v,className:f.companyName?"error":"",placeholder:"e.g., LIC, HDFC Life, Star Health",required:!0}),f.companyName&&e.jsx("span",{className:"error-text",children:f.companyName})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Name of Policy *"}),e.jsx("input",{type:"text",name:"policyName",value:o.policyName,onChange:v,className:f.policyName?"error":"",placeholder:"Enter policy name",required:!0}),f.policyName&&e.jsx("span",{className:"error-text",children:f.policyName})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Policy Number *"}),e.jsx("input",{type:"text",name:"policyNumber",value:o.policyNumber,onChange:v,className:f.policyNumber?"error":"",placeholder:"Enter policy number",required:!0}),f.policyNumber&&e.jsx("span",{className:"error-text",children:f.policyNumber})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Type of Policy *"}),e.jsx("select",{name:"policyType",value:o.policyType,onChange:v,required:!0,children:o.insuranceType==="life"?N():j()})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Date of Purchase *"}),e.jsx("input",{type:"date",name:"purchaseDate",value:o.purchaseDate,onChange:v,required:!0})]}),o.insuranceType==="life"&&e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Maturity Date"}),e.jsx("input",{type:"date",name:"maturityDate",value:o.maturityDate,onChange:v})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Premium Payment Mode"}),e.jsxs("select",{name:"premiumPaymentMode",value:o.premiumPaymentMode,onChange:v,children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"half-yearly",children:"Half Yearly"}),e.jsx("option",{value:"yearly",children:"Yearly"}),e.jsx("option",{value:"single",children:"Single Premium"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Premium Date"}),e.jsx("input",{type:"text",name:"premiumDate",value:o.premiumDate,onChange:v,placeholder:"e.g., 15th"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Premium Amount *"}),e.jsx("input",{type:"number",name:"premiumAmount",value:o.premiumAmount,onChange:v,className:f.premiumAmount?"error":"",placeholder:"Enter premium amount",min:"0",step:"0.01",required:!0}),f.premiumAmount&&e.jsx("span",{className:"error-text",children:f.premiumAmount})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Last Date of Premium"}),e.jsx("input",{type:"date",name:"lastPremiumDate",value:o.lastPremiumDate,onChange:v})]}),o.insuranceType==="life"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Sum Assured *"}),e.jsx("input",{type:"number",name:"sumAssured",value:o.sumAssured,onChange:v,className:f.sumAssured?"error":"",placeholder:"Enter sum assured",min:"0",step:"0.01",required:!0}),f.sumAssured&&e.jsx("span",{className:"error-text",children:f.sumAssured})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Maturity Amount"}),e.jsx("input",{type:"number",name:"maturityAmount",value:o.maturityAmount,onChange:v,placeholder:"Enter maturity amount",min:"0",step:"0.01"})]})]}),o.insuranceType==="health"&&e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Sum Insured *"}),e.jsx("input",{type:"number",name:"sumInsured",value:o.sumInsured,onChange:v,className:f.sumInsured?"error":"",placeholder:"Enter sum insured",min:"0",step:"0.01",required:!0}),f.sumInsured&&e.jsx("span",{className:"error-text",children:f.sumInsured})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:o.status,onChange:v,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"lapsed",children:"Lapsed"}),e.jsx("option",{value:"matured",children:"Matured"}),e.jsx("option",{value:"surrendered",children:"Surrendered"}),e.jsx("option",{value:"claimed",children:"Claimed"})]})]})]}),f.submit&&e.jsx("div",{className:"error-message",children:f.submit}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:n,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"save-btn",disabled:h,children:[h?e.jsx(Bm,{className:"spinner"}):e.jsx(cs,{}),h?"Saving...":"Save"]})]})]})]})}):null},QZ=({isOpen:t,onClose:n,onSuccess:a,editData:r})=>{const[i,o]=x.useState({debtorName:"",companyName:"",loanType:"home-loan",commencementDate:new Date().toISOString().split("T")[0],closureDate:"",emiAmount:"",emiDate:"",principalAmount:"",interestAmount:"0",penalty:"0",balance:"",interestRate:"",tenure:"",status:"active"}),[u,h]=x.useState(!1),[p,f]=x.useState({});x.useEffect(()=>{o(r?{...r,commencementDate:r.commencementDate?r.commencementDate.split("T")[0]:new Date().toISOString().split("T")[0],closureDate:r.closureDate?r.closureDate.split("T")[0]:"",interestAmount:r.interestAmount||"0",penalty:r.penalty||"0"}:{debtorName:"",companyName:"",loanType:"home-loan",commencementDate:new Date().toISOString().split("T")[0],closureDate:"",emiAmount:"",emiDate:"",principalAmount:"",interestAmount:"0",penalty:"0",balance:"",interestRate:"",tenure:"",status:"active"})},[r]);const d=C=>{const{name:N,value:j}=C.target;o(w=>({...w,[N]:j})),p[N]&&f(w=>({...w,[N]:""})),N==="principalAmount"&&!r&&o(w=>({...w,[N]:j,balance:j}))},v=()=>{const C={};return i.debtorName.trim()||(C.debtorName="Name of Debtor is required"),i.companyName.trim()||(C.companyName="Name of Company/Bank is required"),i.emiAmount||(C.emiAmount="EMI Amount is required"),i.emiDate.trim()||(C.emiDate="EMI Date is required"),i.principalAmount||(C.principalAmount="Principal Amount is required"),i.balance||(C.balance="Balance is required"),i.interestRate||(C.interestRate="Interest Rate is required"),i.tenure||(C.tenure="Tenure is required"),f(C),Object.keys(C).length===0},y=async C=>{if(C.preventDefault(),!!v())try{h(!0);const N={...i,emiAmount:parseFloat(i.emiAmount),principalAmount:parseFloat(i.principalAmount),interestAmount:parseFloat(i.interestAmount)||0,penalty:parseFloat(i.penalty)||0,balance:parseFloat(i.balance),interestRate:parseFloat(i.interestRate),tenure:parseInt(i.tenure),interestPaid:r?.interestPaid||0,totalEmi:r?.totalEmi||0};r?await Mn.updateLoan(r._id,N):await Mn.createLoan(N),a(),n()}catch(N){console.error("Error saving loan:",N),f({submit:"Failed to save loan. Please try again."})}finally{h(!1)}};return t?e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content large",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:[r?"Edit":"Add"," Loan"]}),e.jsx("button",{className:"close-btn",onClick:n,children:e.jsx(Ge,{})})]}),e.jsxs("form",{onSubmit:y,className:"modal-form",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Name of Debtor *"}),e.jsx("input",{type:"text",name:"debtorName",value:i.debtorName,onChange:d,className:p.debtorName?"error":"",placeholder:"Enter debtor name",required:!0}),p.debtorName&&e.jsx("span",{className:"error-text",children:p.debtorName})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Name of Company/Bank *"}),e.jsx("input",{type:"text",name:"companyName",value:i.companyName,onChange:d,className:p.companyName?"error":"",placeholder:"e.g., HDFC Bank, SBI",required:!0}),p.companyName&&e.jsx("span",{className:"error-text",children:p.companyName})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Type of Loan *"}),e.jsxs("select",{name:"loanType",value:i.loanType,onChange:d,required:!0,children:[e.jsx("option",{value:"home-loan",children:"Home Loan"}),e.jsx("option",{value:"personal-loan",children:"Personal Loan"}),e.jsx("option",{value:"car-loan",children:"Car Loan"}),e.jsx("option",{value:"education-loan",children:"Education Loan"}),e.jsx("option",{value:"business-loan",children:"Business Loan"}),e.jsx("option",{value:"gold-loan",children:"Gold Loan"}),e.jsx("option",{value:"credit-card",children:"Credit Card"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Loan Commencement Date *"}),e.jsx("input",{type:"date",name:"commencementDate",value:i.commencementDate,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Loan Closure Date"}),e.jsx("input",{type:"date",name:"closureDate",value:i.closureDate,onChange:d})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"EMI Amount *"}),e.jsx("input",{type:"number",name:"emiAmount",value:i.emiAmount,onChange:d,className:p.emiAmount?"error":"",placeholder:"Enter EMI amount",min:"0",step:"0.01",required:!0}),p.emiAmount&&e.jsx("span",{className:"error-text",children:p.emiAmount})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"EMI Date *"}),e.jsx("input",{type:"text",name:"emiDate",value:i.emiDate,onChange:d,className:p.emiDate?"error":"",placeholder:"e.g., 5th, 15th",required:!0}),p.emiDate&&e.jsx("span",{className:"error-text",children:p.emiDate})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Principal Amount *"}),e.jsx("input",{type:"number",name:"principalAmount",value:i.principalAmount,onChange:d,className:p.principalAmount?"error":"",placeholder:"Enter principal loan amount",min:"0",step:"0.01",required:!0}),p.principalAmount&&e.jsx("span",{className:"error-text",children:p.principalAmount})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Interest Amount"}),e.jsx("input",{type:"number",name:"interestAmount",value:i.interestAmount,onChange:d,placeholder:"Enter interest amount",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Penalty"}),e.jsx("input",{type:"number",name:"penalty",value:i.penalty,onChange:d,placeholder:"Enter penalty amount",min:"0",step:"0.01"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Balance *"}),e.jsx("input",{type:"number",name:"balance",value:i.balance,onChange:d,className:p.balance?"error":"",placeholder:"Enter current balance",min:"0",step:"0.01",required:!0}),p.balance&&e.jsx("span",{className:"error-text",children:p.balance})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Interest Rate (%) *"}),e.jsx("input",{type:"number",name:"interestRate",value:i.interestRate,onChange:d,className:p.interestRate?"error":"",placeholder:"Enter interest rate",min:"0",max:"100",step:"0.01",required:!0}),p.interestRate&&e.jsx("span",{className:"error-text",children:p.interestRate})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Tenure (Months) *"}),e.jsx("input",{type:"number",name:"tenure",value:i.tenure,onChange:d,className:p.tenure?"error":"",placeholder:"Enter tenure in months",min:"1",required:!0}),p.tenure&&e.jsx("span",{className:"error-text",children:p.tenure})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{name:"status",value:i.status,onChange:d,children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"closed",children:"Closed"}),e.jsx("option",{value:"overdue",children:"Overdue"}),e.jsx("option",{value:"foreclosed",children:"Foreclosed"})]})]})]}),p.submit&&e.jsx("div",{className:"error-message",children:p.submit}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"cancel-btn",onClick:n,children:"Cancel"}),e.jsxs("button",{type:"submit",className:"save-btn",disabled:u,children:[u?e.jsx(Bm,{className:"spinner"}):e.jsx(cs,{}),u?"Saving...":"Save"]})]})]})]})}):null},JZ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState([]),[i,o]=x.useState([]),[u,h]=x.useState([]),[p,f]=x.useState([]),[d,v]=x.useState([]),[y,C]=x.useState(!1),[N,j]=x.useState("summary"),[w,O]=x.useState(null),[S,E]=x.useState({mutualFund:{isOpen:!1,editData:null,type:"lumpsum"},share:{isOpen:!1,editData:null},insurance:{isOpen:!1,editData:null,type:"life"},loan:{isOpen:!1,editData:null}});x.useEffect(()=>{T()},[]);const T=async()=>{try{C(!0),O(null);const[Z,te,_,z,L]=await Promise.all([Mn.getSummary(),Mn.getMutualFunds(),Mn.getShares(),Mn.getInsurance(),Mn.getLoans()]),$=te.data.data.mutualFunds||[];n($.filter(A=>A.investmentType==="lumpsum")),r($.filter(A=>A.investmentType==="sip")),o(_.data.data.shares||[]);const q=z.data.data.insurance||[];h(q.filter(A=>A.insuranceType==="life")),f(q.filter(A=>A.insuranceType==="health")),v(L.data.data.loans||[])}catch(Z){console.error("Error fetching investment data:",Z),O("Failed to load investment data. Please try again.")}finally{C(!1)}},k=async(Z,te)=>{if(window.confirm("Are you sure you want to delete this item?"))try{switch(C(!0),Z){case"mutual-fund":await Mn.deleteMutualFund(te);break;case"share":await Mn.deleteShare(te);break;case"insurance":await Mn.deleteInsurance(te);break;case"loan":await Mn.deleteLoan(te);break;default:throw new Error("Unknown item type")}await T()}catch(_){console.error(`Error deleting ${Z}:`,_),O(`Failed to delete ${Z}. Please try again.`)}finally{C(!1)}},F=(Z,te=null,_=null)=>{E(z=>({...z,[Z]:{isOpen:!0,editData:te,type:_||z[Z].type}}))},P=Z=>{E(te=>({...te,[Z]:{...te[Z],isOpen:!1,editData:null}}))},W=async()=>{await T()},R=x.useMemo(()=>{const Z=t.reduce((xe,V)=>xe+(V.marketValue||0),0),te=a.reduce((xe,V)=>xe+(V.marketValue||0),0),_=i.reduce((xe,V)=>xe+(V.currentValuation||0),0),z=u.reduce((xe,V)=>xe+(V.sumAssured||0),0),L=p.reduce((xe,V)=>xe+(V.sumInsured||0),0),$=d.reduce((xe,V)=>xe+(V.balance||0),0),q=Z+te+_,A=z+L,K=$;return{totalInvestments:q,totalInsurance:A,totalLoans:K,netWorth:q+A-K,mutualFunds:Z+te,shares:_,insurance:A}},[t,a,i,u,p,d]),U=[{name:"Mutual Funds",value:R.mutualFunds,color:"#2563EB"},{name:"Shares",value:R.shares,color:"#10B981"},{name:"Insurance",value:R.insurance,color:"#F59E0B"}],J=({id:Z,label:te,isActive:_,onClick:z})=>e.jsx("button",{className:`tab-button ${_?"active":""}`,onClick:()=>z(Z),children:te}),se=()=>e.jsxs("div",{className:"summary-section",children:[e.jsxs("div",{className:"summary-header",children:[e.jsx("h2",{children:"Investment Portfolio Summary"}),e.jsx("p",{children:"Complete overview of all investments, insurance, and loans"})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%)"},children:e.jsx(ua,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Investments"}),e.jsxs("h3",{className:"stat-value",children:["",R.totalInvestments.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:e.jsx(In,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Insurance"}),e.jsxs("h3",{className:"stat-value",children:["",R.totalInsurance.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)"},children:e.jsx(Jr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Loans"}),e.jsxs("h3",{className:"stat-value",children:["",R.totalLoans.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)"},children:e.jsx(es,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Net Worth"}),e.jsxs("h3",{className:"stat-value",style:{color:R.netWorth>=0?"#10B981":"#EF4444"},children:["",R.netWorth.toLocaleString("en-IN")]})]})]})]}),e.jsx("div",{className:"charts-section",children:e.jsxs("div",{className:"chart-card premium",children:[e.jsx("div",{className:"chart-header",children:e.jsxs("div",{className:"chart-title",children:[e.jsx(es,{className:"chart-icon"}),e.jsx("h3",{children:"Portfolio Distribution"})]})}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:300,children:e.jsxs(ur,{children:[e.jsx(Wa,{data:U,cx:"50%",cy:"50%",innerRadius:60,outerRadius:120,paddingAngle:2,dataKey:"value",children:U.map((Z,te)=>e.jsx(_n,{fill:Z.color},`cell-${te}`))}),e.jsx(It,{formatter:Z=>[`${Z.toLocaleString("en-IN")}`,"Value"]}),e.jsx(pn,{})]})})})]})})]}),X=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Mutual Fund Lumpsum"}),e.jsxs("button",{className:"add-button",onClick:()=>F("mutualFund",null,"lumpsum"),children:[e.jsx(Oe,{})," Add New"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Investment Broker"}),e.jsx("th",{children:"Investor Name"}),e.jsx("th",{children:"Name of Fund"}),e.jsx("th",{children:"Type of Fund"}),e.jsx("th",{children:"Folio Number"}),e.jsx("th",{children:"No. Of Units"}),e.jsx("th",{children:"Purchase NAV"}),e.jsx("th",{children:"Purchase Value"}),e.jsx("th",{children:"Current NAV"}),e.jsx("th",{children:"Market Value"}),e.jsx("th",{children:"Profit/Loss"}),e.jsx("th",{children:"Transaction Days"}),e.jsx("th",{children:"Annualized Return (%)"}),e.jsx("th",{children:"Abs. Return (%)"}),e.jsx("th",{children:"Holding Status"}),e.jsx("th",{children:"Holding Pattern"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"17",className:"no-data",children:"No mutual fund lumpsum investments found"})}):t.map((Z,te)=>e.jsxs("tr",{children:[e.jsx("td",{children:Z.broker}),e.jsx("td",{children:Z.investorName}),e.jsx("td",{children:Z.fundName}),e.jsx("td",{children:Z.fundType}),e.jsx("td",{children:Z.folioNumber}),e.jsx("td",{children:Z.units}),e.jsxs("td",{children:["",Z.purchaseNAV?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.purchaseValue?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.currentNAV?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.marketValue?.toLocaleString("en-IN")]}),e.jsxs("td",{className:Z.profit>=0?"profit":"loss",children:["",Z.profit?.toLocaleString("en-IN")]}),e.jsx("td",{children:Z.transactionDays}),e.jsxs("td",{children:[Z.annualizedReturn?.toFixed(2),"%"]}),e.jsxs("td",{children:[Z.absoluteReturn?.toFixed(2),"%"]}),e.jsx("td",{children:Z.holdingStatus}),e.jsx("td",{children:Z.holdingPattern}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",onClick:()=>F("mutualFund",Z,"lumpsum"),children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",onClick:()=>k("mutual-fund",Z._id),children:e.jsx(Ze,{})})]})})]},Z._id||te))})]})})]}),le=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Mutual Fund SIP"}),e.jsxs("button",{className:"add-button",onClick:()=>F("mutualFund",null,"sip"),children:[e.jsx(Oe,{})," Add New"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Investment Broker"}),e.jsx("th",{children:"Investor Name"}),e.jsx("th",{children:"Name of Fund"}),e.jsx("th",{children:"Type of Fund"}),e.jsx("th",{children:"Folio Number"}),e.jsx("th",{children:"SIP Date"}),e.jsx("th",{children:"SIP Amount"}),e.jsx("th",{children:"No. Of Units"}),e.jsx("th",{children:"Purchase NAV"}),e.jsx("th",{children:"Purchase Value"}),e.jsx("th",{children:"Current NAV"}),e.jsx("th",{children:"Market Value"}),e.jsx("th",{children:"Profit/Loss"}),e.jsx("th",{children:"Transaction Days"}),e.jsx("th",{children:"Annualized Return (%)"}),e.jsx("th",{children:"Abs. Return (%)"}),e.jsx("th",{children:"Holding Status"}),e.jsx("th",{children:"Holding Pattern"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:a.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"19",className:"no-data",children:"No mutual fund SIP investments found"})}):a.map((Z,te)=>e.jsxs("tr",{children:[e.jsx("td",{children:Z.broker}),e.jsx("td",{children:Z.investorName}),e.jsx("td",{children:Z.fundName}),e.jsx("td",{children:Z.fundType}),e.jsx("td",{children:Z.folioNumber}),e.jsx("td",{children:Z.sipDate}),e.jsxs("td",{children:["",Z.sipAmount?.toLocaleString("en-IN")]}),e.jsx("td",{children:Z.units}),e.jsxs("td",{children:["",Z.purchaseNAV]}),e.jsxs("td",{children:["",Z.purchaseValue?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.currentNAV]}),e.jsxs("td",{children:["",Z.marketValue?.toLocaleString("en-IN")]}),e.jsxs("td",{className:Z.profit>=0?"profit":"loss",children:["",Z.profit?.toLocaleString("en-IN")]}),e.jsx("td",{children:Z.transactionDays}),e.jsxs("td",{children:[Z.annualizedReturn,"%"]}),e.jsxs("td",{children:[Z.absoluteReturn,"%"]}),e.jsx("td",{children:Z.holdingStatus}),e.jsx("td",{children:Z.holdingPattern}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",children:e.jsx(Ze,{})})]})})]},te))})]})})]}),G=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Shares"}),e.jsxs("button",{className:"add-button",onClick:()=>F("share"),children:[e.jsx(Oe,{})," Add New"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Investment Broker"}),e.jsx("th",{children:"Type of Purchase"}),e.jsx("th",{children:"Client ID"}),e.jsx("th",{children:"DP ID"}),e.jsx("th",{children:"Trading ID"}),e.jsx("th",{children:"Investor Name"}),e.jsx("th",{children:"Scrip Name"}),e.jsx("th",{children:"Purchase Price"}),e.jsx("th",{children:"Quantity"}),e.jsx("th",{children:"Brokerage"}),e.jsx("th",{children:"STT"}),e.jsx("th",{children:"Other Charges"}),e.jsx("th",{children:"Total Charges"}),e.jsx("th",{children:"Purchase Amount"}),e.jsx("th",{children:"Date of Purchase"}),e.jsx("th",{children:"Current Price"}),e.jsx("th",{children:"Current Valuation"}),e.jsx("th",{children:"CAGR (%)"}),e.jsx("th",{children:"Abs. Return (%)"}),e.jsx("th",{children:"Unrealised P&L"}),e.jsx("th",{children:"Scrip Holding (%)"}),e.jsx("th",{children:"Nominee"}),e.jsx("th",{children:"Intra Day"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"24",className:"no-data",children:"No share investments found"})}):i.map((Z,te)=>e.jsxs("tr",{children:[e.jsx("td",{children:Z.broker}),e.jsx("td",{children:Z.purchaseType}),e.jsx("td",{children:Z.clientId}),e.jsx("td",{children:Z.dpId}),e.jsx("td",{children:Z.tradingId}),e.jsx("td",{children:Z.investorName}),e.jsx("td",{children:Z.scripName}),e.jsxs("td",{children:["",Z.purchasePrice]}),e.jsx("td",{children:Z.quantity}),e.jsxs("td",{children:["",Z.brokerage]}),e.jsxs("td",{children:["",Z.stt]}),e.jsxs("td",{children:["",Z.otherCharges]}),e.jsxs("td",{children:["",Z.totalCharges]}),e.jsxs("td",{children:["",Z.purchaseAmount?.toLocaleString("en-IN")]}),e.jsx("td",{children:Z.purchaseDate}),e.jsxs("td",{children:["",Z.currentPrice]}),e.jsxs("td",{children:["",Z.currentValuation?.toLocaleString("en-IN")]}),e.jsxs("td",{children:[Z.cagr,"%"]}),e.jsxs("td",{children:[Z.absoluteReturn,"%"]}),e.jsxs("td",{className:Z.unrealisedPL>=0?"profit":"loss",children:["",Z.unrealisedPL?.toLocaleString("en-IN")]}),e.jsxs("td",{children:[Z.scripHolding,"%"]}),e.jsx("td",{children:Z.nominee}),e.jsx("td",{children:Z.intraDay?"Yes":"No"}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",children:e.jsx(Ze,{})})]})})]},te))})]})})]}),M=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Life Insurance"}),e.jsxs("button",{className:"add-button",onClick:()=>F("insurance",null,"life"),children:[e.jsx(Oe,{})," Add New"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name of Customer"}),e.jsx("th",{children:"Name of Company"}),e.jsx("th",{children:"Name of Policy"}),e.jsx("th",{children:"Policy Number"}),e.jsx("th",{children:"Type of Policy"}),e.jsx("th",{children:"Date of Purchase"}),e.jsx("th",{children:"Premium Payment Mode"}),e.jsx("th",{children:"Premium Date"}),e.jsx("th",{children:"Premium Amount"}),e.jsx("th",{children:"Last Date of Premium"}),e.jsx("th",{children:"Maturity Date"}),e.jsx("th",{children:"Sum Assured"}),e.jsx("th",{children:"Maturity Amount"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"no-data",children:"No life insurance policies found"})}):u.map((Z,te)=>e.jsxs("tr",{children:[e.jsx("td",{children:Z.customerName}),e.jsx("td",{children:Z.companyName}),e.jsx("td",{children:Z.policyName}),e.jsx("td",{children:Z.policyNumber}),e.jsx("td",{children:Z.policyType}),e.jsx("td",{children:Z.purchaseDate}),e.jsx("td",{children:Z.premiumPaymentMode}),e.jsx("td",{children:Z.premiumDate}),e.jsxs("td",{children:["",Z.premiumAmount?.toLocaleString("en-IN")]}),e.jsx("td",{children:Z.lastPremiumDate}),e.jsx("td",{children:Z.maturityDate}),e.jsxs("td",{children:["",Z.sumAssured?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.maturityAmount?.toLocaleString("en-IN")]}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",children:e.jsx(Ze,{})})]})})]},te))})]})})]}),B=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Health Insurance"}),e.jsxs("button",{className:"add-button",onClick:()=>F("insurance",null,"health"),children:[e.jsx(Oe,{})," Add New"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name of Customer"}),e.jsx("th",{children:"Name of Company"}),e.jsx("th",{children:"Name of Policy"}),e.jsx("th",{children:"Policy Number"}),e.jsx("th",{children:"Type of Policy"}),e.jsx("th",{children:"Date of Purchase"}),e.jsx("th",{children:"Premium Date"}),e.jsx("th",{children:"Premium Amount"}),e.jsx("th",{children:"Sum Insured"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"10",className:"no-data",children:"No health insurance policies found"})}):p.map((Z,te)=>e.jsxs("tr",{children:[e.jsx("td",{children:Z.customerName}),e.jsx("td",{children:Z.companyName}),e.jsx("td",{children:Z.policyName}),e.jsx("td",{children:Z.policyNumber}),e.jsx("td",{children:Z.policyType}),e.jsx("td",{children:Z.purchaseDate}),e.jsx("td",{children:Z.premiumDate}),e.jsxs("td",{children:["",Z.premiumAmount?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.sumInsured?.toLocaleString("en-IN")]}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",children:e.jsx(Ze,{})})]})})]},te))})]})})]}),re=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h3",{children:"Loans"}),e.jsxs("button",{className:"add-button",onClick:()=>F("loan"),children:[e.jsx(Oe,{})," Add New"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name of Debtor"}),e.jsx("th",{children:"Name of Company/Bank"}),e.jsx("th",{children:"Type of Loan"}),e.jsx("th",{children:"Loan Commencement Date"}),e.jsx("th",{children:"Loan Closure Date"}),e.jsx("th",{children:"EMI Amount"}),e.jsx("th",{children:"EMI Date"}),e.jsx("th",{children:"Principal Amount"}),e.jsx("th",{children:"Interest Amount"}),e.jsx("th",{children:"Penalty"}),e.jsx("th",{children:"Total EMI"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Interest Paid"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"14",className:"no-data",children:"No loans found"})}):d.map((Z,te)=>e.jsxs("tr",{children:[e.jsx("td",{children:Z.debtorName}),e.jsx("td",{children:Z.companyName}),e.jsx("td",{children:Z.loanType}),e.jsx("td",{children:Z.commencementDate}),e.jsx("td",{children:Z.closureDate}),e.jsxs("td",{children:["",Z.emiAmount?.toLocaleString("en-IN")]}),e.jsx("td",{children:Z.emiDate}),e.jsxs("td",{children:["",Z.principalAmount?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.interestAmount?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.penalty?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.totalEmi?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.balance?.toLocaleString("en-IN")]}),e.jsxs("td",{children:["",Z.interestPaid?.toLocaleString("en-IN")]}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",children:e.jsx(Ze,{})})]})})]},te))})]})})]});return y&&t.length===0?e.jsx("div",{className:"investment-container",children:e.jsx("div",{className:"loading-state",children:e.jsx("p",{children:"Loading investment data..."})})}):e.jsxs("div",{className:"investment-container",children:[e.jsxs("div",{className:"investment-header",children:[e.jsx("h1",{children:"Investment Valuation"}),e.jsx("p",{children:"Complete portfolio overview with detailed analysis"}),w&&e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:w}),e.jsx("button",{onClick:T,className:"retry-btn",children:"Retry"})]})]}),e.jsx("div",{className:"tabs-container",children:e.jsxs("div",{className:"tabs",children:[e.jsx(J,{id:"summary",label:"Summary",isActive:N==="summary",onClick:j}),e.jsx(J,{id:"mutual-lumpsum",label:"Mutual Fund Lumpsum",isActive:N==="mutual-lumpsum",onClick:j}),e.jsx(J,{id:"mutual-sip",label:"Mutual Fund SIP",isActive:N==="mutual-sip",onClick:j}),e.jsx(J,{id:"shares",label:"Shares",isActive:N==="shares",onClick:j}),e.jsx(J,{id:"life-insurance",label:"Life Insurance",isActive:N==="life-insurance",onClick:j}),e.jsx(J,{id:"health-insurance",label:"Health Insurance",isActive:N==="health-insurance",onClick:j}),e.jsx(J,{id:"loans",label:"Loans",isActive:N==="loans",onClick:j})]})}),e.jsxs("div",{className:"tab-content",children:[N==="summary"&&e.jsx(se,{}),N==="mutual-lumpsum"&&e.jsx(X,{}),N==="mutual-sip"&&e.jsx(le,{}),N==="shares"&&e.jsx(G,{}),N==="life-insurance"&&e.jsx(M,{}),N==="health-insurance"&&e.jsx(B,{}),N==="loans"&&e.jsx(re,{})]}),e.jsx(WZ,{isOpen:S.mutualFund.isOpen,onClose:()=>P("mutualFund"),onSuccess:W,editData:S.mutualFund.editData,investmentType:S.mutualFund.type}),e.jsx(XZ,{isOpen:S.share.isOpen,onClose:()=>P("share"),onSuccess:W,editData:S.share.editData}),e.jsx(ZZ,{isOpen:S.insurance.isOpen,onClose:()=>P("insurance"),onSuccess:W,editData:S.insurance.editData,insuranceType:S.insurance.type}),e.jsx(QZ,{isOpen:S.loan.isOpen,onClose:()=>P("loan"),onSuccess:W,editData:S.loan.editData})]})},ph={getProjects:async()=>(await oe.get("/projects")).data,getProject:async t=>(await oe.get(`/projects/${t}`)).data,createProject:async t=>(await oe.post("/projects",t)).data,updateProject:async(t,n)=>(await oe.put(`/projects/${t}`,n)).data,deleteProject:async t=>(await oe.delete(`/projects/${t}`)).data},eQ=({isOpen:t,onClose:n,onSave:a,project:r})=>{const[i,o]=x.useState({name:"",description:"",status:"active",startDate:new Date().toISOString().split("T")[0],endDate:"",budget:"",currency:"INR",color:"#3B82F6",tags:""}),[u,h]=x.useState({}),[p,f]=x.useState(!1),d=[{value:"active",label:"Active"},{value:"completed",label:"Completed"},{value:"on-hold",label:"On Hold"},{value:"cancelled",label:"Cancelled"}],v=["INR","USD","EUR","GBP","JPY","AUD","CAD","CHF","CNY"],y=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6","#F97316","#6366F1","#84CC16"];x.useEffect(()=>{r&&o({name:r.name||"",description:r.description||"",status:r.status||"active",startDate:r.startDate?new Date(r.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0],endDate:r.endDate?new Date(r.endDate).toISOString().split("T")[0]:"",budget:r.budget||"",currency:r.currency||"INR",color:r.color||"#3B82F6",tags:r.tags?r.tags.join(", "):""})},[r]);const C=(O,S)=>{o(E=>({...E,[O]:S})),u[O]&&h(E=>({...E,[O]:null}))},N=()=>{const O={};return i.name.trim()||(O.name="Project name is required"),i.endDate&&i.startDate&&i.endDate<i.startDate&&(O.endDate="End date must be after start date"),i.budget&&(isNaN(i.budget)||parseFloat(i.budget)<0)&&(O.budget="Budget must be a positive number"),h(O),Object.keys(O).length===0},j=async O=>{if(O.preventDefault(),!!N()){f(!0);try{const S={...i,budget:i.budget?parseFloat(i.budget):0,tags:i.tags?i.tags.split(",").map(E=>E.trim()).filter(E=>E):[],startDate:new Date(i.startDate),endDate:i.endDate?new Date(i.endDate):void 0};await a(S,r?._id),w()}catch(S){console.error("Error saving project:",S),alert(S.response?.data?.error||"Failed to save project")}finally{f(!1)}}},w=()=>{o({name:"",description:"",status:"active",startDate:new Date().toISOString().split("T")[0],endDate:"",budget:"",currency:"INR",color:"#3B82F6",tags:""}),h({}),n()};return t?e.jsx("div",{className:"project-modal-overlay",onClick:w,children:e.jsxs("div",{className:"project-modal",onClick:O=>O.stopPropagation(),children:[e.jsxs("div",{className:"project-modal-header",children:[e.jsx("h2",{children:r?"Edit Project":"New Project"}),e.jsx("button",{className:"close-btn",onClick:w,children:e.jsx(Ge,{})})]}),e.jsxs("form",{className:"project-modal-form",onSubmit:j,children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label required",children:[e.jsx($g,{}),"Project Name"]}),e.jsx("input",{type:"text",className:`form-input ${u.name?"error":""}`,placeholder:"Enter project name",value:i.name,onChange:O=>C("name",O.target.value)}),u.name&&e.jsx("span",{className:"error-text",children:u.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(ct,{}),"Description"]}),e.jsx("textarea",{className:"form-textarea",placeholder:"Enter project description",rows:"3",value:i.description,onChange:O=>C("description",O.target.value)})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Status"}),e.jsx("select",{className:"form-select",value:i.status,onChange:O=>C("status",O.target.value),children:d.map(O=>e.jsx("option",{value:O.value,children:O.label},O.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Currency"}),e.jsx("select",{className:"form-select",value:i.currency,onChange:O=>C("currency",O.target.value),children:v.map(O=>e.jsx("option",{value:O,children:O},O))})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label required",children:[e.jsx(Va,{}),"Start Date"]}),e.jsx("input",{type:"date",className:`form-input ${u.startDate?"error":""}`,value:i.startDate,onChange:O=>C("startDate",O.target.value)}),u.startDate&&e.jsx("span",{className:"error-text",children:u.startDate})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(Va,{}),"End Date (Optional)"]}),e.jsx("input",{type:"date",className:`form-input ${u.endDate?"error":""}`,value:i.endDate,onChange:O=>C("endDate",O.target.value),min:i.startDate}),u.endDate&&e.jsx("span",{className:"error-text",children:u.endDate})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(ua,{}),"Budget"]}),e.jsx("input",{type:"number",step:"0.01",className:`form-input ${u.budget?"error":""}`,placeholder:"Enter project budget",value:i.budget,onChange:O=>C("budget",O.target.value)}),u.budget&&e.jsx("span",{className:"error-text",children:u.budget})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Project Color"}),e.jsx("div",{className:"color-selector",children:y.map(O=>e.jsx("button",{type:"button",className:`color-btn ${i.color===O?"active":""}`,style:{backgroundColor:O},onClick:()=>C("color",O)},O))})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(nO,{}),"Tags"]}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Enter tags separated by commas",value:i.tags,onChange:O=>C("tags",O.target.value)}),e.jsx("small",{className:"form-hint",children:"Separate multiple tags with commas"})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:w,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-save",disabled:p,children:p?"Saving...":r?"Update":"Create"})]})]})]})}):null},tQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(!1),[i,o]=x.useState(null),[u,h]=x.useState(!1),[p,f]=x.useState("all"),[d,v]=x.useState([]),[y,C]=x.useState(!1),[N,j]=x.useState(null),[w,O]=x.useState(null),S=x.useRef(null),[E,T]=x.useState({category:"project-wise",type:"Income",name:"",source:"",amount:"",startDate:"",frequency:"one-time",notes:""}),k=["#2563EB","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6"];x.useEffect(()=>{F(),P()},[]),x.useEffect(()=>{a&&S.current&&setTimeout(()=>{S.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},[a]);const F=async()=>{try{h(!0);const z=await De.getAll("project-wise");n(z.data.investments||[])}catch(z){console.error("Error fetching project entries:",z),n([{_id:"demo-1",category:"project-wise",type:"Income",name:"Project Alpha",provider:"Dev A",amount:12e4,startDate:"2025-01-10",frequency:"monthly",notes:"Retainer payment"},{_id:"demo-2",category:"project-wise",type:"Expense",name:"Project Alpha",provider:"Dev X",amount:45e3,startDate:"2025-01-15",frequency:"one-time",notes:"Equipment purchase"},{_id:"demo-3",category:"project-wise",type:"Expense",name:"Project Beta",provider:"Dev Y",amount:3e4,startDate:"2025-01-20",frequency:"monthly",notes:"Subcontracting"}])}finally{h(!1)}},P=async()=>{try{const z=await ph.getProjects();v(z.projects||[])}catch(z){console.error("Error fetching projects:",z),v([])}},W=async z=>{z.preventDefault();try{const L={category:"project-wise",type:E.type,name:E.name,source:E.source,amount:parseFloat(E.amount)||0,startDate:E.startDate,frequency:E.frequency,notes:E.notes||""};i?await De.update(i,L):await De.create(L),J(),F()}catch(L){console.error("Error saving entry:",L),alert(L.response?.data?.message||"Error saving entry")}},R=z=>{T({category:z.category,type:z.type,name:z.name,source:z.source||z.provider||"",amount:z.amount||"",startDate:z.startDate?.split("T")[0]||"",frequency:z.frequency||"one-time",notes:z.notes||""}),o(z._id),r(!0)},U=async z=>{if(window.confirm("Are you sure you want to delete this record?"))try{await De.delete(z),F()}catch(L){console.error("Error deleting entry:",L),alert("Error deleting entry")}},J=()=>{T({category:"project-wise",type:"Income",name:"",source:"",amount:"",startDate:"",frequency:"one-time",notes:""}),o(null),r(!1)},se=()=>{j(null),C(!0)},X=z=>{j(z),C(!0)},le=async(z,L)=>{try{L?await ph.updateProject(L,z):await ph.createProject(z),await P(),C(!1),j(null)}catch($){throw console.error("Error saving project:",$),$}},G=async z=>{if(window.confirm("Are you sure you want to delete this project?"))try{await ph.deleteProject(z),await P()}catch(L){console.error("Error deleting project:",L)}},M=x.useMemo(()=>{const z=t.filter(A=>A.type==="Income").reduce((A,K)=>A+(K.amount||0),0),L=t.filter(A=>A.type==="Expense").reduce((A,K)=>A+(K.amount||0),0),$=z-L,q=z>0?(L/z*100).toFixed(2):0;return{income:z,expense:L,net:$,expensePercent:q}},[t]),B=x.useMemo(()=>{const z=new Map;for(const L of t){const $=L.name||"Unnamed Project",q=z.get($)||{name:$,income:0,expense:0,net:0,count:0};L.type==="Income"?q.income+=L.amount||0:q.expense+=L.amount||0,q.net=q.income-q.expense,q.count+=1,z.set($,q)}return Array.from(z.values())},[t]);x.useMemo(()=>{const z=[...new Set(t.map(q=>q.name).filter(Boolean))],L=d.map(q=>q.name);return[...new Set([...L,...z])].sort()},[t,d]);const re=x.useMemo(()=>p==="all"?t:t.filter(z=>z.name===p),[t,p]),Z=x.useMemo(()=>{const z=re.filter(A=>A.type==="Income").reduce((A,K)=>A+(K.amount||0),0),L=re.filter(A=>A.type==="Expense").reduce((A,K)=>A+(K.amount||0),0),$=z-L,q=z>0?(L/z*100).toFixed(2):0;return{income:z,expense:L,net:$,expensePercent:q}},[re]);x.useMemo(()=>{const z=new Map;for(const L of re){const $=L.name||"Unnamed Project",q=z.get($)||{name:$,income:0,expense:0,net:0,count:0};L.type==="Income"?q.income+=L.amount||0:q.expense+=L.amount||0,q.net=q.income-q.expense,q.count+=1,z.set($,q)}return Array.from(z.values())},[re]),x.useMemo(()=>{const z=new Map;for(const L of re){const $=L.source||L.provider||"Unknown",q=z.get($)||{name:$,value:0};q.value+=L.amount||0,z.set($,q)}return Array.from(z.values())},[re]),x.useMemo(()=>[{name:"Income",value:Z.income},{name:"Expense",value:Z.expense}],[Z]);const te=x.useMemo(()=>{const z=new Map;for(const L of t){const $=L.source||L.provider||"Unknown",q=z.get($)||{name:$,value:0};q.value+=L.amount||0,z.set($,q)}return Array.from(z.values())},[t]),_=x.useMemo(()=>[{name:"Income",value:M.income},{name:"Expense",value:M.expense}],[M]);return e.jsxs("div",{className:"investment-container",children:[e.jsxs("div",{className:"investment-header",children:[e.jsx("h1",{children:"Project Wise Income / Expense"}),e.jsx("div",{className:"header-actions",children:e.jsxs("button",{className:"btn-primary",onClick:()=>r(!a),children:[e.jsx(Oe,{})," ",a?"Cancel":"Add Record"]})})]}),d.length>0&&e.jsxs("div",{className:"project-management-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Manage Projects"}),e.jsxs("button",{className:"btn-secondary",onClick:se,children:[e.jsx(Oe,{})," Add New Project"]})]}),e.jsx("div",{className:"projects-grid",children:d.map(z=>e.jsxs("div",{className:"project-card",children:[e.jsxs("div",{className:"project-info",children:[e.jsxs("div",{className:"project-header-info",children:[e.jsx("div",{className:"project-color",style:{backgroundColor:z.color}}),e.jsx("h3",{children:z.name}),e.jsx("span",{className:`project-status ${z.status}`,children:z.status})]}),z.description&&e.jsx("p",{className:"project-description",children:z.description}),e.jsxs("div",{className:"project-details",children:[z.budget>0&&e.jsxs("span",{className:"project-budget",children:["Budget: ",z.currency," ",z.budget.toLocaleString("en-IN")]}),z.tags.length>0&&e.jsx("div",{className:"project-tags",children:z.tags.map((L,$)=>e.jsx("span",{className:"project-tag",children:L},$))})]})]}),e.jsxs("div",{className:"project-actions",children:[e.jsx("button",{className:"btn-icon btn-edit",onClick:()=>X(z),title:"Edit Project",children:e.jsx(ct,{})}),e.jsx("button",{className:"btn-icon btn-danger",onClick:()=>G(z._id),title:"Delete Project",children:e.jsx(Ze,{})})]})]},z._id))})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%)"},children:e.jsx(ua,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Income"}),e.jsxs("h3",{className:"stat-value",children:["",M.income.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)"},children:e.jsx(Jr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Expense"}),e.jsxs("h3",{className:"stat-value",children:["",M.expense.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:e.jsx(In,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Net"}),e.jsxs("h3",{className:"stat-value",style:{color:M.net>=0?"#10B981":"#EF4444"},children:["",M.net.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #6D28D9 100%)"},children:e.jsx($g,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Projects"}),e.jsx("h3",{className:"stat-value",children:B.length})]})]})]}),t.length>0&&e.jsxs("div",{className:"charts-section",children:[e.jsxs("div",{className:"charts-header",children:[e.jsx("h2",{children:"Project Analytics"}),e.jsx("p",{children:"Income vs Expense and project-wise distribution"})]}),e.jsxs("div",{className:"charts-grid",children:[e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(es,{className:"chart-icon"}),e.jsx("h3",{children:"Income vs Expense"})]}),e.jsx("div",{className:"chart-subtitle",children:"Share of totals"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(ur,{children:[e.jsx(Wa,{data:_,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:_.map((z,L)=>e.jsx(_n,{fill:k[L%k.length],stroke:"#fff",strokeWidth:2},`cell-${L}`))}),e.jsx(It,{formatter:z=>[`${z.toLocaleString("en-IN")}`,"Value"]}),e.jsx(pn,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})]}),e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(Kr,{className:"chart-icon"}),e.jsx("h3",{children:"Project Performance"})]}),e.jsx("div",{className:"chart-subtitle",children:"Income vs Expense by project"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(os,{data:B,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.3}),e.jsx(Zn,{dataKey:"name",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},tickFormatter:z=>`${(z/1e3).toFixed(0)}K`}),e.jsx(It,{formatter:z=>[`${z.toLocaleString("en-IN")}`,""]}),e.jsx(pn,{}),e.jsx(Rn,{dataKey:"income",fill:"#2563EB",name:"Income",radius:[8,8,0,0]}),e.jsx(Rn,{dataKey:"expense",fill:"#EF4444",name:"Expense",radius:[8,8,0,0]})]})})})]}),e.jsxs("div",{className:"chart-card premium full-width",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(Jr,{className:"chart-icon"}),e.jsx("h3",{children:"Source Distribution"})]}),e.jsx("div",{className:"chart-subtitle",children:"Totals by source"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:280,children:e.jsxs(Ru,{data:te,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"areaGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#6D28D9",stopOpacity:.2})]})}),e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.3}),e.jsx(Zn,{dataKey:"name",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},tickFormatter:z=>`${(z/1e3).toFixed(0)}K`}),e.jsx(It,{formatter:z=>[`${z.toLocaleString("en-IN")}`,"Total"]}),e.jsx(wo,{type:"monotone",dataKey:"value",stroke:"#8B5CF6",strokeWidth:3,fill:"url(#areaGradient)"})]})})})]})]})]}),B.length>0&&e.jsxs("div",{className:"projects-summary-section",children:[e.jsx("h2",{children:"Projects Overview"}),e.jsx("p",{style:{color:"#64748b",marginBottom:"20px"},children:"Click on a project to view detailed entries"}),e.jsx("div",{className:"projects-summary-grid",children:B.map(z=>{const L=t.filter(q=>q.name===z.name),$=w===z.name;return e.jsxs("div",{className:"project-summary-card",children:[e.jsxs("div",{className:"project-summary-header",onClick:()=>O($?null:z.name),style:{cursor:"pointer"},children:[e.jsxs("div",{className:"project-summary-title",children:[e.jsx($g,{style:{marginRight:"10px",color:"#8B5CF6"}}),e.jsx("h3",{children:z.name}),e.jsx("span",{style:{marginLeft:"auto",fontSize:"14px",color:"#64748b"},children:$?"":""})]}),e.jsxs("div",{className:"project-summary-stats",children:[e.jsxs("div",{className:"project-stat income",children:[e.jsx("span",{className:"stat-label",children:"Income"}),e.jsxs("span",{className:"stat-amount",children:["",z.income.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"project-stat expense",children:[e.jsx("span",{className:"stat-label",children:"Expense"}),e.jsxs("span",{className:"stat-amount",children:["",z.expense.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"project-stat net",children:[e.jsx("span",{className:"stat-label",children:"Net"}),e.jsxs("span",{className:"stat-amount",style:{color:z.net>=0?"#10B981":"#EF4444"},children:["",z.net.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"project-stat count",children:[e.jsx("span",{className:"stat-label",children:"Entries"}),e.jsx("span",{className:"stat-amount",children:z.count})]})]})]}),$&&e.jsx("div",{className:"project-entries-detail",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Source"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Frequency"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Notes"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:L.map(q=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"investment-type-badge",style:{background:q.type==="Income"?"linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%)":"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)"},children:q.type})}),e.jsx("td",{children:q.source||q.provider||""}),e.jsxs("td",{children:["",(q.amount||0).toLocaleString("en-IN")]}),e.jsx("td",{children:q.frequency||"one-time"}),e.jsx("td",{children:new Date(q.startDate).toLocaleDateString("en-IN")}),e.jsx("td",{children:q.notes||""}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>R(q),className:"btn-icon",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>U(q._id),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},q._id))})]})})]},z.name)})})]}),t.length===0&&!u&&e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No project records found. Add your first entry to get started!"})}),a&&e.jsxs("div",{ref:S,className:"investment-form-card",children:[e.jsx("h2",{children:i?"Edit Record":"Add New Record"}),e.jsxs("form",{onSubmit:W,className:"investment-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Type *"}),e.jsxs("select",{value:E.type,onChange:z=>T({...E,type:z.target.value}),required:!0,children:[e.jsx("option",{value:"Income",children:"Income"}),e.jsx("option",{value:"Expense",children:"Expense"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Project Name *"}),e.jsxs("div",{className:"project-input-group",children:[e.jsxs("select",{value:E.name,onChange:z=>T({...E,name:z.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select Project..."}),d.map(z=>e.jsx("option",{value:z.name,children:z.name},z._id)),e.jsx("option",{value:"custom",children:"+ Add Custom Project"})]}),e.jsx("button",{type:"button",onClick:se,className:"btn-add-project",title:"Add New Project",children:e.jsx(Oe,{})})]}),E.name==="custom"&&e.jsx("input",{type:"text",placeholder:"Enter custom project name",value:E.customName||"",onChange:z=>T({...E,name:z.target.value,customName:z.target.value}),required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Source"}),e.jsx("input",{type:"text",value:E.source,onChange:z=>T({...E,source:z.target.value}),placeholder:"e.g., Client Payment, Equipment Purchase"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Amount *"}),e.jsx("input",{type:"number",value:E.amount,onChange:z=>T({...E,amount:z.target.value}),placeholder:"",required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Date *"}),e.jsx("input",{type:"date",value:E.startDate,onChange:z=>T({...E,startDate:z.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Frequency *"}),e.jsxs("select",{value:E.frequency,onChange:z=>T({...E,frequency:z.target.value}),required:!0,children:[e.jsx("option",{value:"one-time",children:"One-time"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:E.notes,onChange:z=>T({...E,notes:z.target.value}),placeholder:"Additional details"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:i?"Update":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:J,children:"Reset"})]})]})]}),e.jsx(eQ,{isOpen:y,onClose:()=>{C(!1),j(null)},onSave:le,project:N})]})},Bt={getBankAccounts:()=>oe.get("/investment-profile/bank-accounts"),getBankAccount:t=>oe.get(`/investment-profile/bank-accounts/${t}`),createBankAccount:t=>oe.post("/investment-profile/bank-accounts",t),updateBankAccount:(t,n)=>oe.put(`/investment-profile/bank-accounts/${t}`,n),deleteBankAccount:t=>oe.delete(`/investment-profile/bank-accounts/${t}`),getCardDetails:()=>oe.get("/investment-profile/card-details"),getCardDetail:t=>oe.get(`/investment-profile/card-details/${t}`),createCardDetail:t=>oe.post("/investment-profile/card-details",t),updateCardDetail:(t,n)=>oe.put(`/investment-profile/card-details/${t}`,n),deleteCardDetail:t=>oe.delete(`/investment-profile/card-details/${t}`),getPaymentGateways:()=>oe.get("/investment-profile/payment-gateways"),getPaymentGateway:t=>oe.get(`/investment-profile/payment-gateways/${t}`),createPaymentGateway:t=>oe.post("/investment-profile/payment-gateways",t),updatePaymentGateway:(t,n)=>oe.put(`/investment-profile/payment-gateways/${t}`,n),deletePaymentGateway:t=>oe.delete(`/investment-profile/payment-gateways/${t}`),getInsurance:()=>oe.get("/investment-profile/insurance"),getInsuranceItem:t=>oe.get(`/investment-profile/insurance/${t}`),createInsurance:t=>oe.post("/investment-profile/insurance",t),updateInsurance:(t,n)=>oe.put(`/investment-profile/insurance/${t}`,n),deleteInsurance:t=>oe.delete(`/investment-profile/insurance/${t}`),getMutualFunds:()=>oe.get("/investment-profile/mutual-funds"),getMutualFund:t=>oe.get(`/investment-profile/mutual-funds/${t}`),createMutualFund:t=>oe.post("/investment-profile/mutual-funds",t),updateMutualFund:(t,n)=>oe.put(`/investment-profile/mutual-funds/${t}`,n),deleteMutualFund:t=>oe.delete(`/investment-profile/mutual-funds/${t}`),getShares:()=>oe.get("/investment-profile/shares"),getShare:t=>oe.get(`/investment-profile/shares/${t}`),createShare:t=>oe.post("/investment-profile/shares",t),updateShare:(t,n)=>oe.put(`/investment-profile/shares/${t}`,n),deleteShare:t=>oe.delete(`/investment-profile/shares/${t}`)},nQ=({isOpen:t,onClose:n,onSuccess:a,editData:r})=>{const[i,o]=x.useState({name:"",bank:"",accountNumber:"",url:"",loginUserId:"",password:"",transactionPassword:"",ifsc:"",cif:"",nominee:"",emailId:"",mobileNumber:"",address:"",customerCareNumber:"",customerCareEmailId:""}),[u,h]=x.useState(!1),[p,f]=x.useState(null);x.useEffect(()=>{o(r||{name:"",bank:"",accountNumber:"",url:"",loginUserId:"",password:"",transactionPassword:"",ifsc:"",cif:"",nominee:"",emailId:"",mobileNumber:"",address:"",customerCareNumber:"",customerCareEmailId:""})},[r,t]);const d=y=>{const{name:C,value:N}=y.target;o(j=>({...j,[C]:N}))},v=async y=>{y.preventDefault(),h(!0),f(null);try{r?await Bt.updateBankAccount(r._id,i):await Bt.createBankAccount(i),a(),n()}catch(C){console.error("Error saving bank account:",C),f(C.response?.data?.message||"Failed to save bank account")}finally{h(!1)}};return t?e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:r?"Edit Bank Account":"Add Bank Account"}),e.jsx("button",{className:"close-button",onClick:n,children:e.jsx(Ge,{})})]}),p&&e.jsx("div",{className:"error-message",children:p}),e.jsxs("form",{onSubmit:v,className:"modal-form",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name *"}),e.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank *"}),e.jsx("input",{type:"text",name:"bank",value:i.bank,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Number *"}),e.jsx("input",{type:"text",name:"accountNumber",value:i.accountNumber,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"url",name:"url",value:i.url,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User ID"}),e.jsx("input",{type:"text",name:"loginUserId",value:i.loginUserId,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",name:"password",value:i.password,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Transaction Password"}),e.jsx("input",{type:"password",name:"transactionPassword",value:i.transactionPassword,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"IFSC"}),e.jsx("input",{type:"text",name:"ifsc",value:i.ifsc,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CIF"}),e.jsx("input",{type:"text",name:"cif",value:i.cif,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nominee"}),e.jsx("input",{type:"text",name:"nominee",value:i.nominee,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email ID"}),e.jsx("input",{type:"email",name:"emailId",value:i.emailId,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobile Number"}),e.jsx("input",{type:"tel",name:"mobileNumber",value:i.mobileNumber,onChange:d})]}),e.jsxs("div",{className:"form-group form-group-full",children:[e.jsx("label",{children:"Address"}),e.jsx("textarea",{name:"address",value:i.address,onChange:d,rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Number"}),e.jsx("input",{type:"tel",name:"customerCareNumber",value:i.customerCareNumber,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Email ID"}),e.jsx("input",{type:"email",name:"customerCareEmailId",value:i.customerCareEmailId,onChange:d})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":r?"Update":"Add"})]})]})]})}):null},aQ=({isOpen:t,onClose:n,onSuccess:a,editData:r})=>{const[i,o]=x.useState({name:"",typeOfAccount:"",bank:"",atmPin:"",accountNumber:"",cardNumber:"",expiryDate:"",cvv:"",customerCareNumber:"",customerCareEmailId:""}),[u,h]=x.useState(!1),[p,f]=x.useState(null);x.useEffect(()=>{o(r||{name:"",typeOfAccount:"",bank:"",atmPin:"",accountNumber:"",cardNumber:"",expiryDate:"",cvv:"",customerCareNumber:"",customerCareEmailId:""})},[r,t]);const d=y=>{const{name:C,value:N}=y.target;o(j=>({...j,[C]:N}))},v=async y=>{y.preventDefault(),h(!0),f(null);try{r?await Bt.updateCardDetail(r._id,i):await Bt.createCardDetail(i),a(),n()}catch(C){console.error("Error saving card detail:",C),f(C.response?.data?.message||"Failed to save card detail")}finally{h(!1)}};return t?e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:r?"Edit Card Detail":"Add Card Detail"}),e.jsx("button",{className:"close-button",onClick:n,children:e.jsx(Ge,{})})]}),p&&e.jsx("div",{className:"error-message",children:p}),e.jsxs("form",{onSubmit:v,className:"modal-form",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name *"}),e.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type of Account *"}),e.jsxs("select",{name:"typeOfAccount",value:i.typeOfAccount,onChange:d,required:!0,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Credit Card",children:"Credit Card"}),e.jsx("option",{value:"Debit Card",children:"Debit Card"}),e.jsx("option",{value:"Prepaid Card",children:"Prepaid Card"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank *"}),e.jsx("input",{type:"text",name:"bank",value:i.bank,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ATM Pin"}),e.jsx("input",{type:"password",name:"atmPin",value:i.atmPin,onChange:d,maxLength:"4"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Number"}),e.jsx("input",{type:"text",name:"accountNumber",value:i.accountNumber,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Card Number *"}),e.jsx("input",{type:"text",name:"cardNumber",value:i.cardNumber,onChange:d,required:!0,maxLength:"16"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expiry Date"}),e.jsx("input",{type:"month",name:"expiryDate",value:i.expiryDate,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CVV"}),e.jsx("input",{type:"password",name:"cvv",value:i.cvv,onChange:d,maxLength:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Number"}),e.jsx("input",{type:"tel",name:"customerCareNumber",value:i.customerCareNumber,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Email ID"}),e.jsx("input",{type:"email",name:"customerCareEmailId",value:i.customerCareEmailId,onChange:d})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":r?"Update":"Add"})]})]})]})}):null},rQ=({isOpen:t,onClose:n,onSuccess:a,editData:r})=>{const[i,o]=x.useState({url:"",login:"",password:""}),[u,h]=x.useState(!1),[p,f]=x.useState(null);x.useEffect(()=>{o(r||{url:"",login:"",password:""})},[r,t]);const d=y=>{const{name:C,value:N}=y.target;o(j=>({...j,[C]:N}))},v=async y=>{y.preventDefault(),h(!0),f(null);try{r?await Bt.updatePaymentGateway(r._id,i):await Bt.createPaymentGateway(i),a(),n()}catch(C){console.error("Error saving payment gateway:",C),f(C.response?.data?.message||"Failed to save payment gateway")}finally{h(!1)}};return t?e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-small",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:r?"Edit Payment Gateway":"Add Payment Gateway"}),e.jsx("button",{className:"close-button",onClick:n,children:e.jsx(Ge,{})})]}),p&&e.jsx("div",{className:"error-message",children:p}),e.jsxs("form",{onSubmit:v,className:"modal-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"URL *"}),e.jsx("input",{type:"url",name:"url",value:i.url,onChange:d,required:!0,placeholder:"https://example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Login *"}),e.jsx("input",{type:"text",name:"login",value:i.login,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password *"}),e.jsx("input",{type:"password",name:"password",value:i.password,onChange:d,required:!0})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":r?"Update":"Add"})]})]})]})}):null},sQ=({isOpen:t,onClose:n,onSuccess:a,editData:r})=>{const[i,o]=x.useState({nameOfInsurer:"",nameOfPolicy:"",insuranceType:"",policyNumber:"",url:"",loginUserId:"",password:"",telNo:"",tollFreeNo:"",emailId:""}),[u,h]=x.useState(!1),[p,f]=x.useState(null);x.useEffect(()=>{o(r||{nameOfInsurer:"",nameOfPolicy:"",insuranceType:"",policyNumber:"",url:"",loginUserId:"",password:"",telNo:"",tollFreeNo:"",emailId:""})},[r,t]);const d=y=>{const{name:C,value:N}=y.target;o(j=>({...j,[C]:N}))},v=async y=>{y.preventDefault(),h(!0),f(null);try{r?await Bt.updateInsurance(r._id,i):await Bt.createInsurance(i),a(),n()}catch(C){console.error("Error saving insurance:",C),f(C.response?.data?.message||"Failed to save insurance")}finally{h(!1)}};return t?e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:r?"Edit Insurance":"Add Insurance"}),e.jsx("button",{className:"close-button",onClick:n,children:e.jsx(Ge,{})})]}),p&&e.jsx("div",{className:"error-message",children:p}),e.jsxs("form",{onSubmit:v,className:"modal-form",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Insurer *"}),e.jsx("input",{type:"text",name:"nameOfInsurer",value:i.nameOfInsurer,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Policy *"}),e.jsx("input",{type:"text",name:"nameOfPolicy",value:i.nameOfPolicy,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Insurance Type *"}),e.jsxs("select",{name:"insuranceType",value:i.insuranceType,onChange:d,required:!0,children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Life",children:"Life"}),e.jsx("option",{value:"Health",children:"Health"}),e.jsx("option",{value:"Vehicle",children:"Vehicle"}),e.jsx("option",{value:"Property",children:"Property"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Policy Number *"}),e.jsx("input",{type:"text",name:"policyNumber",value:i.policyNumber,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"url",name:"url",value:i.url,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User ID"}),e.jsx("input",{type:"text",name:"loginUserId",value:i.loginUserId,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",name:"password",value:i.password,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tel No."}),e.jsx("input",{type:"tel",name:"telNo",value:i.telNo,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Toll Free No."}),e.jsx("input",{type:"tel",name:"tollFreeNo",value:i.tollFreeNo,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email ID"}),e.jsx("input",{type:"email",name:"emailId",value:i.emailId,onChange:d})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":r?"Update":"Add"})]})]})]})}):null},iQ=({isOpen:t,onClose:n,onSuccess:a,editData:r})=>{const[i,o]=x.useState({nameOfPerson:"",company:"",url:"",loginUserId:"",password:""}),[u,h]=x.useState(!1),[p,f]=x.useState(null);x.useEffect(()=>{o(r||{nameOfPerson:"",company:"",url:"",loginUserId:"",password:""})},[r,t]);const d=y=>{const{name:C,value:N}=y.target;o(j=>({...j,[C]:N}))},v=async y=>{y.preventDefault(),h(!0),f(null);try{r?await Bt.updateMutualFund(r._id,i):await Bt.createMutualFund(i),a(),n()}catch(C){console.error("Error saving mutual fund:",C),f(C.response?.data?.message||"Failed to save mutual fund")}finally{h(!1)}};return t?e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-small",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:r?"Edit Mutual Fund":"Add Mutual Fund"}),e.jsx("button",{className:"close-button",onClick:n,children:e.jsx(Ge,{})})]}),p&&e.jsx("div",{className:"error-message",children:p}),e.jsxs("form",{onSubmit:v,className:"modal-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Person *"}),e.jsx("input",{type:"text",name:"nameOfPerson",value:i.nameOfPerson,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsx("input",{type:"text",name:"company",value:i.company,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"url",name:"url",value:i.url,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User ID"}),e.jsx("input",{type:"text",name:"loginUserId",value:i.loginUserId,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",name:"password",value:i.password,onChange:d})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":r?"Update":"Add"})]})]})]})}):null},lQ=({isOpen:t,onClose:n,onSuccess:a,editData:r})=>{const[i,o]=x.useState({company:"",url:"",loginUserId:"",password:""}),[u,h]=x.useState(!1),[p,f]=x.useState(null);x.useEffect(()=>{o(r||{company:"",url:"",loginUserId:"",password:""})},[r,t]);const d=y=>{const{name:C,value:N}=y.target;o(j=>({...j,[C]:N}))},v=async y=>{y.preventDefault(),h(!0),f(null);try{r?await Bt.updateShare(r._id,i):await Bt.createShare(i),a(),n()}catch(C){console.error("Error saving share:",C),f(C.response?.data?.message||"Failed to save share")}finally{h(!1)}};return t?e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content modal-small",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:r?"Edit Share":"Add Share"}),e.jsx("button",{className:"close-button",onClick:n,children:e.jsx(Ge,{})})]}),p&&e.jsx("div",{className:"error-message",children:p}),e.jsxs("form",{onSubmit:v,className:"modal-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsx("input",{type:"text",name:"company",value:i.company,onChange:d,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"url",name:"url",value:i.url,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User ID"}),e.jsx("input",{type:"text",name:"loginUserId",value:i.loginUserId,onChange:d})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",name:"password",value:i.password,onChange:d})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:u,children:u?"Saving...":r?"Update":"Add"})]})]})]})}):null},oQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState([]),[i,o]=x.useState([]),[u,h]=x.useState([]),[p,f]=x.useState([]),[d,v]=x.useState([]),[y,C]=x.useState(!1),[N,j]=x.useState("bank-accounts"),[w,O]=x.useState(null),[S,E]=x.useState({bankAccount:{isOpen:!1,editData:null},cardDetail:{isOpen:!1,editData:null},paymentGateway:{isOpen:!1,editData:null},insurance:{isOpen:!1,editData:null},mutualFund:{isOpen:!1,editData:null},share:{isOpen:!1,editData:null}});x.useEffect(()=>{T()},[]);const T=async()=>{try{C(!0),O(null);const[M,B,re,Z,te,_]=await Promise.all([Bt.getBankAccounts(),Bt.getCardDetails(),Bt.getPaymentGateways(),Bt.getInsurance(),Bt.getMutualFunds(),Bt.getShares()]);n(M.data.data||[]),r(B.data.data||[]),o(re.data.data||[]),h(Z.data.data||[]),f(te.data.data||[]),v(_.data.data||[])}catch(M){console.error("Error fetching investment profile data:",M),O("Failed to load data. Please try again.")}finally{C(!1)}},k=async(M,B)=>{if(window.confirm("Are you sure you want to delete this item?"))try{switch(C(!0),M){case"bank-account":await Bt.deleteBankAccount(B);break;case"card-detail":await Bt.deleteCardDetail(B);break;case"payment-gateway":await Bt.deletePaymentGateway(B);break;case"insurance":await Bt.deleteInsurance(B);break;case"mutual-fund":await Bt.deleteMutualFund(B);break;case"share":await Bt.deleteShare(B);break;default:throw new Error("Unknown item type")}await T()}catch(re){console.error(`Error deleting ${M}:`,re),O(`Failed to delete ${M}. Please try again.`)}finally{C(!1)}},F=(M,B=null)=>{E(re=>({...re,[M]:{isOpen:!0,editData:B}}))},P=M=>{E(B=>({...B,[M]:{isOpen:!1,editData:null}}))},W=async()=>{await T()},R=({id:M,label:B,icon:re,isActive:Z,onClick:te})=>e.jsxs("button",{className:`tab-button ${Z?"active":""}`,onClick:()=>te(M),children:[e.jsx(re,{className:"tab-icon"}),B]}),U=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Bank Details"}),e.jsx("p",{className:"section-subtitle",children:"Manage your bank account information"})]}),e.jsxs("button",{className:"add-button",onClick:()=>F("bankAccount"),children:[e.jsx(Oe,{})," Add Bank Account"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Bank"}),e.jsx("th",{children:"Account Number"}),e.jsx("th",{children:"URL"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Password"}),e.jsx("th",{children:"Transaction Password"}),e.jsx("th",{children:"IFSC"}),e.jsx("th",{children:"CIF"}),e.jsx("th",{children:"Nominee"}),e.jsx("th",{children:"Email ID"}),e.jsx("th",{children:"Mobile Number"}),e.jsx("th",{children:"Address"}),e.jsx("th",{children:"Customer Care Number"}),e.jsx("th",{children:"Customer Care Email ID"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"16",className:"no-data",children:'No bank accounts found. Click "Add Bank Account" to get started.'})}):t.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:M.name}),e.jsx("td",{children:M.bank}),e.jsx("td",{children:M.accountNumber}),e.jsx("td",{children:M.url?e.jsx("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",children:"Link"}):"-"}),e.jsx("td",{children:M.loginUserId||"-"}),e.jsx("td",{children:M.password?"":"-"}),e.jsx("td",{children:M.transactionPassword?"":"-"}),e.jsx("td",{children:M.ifsc||"-"}),e.jsx("td",{children:M.cif||"-"}),e.jsx("td",{children:M.nominee||"-"}),e.jsx("td",{children:M.emailId||"-"}),e.jsx("td",{children:M.mobileNumber||"-"}),e.jsx("td",{children:M.address||"-"}),e.jsx("td",{children:M.customerCareNumber||"-"}),e.jsx("td",{children:M.customerCareEmailId||"-"}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",onClick:()=>F("bankAccount",M),children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",onClick:()=>k("bank-account",M._id),children:e.jsx(Ze,{})})]})})]},M._id))})]})})]}),J=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Card Details"}),e.jsx("p",{className:"section-subtitle",children:"Manage your credit and debit card information"})]}),e.jsxs("button",{className:"add-button",onClick:()=>F("cardDetail"),children:[e.jsx(Oe,{})," Add Card"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Type of Account"}),e.jsx("th",{children:"Bank"}),e.jsx("th",{children:"ATM Pin"}),e.jsx("th",{children:"Account Number"}),e.jsx("th",{children:"Card Number"}),e.jsx("th",{children:"Expiry Date"}),e.jsx("th",{children:"CVV"}),e.jsx("th",{children:"Customer Care Number"}),e.jsx("th",{children:"Customer Care Email ID"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:a.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"11",className:"no-data",children:'No card details found. Click "Add Card" to get started.'})}):a.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:M.name}),e.jsx("td",{children:M.typeOfAccount}),e.jsx("td",{children:M.bank}),e.jsx("td",{children:M.atmPin?"":"-"}),e.jsx("td",{children:M.accountNumber||"-"}),e.jsx("td",{children:M.cardNumber?`****${M.cardNumber.slice(-4)}`:"-"}),e.jsx("td",{children:M.expiryDate||"-"}),e.jsx("td",{children:M.cvv?"":"-"}),e.jsx("td",{children:M.customerCareNumber||"-"}),e.jsx("td",{children:M.customerCareEmailId||"-"}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",onClick:()=>F("cardDetail",M),children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",onClick:()=>k("card-detail",M._id),children:e.jsx(Ze,{})})]})})]},M._id))})]})})]}),se=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Payment Gateway"}),e.jsx("p",{className:"section-subtitle",children:"Manage your payment gateway credentials"})]}),e.jsxs("button",{className:"add-button",onClick:()=>F("paymentGateway"),children:[e.jsx(Oe,{})," Add Payment Gateway"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"URL"}),e.jsx("th",{children:"Login"}),e.jsx("th",{children:"Password"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"4",className:"no-data",children:'No payment gateways found. Click "Add Payment Gateway" to get started.'})}):i.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",children:M.url})}),e.jsx("td",{children:M.login}),e.jsx("td",{children:""}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",onClick:()=>F("paymentGateway",M),children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",onClick:()=>k("payment-gateway",M._id),children:e.jsx(Ze,{})})]})})]},M._id))})]})})]}),X=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Insurance"}),e.jsx("p",{className:"section-subtitle",children:"Manage your insurance policy details"})]}),e.jsxs("button",{className:"add-button",onClick:()=>F("insurance"),children:[e.jsx(Oe,{})," Add Insurance"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name of Insurer"}),e.jsx("th",{children:"Name of Policy"}),e.jsx("th",{children:"Insurance Type"}),e.jsx("th",{children:"Policy Number"}),e.jsx("th",{children:"URL"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Password"}),e.jsx("th",{children:"Tel No."}),e.jsx("th",{children:"Toll Free No."}),e.jsx("th",{children:"Email ID"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"11",className:"no-data",children:'No insurance policies found. Click "Add Insurance" to get started.'})}):u.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:M.nameOfInsurer}),e.jsx("td",{children:M.nameOfPolicy}),e.jsx("td",{children:M.insuranceType}),e.jsx("td",{children:M.policyNumber}),e.jsx("td",{children:M.url?e.jsx("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",children:"Link"}):"-"}),e.jsx("td",{children:M.loginUserId||"-"}),e.jsx("td",{children:M.password?"":"-"}),e.jsx("td",{children:M.telNo||"-"}),e.jsx("td",{children:M.tollFreeNo||"-"}),e.jsx("td",{children:M.emailId||"-"}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",onClick:()=>F("insurance",M),children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",onClick:()=>k("insurance",M._id),children:e.jsx(Ze,{})})]})})]},M._id))})]})})]}),le=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Mutual Fund"}),e.jsx("p",{className:"section-subtitle",children:"Manage your mutual fund account access"})]}),e.jsxs("button",{className:"add-button",onClick:()=>F("mutualFund"),children:[e.jsx(Oe,{})," Add Mutual Fund"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name of Person"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"URL"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Password"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"6",className:"no-data",children:'No mutual fund details found. Click "Add Mutual Fund" to get started.'})}):p.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:M.nameOfPerson}),e.jsx("td",{children:M.company}),e.jsx("td",{children:M.url?e.jsx("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",children:"Link"}):"-"}),e.jsx("td",{children:M.loginUserId||"-"}),e.jsx("td",{children:M.password?"":"-"}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",onClick:()=>F("mutualFund",M),children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",onClick:()=>k("mutual-fund",M._id),children:e.jsx(Ze,{})})]})})]},M._id))})]})})]}),G=()=>e.jsxs("div",{className:"investment-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Shares"}),e.jsx("p",{className:"section-subtitle",children:"Manage your share trading account access"})]}),e.jsxs("button",{className:"add-button",onClick:()=>F("share"),children:[e.jsx(Oe,{})," Add Share"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investment-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company"}),e.jsx("th",{children:"URL"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"Password"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:d.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"no-data",children:'No share details found. Click "Add Share" to get started.'})}):d.map(M=>e.jsxs("tr",{children:[e.jsx("td",{children:M.company}),e.jsx("td",{children:M.url?e.jsx("a",{href:M.url,target:"_blank",rel:"noopener noreferrer",children:"Link"}):"-"}),e.jsx("td",{children:M.loginUserId||"-"}),e.jsx("td",{children:M.password?"":"-"}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",onClick:()=>F("share",M),children:e.jsx(qa,{})}),e.jsx("button",{className:"delete-btn",onClick:()=>k("share",M._id),children:e.jsx(Ze,{})})]})})]},M._id))})]})})]});return y&&t.length===0?e.jsx("div",{className:"investment-container",children:e.jsx("div",{className:"loading-state",children:e.jsx("p",{children:"Loading investment profile data..."})})}):e.jsxs("div",{className:"investment-container",children:[e.jsxs("div",{className:"investment-header",children:[e.jsx("h1",{children:"Online Access"}),e.jsx("p",{children:"Manage all your financial accounts and credentials in one place"}),w&&e.jsxs("div",{className:"error-message",children:[e.jsx("p",{children:w}),e.jsx("button",{onClick:T,className:"retry-btn",children:"Retry"})]})]}),e.jsx("div",{className:"tabs-container",children:e.jsxs("div",{className:"tabs",children:[e.jsx(R,{id:"bank-accounts",label:"Bank Details",icon:Pi,isActive:N==="bank-accounts",onClick:j}),e.jsx(R,{id:"card-details",label:"Card Details",icon:Jy,isActive:N==="card-details",onClick:j}),e.jsx(R,{id:"payment-gateways",label:"Payment Gateway",icon:ua,isActive:N==="payment-gateways",onClick:j}),e.jsx(R,{id:"insurance",label:"Insurance",icon:Hs,isActive:N==="insurance",onClick:j}),e.jsx(R,{id:"mutual-funds",label:"Mutual Fund",icon:es,isActive:N==="mutual-funds",onClick:j}),e.jsx(R,{id:"shares",label:"Shares",icon:In,isActive:N==="shares",onClick:j})]})}),e.jsxs("div",{className:"tab-content",children:[N==="bank-accounts"&&e.jsx(U,{}),N==="card-details"&&e.jsx(J,{}),N==="payment-gateways"&&e.jsx(se,{}),N==="insurance"&&e.jsx(X,{}),N==="mutual-funds"&&e.jsx(le,{}),N==="shares"&&e.jsx(G,{})]}),e.jsx(nQ,{isOpen:S.bankAccount.isOpen,onClose:()=>P("bankAccount"),onSuccess:W,editData:S.bankAccount.editData}),e.jsx(aQ,{isOpen:S.cardDetail.isOpen,onClose:()=>P("cardDetail"),onSuccess:W,editData:S.cardDetail.editData}),e.jsx(rQ,{isOpen:S.paymentGateway.isOpen,onClose:()=>P("paymentGateway"),onSuccess:W,editData:S.paymentGateway.editData}),e.jsx(sQ,{isOpen:S.insurance.isOpen,onClose:()=>P("insurance"),onSuccess:W,editData:S.insurance.editData}),e.jsx(iQ,{isOpen:S.mutualFund.isOpen,onClose:()=>P("mutualFund"),onSuccess:W,editData:S.mutualFund.editData}),e.jsx(lQ,{isOpen:S.share.isOpen,onClose:()=>P("share"),onSuccess:W,editData:S.share.editData})]})},cQ=()=>{const[t,n]=x.useState("calculator"),[a,r]=x.useState([]),[i,o]=x.useState(null),[u,h]=x.useState(!1),[p,f]=x.useState(!1),[d,v]=x.useState(""),[y,C]=x.useState({}),[N,j]=x.useState(!1),[w,O]=x.useState(0),[S,E]=x.useState("annual"),[T,k]=x.useState(!1),[F,P]=x.useState(""),[W,R]=x.useState({principal:1e4,annualRate:5.51,tenureYears:10,startDate:"2025-04-23"}),[U,J]=x.useState("annual"),[se,X]=x.useState({}),le=x.useMemo(()=>{const A=W.tenureYears*12,K=U==="monthly"?W.annualRate/100:W.annualRate/100/12,xe=K===0?W.principal/A:W.principal*K*Math.pow(1+K,A)/(Math.pow(1+K,A)-1),V=[];let ee=W.principal,me=0,ue=0;const H=new Date(W.startDate);for(let D=1;D<=A;D++){const ne=ee*K;let be=xe-ne;const Ce=se[D]||0;be+=Ce,ue+=Ce,be>ee&&(be=ee),ee=ee-be,me+=ne;const Ae=new Date(H);Ae.setMonth(Ae.getMonth()+D);const _e=D===1?W.principal:V[D-2].endingBalance;if(V.push({paymentNumber:D,paymentDate:Ae.toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}).split("/").join("/"),beginningBalance:_e,payment:xe,extraPayment:Ce,principal:be-Ce,interest:ne,endingBalance:ee,totalPayment:xe+Ce}),ee<=0)break}const de=W.principal+me;return{rows:V,monthlyPayment:xe,numberOfPayments:V.length,totalInterest:me,totalCost:de,totalExtraPaid:ue}},[W,se,U]);x.useEffect(()=>{t==="manage"&&G()},[t]),x.useEffect(()=>{console.log("savedLoans state changed:",a)},[a]);const G=async()=>{try{f(!0);const A=await De.getLoans();console.log("API Response:",A),console.log("Setting savedLoans to:",A.data.loans||[]),r(A.data.loans||[])}catch(A){console.error("Error fetching loans:",A),r([])}finally{f(!1)}},M=async()=>{if(!d.trim()){alert("Please enter loan name");return}k(!0)},B=async()=>{if(!F){alert("Please select whether this loan is lent or borrowed");return}try{h(!0),k(!1);const A=le.rows.map(ee=>({paymentNumber:ee.paymentNumber,paymentDate:new Date(ee.paymentDate.split("/").reverse().join("-")),beginningBalance:ee.beginningBalance,payment:ee.payment,principal:ee.principal,interest:ee.interest,extraPayment:ee.extraPayment||0,endingBalance:ee.endingBalance,isPaid:!1})),K=new Date(W.startDate);K.setMonth(K.getMonth()+le.numberOfPayments);const xe={category:"loan-amortization",type:F==="lent"?"Lent":"Borrowed",name:d,amount:W.principal,interestRate:W.annualRate,startDate:W.startDate,maturityDate:K.toISOString().slice(0,10),frequency:"monthly",notes:JSON.stringify({tenureYears:W.tenureYears,rateType:U}),paymentSchedule:A},V=await De.create(xe);console.log("Save Response:",V),alert("Loan saved successfully!"),v(""),P(""),await G(),n("manage")}catch(A){alert("Error saving loan: "+(A.response?.data?.message||A.message))}finally{h(!1)}},re=(A,K)=>{const xe=parseFloat(K)||0;X(V=>({...V,[A]:xe}))},Z=async(A,K,xe)=>{try{await De.updatePaymentStatus(A,K,{isPaid:!xe,paidDate:xe?null:new Date().toISOString(),paidAmount:null});const V=await De.getById(A);o(V.data.investment)}catch(V){alert("Error updating payment: "+(V.response?.data?.message||V.message))}},te=async A=>{try{const xe=(await De.getById(A)).data.investment;o(xe),C({}),j(!1),O(xe.interestRate);try{const V=JSON.parse(xe.notes||"{}");E(V.rateType||"annual")}catch{E("annual")}}catch(K){alert("Error loading loan: "+(K.response?.data?.message||K.message))}},_=async(A,K)=>{if(confirm(`Are you sure you want to delete "${K}"? This action cannot be undone.`))try{await De.delete(A),alert("Loan deleted successfully!"),await G()}catch(xe){alert("Error deleting loan: "+(xe.response?.data?.message||xe.message))}},z=(A,K)=>{const xe=parseFloat(K)||0;C(V=>({...V,[A]:xe}))},L=async()=>{if(i)try{const A=i.paymentSchedule.map(K=>{const xe=y[K.paymentNumber];return xe!==void 0&&xe>0?{...K,extraPayment:xe}:K});await De.update(i._id,{paymentSchedule:A}),alert("Extra payments saved successfully!"),await te(i._id)}catch(A){alert("Error saving extra payments: "+(A.response?.data?.message||A.message))}},$=(A,K)=>{if(!A||!A.paymentSchedule||A.paymentSchedule.length===0)return[];const xe=A.paymentSchedule;if(!K||Object.keys(K).length===0||!Object.keys(K).some(H=>{const de=parseInt(H)-1,D=xe[de]?.extraPayment||0;return K[H]!==D}))return xe;const ee=S==="monthly"?A.interestRate/100:A.interestRate/100/12,me=[];let ue=A.amount;for(let H=0;H<xe.length;H++){const de=H+1,D=xe[H];if(ue<=.01)break;const ne=ue*ee,be=D.payment,Ce=K[de]!==void 0?K[de]:D.extraPayment||0;let Ae=be-ne+Ce;Ae>ue&&(Ae=ue);const _e=ue;ue=ue-Ae,me.push({paymentNumber:de,paymentDate:D.paymentDate,beginningBalance:_e,payment:be,extraPayment:Ce,principal:Ae-Ce,interest:ne,endingBalance:ue,isPaid:D.isPaid,paidDate:D.paidDate,paidAmount:D.paidAmount})}return me},q=async()=>{if(i){if(w===i.interestRate){alert("Interest rate is the same as the current rate"),j(!1);return}if(w<=0||w>100){alert("Please enter a valid interest rate between 0 and 100");return}if(confirm(`Are you sure you want to change the interest rate from ${i.interestRate}% to ${w}%? This will recalculate the EMI and all future unpaid payments.`))try{const A=i.paymentSchedule||[];let K=-1;for(let be=0;be<A.length;be++)if(!A[be].isPaid){K=be;break}if(K===-1){alert("All payments are already completed. No future payments to recalculate."),j(!1);return}const xe=[...A],V=S==="monthly"?w/100:w/100/12;let ee=K>0?A[K-1].endingBalance:i.amount;const me=A.length-K,ue=V===0?ee/me:ee*V*Math.pow(1+V,me)/(Math.pow(1+V,me)-1);for(let be=K;be<A.length;be++){if(ee<=.01){xe.splice(be);break}const Ce=ee*V,Ae=A[be].extraPayment||0;let _e=ue-Ce+Ae;_e>ee&&(_e=ee),xe[be]={...A[be],beginningBalance:ee,payment:ue,interest:Ce,principal:_e-Ae,endingBalance:ee-_e},ee=ee-_e}if(ee>.01){const be=xe[xe.length-1],Ce=new Date(be.paymentDate);let Ae=be.paymentNumber+1;for(;ee>.01;){Ce.setMonth(Ce.getMonth()+1);const _e=ee*V;let wt=ue-_e;if(wt>ee&&(wt=ee),xe.push({paymentNumber:Ae,paymentDate:new Date(Ce),beginningBalance:ee,payment:ue,extraPayment:0,principal:wt,interest:_e,endingBalance:ee-wt,isPaid:!1,paidDate:null,paidAmount:null}),ee=ee-wt,Ae++,Ae>A.length+500)break}}const H=A[0].payment,de=xe.find(be=>!be.isPaid),D=de?de.payment:H,ne=JSON.parse(i.notes||"{}");await De.update(i._id,{interestRate:w,notes:JSON.stringify({...ne,rateType:S}),paymentSchedule:xe}),alert(`Interest rate updated successfully!

Old EMI: ${H.toFixed(2)}
New EMI: ${D.toFixed(2)}
Difference: ${(D-H).toFixed(2)}`),j(!1),await te(i._id)}catch(A){alert("Error updating interest rate: "+(A.response?.data?.message||A.message))}}};return e.jsxs("div",{className:"loan-calculator-container",children:[e.jsxs("div",{className:"loan-header-section",children:[e.jsx("h1",{className:"loan-main-title",children:"Loan Management"}),e.jsxs("div",{className:"view-tabs",children:[e.jsx("button",{className:`tab-btn ${t==="calculator"?"active":""}`,onClick:()=>n("calculator"),children:"Calculator"}),e.jsx("button",{className:`tab-btn ${t==="manage"?"active":""}`,onClick:()=>{n("manage"),o(null)},children:"Manage Loans"})]})]}),t==="calculator"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"loan-content",children:[e.jsxs("div",{className:"loan-details-section",children:[e.jsx("h2",{className:"section-title",children:"Loan Details"}),e.jsxs("div",{className:"loan-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Loan amount"}),e.jsx("input",{type:"number",value:W.principal,onChange:A=>R({...W,principal:Number(A.target.value)})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Interest rate (%)"}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"stretch",width:"100%"},children:[e.jsxs("select",{value:U,onChange:A=>J(A.target.value),style:{padding:"12px",borderRadius:"8px",border:"1px solid #e0e0e0",fontSize:"14px",backgroundColor:"white",cursor:"pointer",minWidth:"120px",maxWidth:"150px"},children:[e.jsx("option",{value:"annual",children:"Annual"}),e.jsx("option",{value:"monthly",children:"Monthly"})]}),e.jsx("input",{type:"number",step:"0.01",value:W.annualRate,onChange:A=>R({...W,annualRate:Number(A.target.value)}),style:{flex:1,padding:"12px",borderRadius:"8px",border:"1px solid #e0e0e0",fontSize:"14px",backgroundColor:"white"}})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Loan period in years"}),e.jsx("input",{type:"number",value:W.tenureYears,onChange:A=>R({...W,tenureYears:Number(A.target.value)})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start date of loan"}),e.jsx("input",{type:"date",value:W.startDate,onChange:A=>R({...W,startDate:A.target.value})})]}),e.jsx("button",{className:"calculate-btn",children:"Calculate"})]})]}),e.jsxs("div",{className:"loan-summary-section",children:[e.jsx("h2",{className:"section-title",children:"Loan Summary"}),e.jsxs("div",{className:"summary-content",children:[e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{className:"summary-label",children:"Interest Rate Type"}),e.jsxs("span",{className:"summary-value",style:{color:U==="monthly"?"#2563EB":"#059669",fontWeight:"600"},children:[U==="monthly"?"Monthly":"Annual"," (",W.annualRate,"%)"]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{className:"summary-label",children:"Monthly payment"}),e.jsxs("span",{className:"summary-value",children:["",le.monthlyPayment.toFixed(2)]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{className:"summary-label",children:"Number of payments"}),e.jsx("span",{className:"summary-value",children:le.numberOfPayments})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{className:"summary-label",children:"Total interest"}),e.jsxs("span",{className:"summary-value",children:["",le.totalInterest.toFixed(2)]})]}),e.jsxs("div",{className:"summary-row",children:[e.jsx("span",{className:"summary-label",children:"Total cost of loan"}),e.jsxs("span",{className:"summary-value",children:["",le.totalCost.toFixed(2)]})]}),le.totalExtraPaid>0&&e.jsxs("div",{className:"summary-row highlight",children:[e.jsx("span",{className:"summary-label",children:"Total extra payments"}),e.jsxs("span",{className:"summary-value",children:["",le.totalExtraPaid.toFixed(2)]})]})]})]})]}),e.jsxs("div",{className:"save-loan-section",children:[e.jsx("input",{type:"text",className:"loan-name-input",placeholder:"Enter loan name to save...",value:d,onChange:A=>v(A.target.value)}),e.jsx("button",{className:"save-loan-btn",onClick:M,disabled:u,children:u?"Saving...":"Save Loan"})]}),e.jsxs("div",{className:"amortization-schedule",children:[e.jsxs("div",{className:"schedule-header",children:[e.jsx("h2",{className:"schedule-title",children:"Amortization Schedule"}),Object.keys(se).length>0&&e.jsx("button",{className:"clear-extra-btn",onClick:()=>X({}),children:"Clear Extra Payments"})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"schedule-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"PMT NO."}),e.jsx("th",{children:"PAYMENT DATE"}),e.jsx("th",{children:"BEGINNING BALANCE"}),e.jsx("th",{children:"PAYMENT"}),e.jsx("th",{children:"EXTRA PAYMENT"}),e.jsx("th",{children:"PRINCIPAL"}),e.jsx("th",{children:"INTEREST"}),e.jsx("th",{children:"ENDING BALANCE"})]})}),e.jsx("tbody",{children:le.rows.map(A=>e.jsxs("tr",{children:[e.jsx("td",{children:A.paymentNumber}),e.jsx("td",{children:A.paymentDate}),e.jsxs("td",{children:["",A.beginningBalance.toFixed(2)]}),e.jsxs("td",{children:["",A.payment.toFixed(2)]}),e.jsx("td",{className:"extra-payment-cell",children:e.jsx("input",{type:"number",className:"extra-payment-input",placeholder:"0",value:se[A.paymentNumber]||"",onChange:K=>re(A.paymentNumber,K.target.value)})}),e.jsxs("td",{children:["",A.principal.toFixed(2)]}),e.jsxs("td",{children:["",A.interest.toFixed(2)]}),e.jsxs("td",{children:["",A.endingBalance.toFixed(2)]})]},A.paymentNumber))})]})})]})]}),t==="manage"&&e.jsx("div",{className:"manage-loans-view",children:p?e.jsx("div",{className:"loading-state",children:e.jsx("p",{children:"Loading loans..."})}):i?e.jsxs("div",{className:"loan-detail-section",children:[e.jsxs("div",{className:"detail-header",children:[e.jsx("button",{className:"back-btn",onClick:()=>{o(null),C({})},children:" Back to Loans"}),e.jsx("h2",{children:i.name})]}),(()=>{const A=$(i,y),K=i.paymentSchedule?.length||0,xe=A.length,V=K-xe,ee=i.paymentSchedule?.reduce((H,de)=>H+(de.interest||0),0)||0,me=A.reduce((H,de)=>H+(de.interest||0),0)||0,ue=ee-me;return i.paymentSchedule?.[0]?.payment,e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"loan-summary-grid",children:[e.jsxs("div",{className:"summary-card",children:[e.jsx("span",{children:"Principal Amount"}),e.jsxs("strong",{children:["",i.amount.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("span",{children:"Rate of Interest"}),N?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px",marginTop:"4px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsxs("select",{value:S,onChange:H=>E(H.target.value),style:{padding:"4px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:[e.jsx("option",{value:"annual",children:"Annual"}),e.jsx("option",{value:"monthly",children:"Monthly"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",max:"100",value:w,onChange:H=>O(parseFloat(H.target.value)||0),style:{width:"80px",padding:"4px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}}),e.jsx("span",{children:"%"})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:q,style:{padding:"4px 12px",fontSize:"12px",background:"#4CAF50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Save"}),e.jsx("button",{onClick:()=>{j(!1),O(i.interestRate);try{const H=JSON.parse(i.notes||"{}");E(H.rateType||"annual")}catch{E("annual")}},style:{padding:"4px 12px",fontSize:"12px",background:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Cancel"})]})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.jsxs("strong",{children:[i.interestRate,"% (",S==="monthly"?"Monthly":"Annual",")"]}),e.jsx("button",{onClick:()=>j(!0),style:{padding:"4px 8px",fontSize:"11px",background:"#2196F3",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",width:"fit-content"},children:"Edit"})]})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("span",{children:"Tenure in Months"}),e.jsx("strong",{children:(()=>{try{return(JSON.parse(i.notes||"{}").tenureYears||0)*12}catch{return K}})()})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("span",{children:"Frequency of EMI Payment"}),e.jsx("strong",{children:i.frequency?.charAt(0).toUpperCase()+i.frequency?.slice(1)||"Monthly"})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("span",{children:"EMI Amount"}),e.jsxs("strong",{children:["",(i.paymentSchedule?.[0]?.payment||0).toFixed(2)]})]}),e.jsxs("div",{className:"summary-card",children:[e.jsx("span",{children:"Interest Amount"}),e.jsxs("strong",{children:["",(i.paymentSchedule?.reduce((de,D)=>de+(D.interest||0),0)||0).toLocaleString("en-IN",{maximumFractionDigits:2})]})]}),V>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"summary-card highlight",children:[e.jsx("span",{children:"No. of EMI Saved"}),e.jsxs("strong",{children:[V," months"]})]}),e.jsxs("div",{className:"summary-card highlight",children:[e.jsx("span",{children:"Interest Amount Saved"}),e.jsxs("strong",{children:["",ue.toLocaleString("en-IN",{maximumFractionDigits:2})]})]})]})]}),e.jsxs("div",{className:"payment-schedule-section",children:[e.jsxs("div",{className:"schedule-header",children:[e.jsx("h3",{children:"Payment Schedule"}),e.jsx("div",{children:Object.keys(y).length>0&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"save-extra-btn",onClick:L,children:"Save Extra Payments"}),e.jsx("button",{className:"clear-extra-btn",onClick:()=>C({}),children:"Clear"})]})})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"schedule-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"PAID"}),e.jsx("th",{children:"PMT NO."}),e.jsx("th",{children:"DATE"}),e.jsx("th",{children:"BEGINNING"}),e.jsx("th",{children:"PAYMENT"}),e.jsx("th",{children:"EXTRA PAYMENT"}),e.jsx("th",{children:"PRINCIPAL"}),e.jsx("th",{children:"INTEREST"}),e.jsx("th",{children:"ENDING"})]})}),e.jsx("tbody",{children:A.map(H=>{const de=new Date(H.paymentDate),ne=de<=new Date;return e.jsxs("tr",{className:H.isPaid?"paid-row":"",children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",className:"payment-checkbox",checked:H.isPaid,onChange:()=>Z(i._id,H.paymentNumber,H.isPaid),disabled:!ne})}),e.jsx("td",{children:H.paymentNumber}),e.jsx("td",{children:de.toLocaleDateString("en-IN")}),e.jsxs("td",{children:["",H.beginningBalance.toFixed(2)]}),e.jsxs("td",{children:["",H.payment.toFixed(2)]}),e.jsx("td",{className:"extra-payment-cell",children:e.jsx("input",{type:"number",className:"extra-payment-input",placeholder:"0",value:y[H.paymentNumber]||H.extraPayment||"",onChange:be=>z(H.paymentNumber,be.target.value)})}),e.jsxs("td",{children:["",H.principal.toFixed(2)]}),e.jsxs("td",{children:["",H.interest.toFixed(2)]}),e.jsxs("td",{children:["",H.endingBalance.toFixed(2)]})]},H.paymentNumber)})})]})})]})]})})()]}):e.jsxs("div",{className:"loans-list-section",children:[e.jsx("h2",{className:"section-heading",children:"Your Loans"}),console.log("Rendering savedLoans:",a),!a||a.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:"No saved loans yet. Create one from the Calculator tab."})}):e.jsx("div",{className:"loans-table-container",children:e.jsxs("table",{className:"loans-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"LOAN NAME"}),e.jsx("th",{children:"LOAN TYPE"}),e.jsx("th",{children:"LOAN AMOUNT"}),e.jsx("th",{children:"INTEREST RATE"}),e.jsx("th",{children:"MONTHLY EMI"}),e.jsx("th",{children:"PAID/TOTAL"}),e.jsx("th",{children:"PROGRESS"}),e.jsx("th",{children:"ACTIONS"})]})}),e.jsx("tbody",{children:a.map(A=>{const K=(A.paidPayments/A.totalPayments*100).toFixed(1);return e.jsxs("tr",{children:[e.jsx("td",{className:"loan-name-cell",children:A.name}),e.jsx("td",{children:e.jsx("span",{className:`loan-type-badge ${A.type?.toLowerCase()}`,children:A.type})}),e.jsxs("td",{children:["",A.amount.toLocaleString("en-IN")]}),e.jsxs("td",{children:[A.interestRate,"%"]}),e.jsxs("td",{children:["",A.monthlyPayment.toFixed(2)]}),e.jsxs("td",{children:[A.paidPayments,"/",A.totalPayments]}),e.jsx("td",{children:e.jsxs("div",{className:"progress-cell",children:[e.jsx("div",{className:"progress-bar-small",children:e.jsx("div",{className:"progress-fill-small",style:{width:`${K}%`}})}),e.jsxs("span",{className:"progress-text-small",children:[K,"%"]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"view-loan-btn",onClick:()=>te(A._id),children:"View"}),e.jsx("button",{className:"delete-loan-btn",onClick:xe=>{xe.stopPropagation(),_(A._id,A.name)},children:"Delete"})]})})]},A._id)})})]})})]})}),T&&e.jsx("div",{className:"dialog-overlay",children:e.jsxs("div",{className:"dialog-box",children:[e.jsx("h3",{children:"Select Loan Type"}),e.jsx("p",{children:"Is this loan lent to someone or borrowed from someone?"}),e.jsxs("div",{className:"dialog-options",children:[e.jsx("button",{className:`option-btn ${F==="lent"?"selected":""}`,onClick:()=>P("lent"),children:"Lent (I gave money to someone)"}),e.jsx("button",{className:`option-btn ${F==="borrowed"?"selected":""}`,onClick:()=>P("borrowed"),children:"Borrowed (I took money from someone)"})]}),e.jsxs("div",{className:"dialog-actions",children:[e.jsx("button",{className:"cancel-btn",onClick:()=>{k(!1),P("")},children:"Cancel"}),e.jsx("button",{className:"confirm-btn",onClick:B,disabled:!F,children:"Save Loan"})]})]})})]})},uQ=()=>{const t=x.useRef(null),[n,a]=x.useState({currentAge:50,annualIncome:12e4,inflation:5,balance:1e6,annualSavings:0,savingsIncrease:0,investmentReturn:6.25,pension:0,pensionIncrease:0,retirementAge:65,retirementYears:20,incomeReplacement:75,retUncertainty:2,savingsUncertainty:0,savingsIncUncertainty:0,pensionUncertainty:0,pensionIncUncertainty:0,capAge:79}),[r,i]=x.useState(!1);x.useEffect(()=>{r&&t.current&&setTimeout(()=>{t.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},[r]);const o=d=>`${Math.round(d).toLocaleString("en-IN")}`,u=x.useMemo(()=>{const d=n.currentAge,v=Math.min(n.retirementAge+n.retirementYears,n.capAge);let y=n.annualIncome,C=n.annualSavings,N=n.balance;const j=[];let O=n.annualIncome*Math.pow(1+n.inflation/100,n.retirementAge-n.currentAge)*(n.incomeReplacement/100),S=n.pension;for(let P=d;P<=v;P++){const W=N,R=W*(n.investmentReturn/100);let U=0;P<n.retirementAge?U=C:(U=-(O-S),O=O*(1+n.inflation/100),S=S*(1+n.pensionIncrease/100)),N=W+R+U,j.push({age:P,salary:P<n.retirementAge?y:0,startBalance:W,interest:R,flow:U,endBalance:N}),P<n.retirementAge&&(y=y*(1+n.inflation/100),C=C*(1+n.savingsIncrease/100))}const E=j.reduce((P,W)=>W.endBalance>=0?W.age:P,d-1),T=N,k=Math.max(...j.map(P=>P.endBalance)),F=j.find(P=>P.age===n.retirementAge)?.endBalance||0;return{rows:j,fundedThrough:E,finalBalance:T,endAge:v,peakBalance:k,retirementBalance:F}},[n]),h=()=>{a({currentAge:50,annualIncome:12e4,inflation:5,balance:1e6,annualSavings:0,savingsIncrease:0,investmentReturn:6.25,pension:0,pensionIncrease:0,retirementAge:65,retirementYears:20,incomeReplacement:75,retUncertainty:2,savingsUncertainty:0,savingsIncUncertainty:0,pensionUncertainty:0,pensionIncUncertainty:0,capAge:79}),i(!1)},p=()=>{const v=[["Age","Salary","Start Balance","Interest","Savings/Withdrawals","Year End Balance"].join(","),...u.rows.map(j=>[j.age,j.salary,j.startBalance,j.interest,j.flow,j.endBalance].join(","))].join(`
`),y=new Blob([v],{type:"text/csv"}),C=window.URL.createObjectURL(y),N=document.createElement("a");N.href=C,N.download="retirement-plan.csv",N.click(),window.URL.revokeObjectURL(C)},f=u.fundedThrough>=u.endAge;return e.jsxs("div",{className:"retirement-container",children:[e.jsxs("div",{className:"retirement-header",children:[e.jsx("h1",{children:"Retirement Planner"}),e.jsx("div",{className:"header-actions",children:e.jsxs("button",{className:"btn-secondary-action",onClick:h,children:[e.jsx(OL,{})," Reset"]})})]}),e.jsxs("div",{className:"retirement-form-card",children:[e.jsx("h2",{children:"Input"}),e.jsxs("div",{className:"retirement-form-grid",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"section-title",children:"Now"}),e.jsxs("div",{className:"form-fields",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Your current age"}),e.jsx("input",{type:"number",value:n.currentAge,onChange:d=>a({...n,currentAge:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Annual income ()"}),e.jsx("input",{type:"number",value:n.annualIncome,onChange:d=>a({...n,annualIncome:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Annual inflation & income increases (%)"}),e.jsx("input",{type:"number",step:"0.01",value:n.inflation,onChange:d=>a({...n,inflation:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Retirement savings balance ()"}),e.jsx("input",{type:"number",value:n.balance,onChange:d=>a({...n,balance:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Annual savings amount ()"}),e.jsx("input",{type:"number",value:n.annualSavings,onChange:d=>a({...n,annualSavings:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Annual savings increases (%)"}),e.jsx("input",{type:"number",step:"0.01",value:n.savingsIncrease,onChange:d=>a({...n,savingsIncrease:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investment return (%)"}),e.jsx("input",{type:"number",step:"0.01",value:n.investmentReturn,onChange:d=>a({...n,investmentReturn:Number(d.target.value)})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"section-title",children:"At Retirement"}),e.jsxs("div",{className:"form-fields",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Annual pension benefit ()"}),e.jsx("input",{type:"number",value:n.pension,onChange:d=>a({...n,pension:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Annual pension benefit increases (%)"}),e.jsx("input",{type:"number",step:"0.01",value:n.pensionIncrease,onChange:d=>a({...n,pensionIncrease:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Desired retirement age"}),e.jsx("input",{type:"number",value:n.retirementAge,onChange:d=>a({...n,retirementAge:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Number of years of retirement income"}),e.jsx("input",{type:"number",value:n.retirementYears,onChange:d=>a({...n,retirementYears:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Income replacement (%)"}),e.jsx("input",{type:"number",step:"0.01",value:n.incomeReplacement,onChange:d=>a({...n,incomeReplacement:Number(d.target.value)})})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h3",{className:"section-title",children:"Uncertainty (%)"}),e.jsxs("div",{className:"form-fields",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Investment return uncertainty"}),e.jsx("input",{type:"number",step:"0.01",value:n.retUncertainty,onChange:d=>a({...n,retUncertainty:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Annual savings amount uncertainty"}),e.jsx("input",{type:"number",step:"0.01",value:n.savingsUncertainty,onChange:d=>a({...n,savingsUncertainty:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Annual savings increases uncertainty"}),e.jsx("input",{type:"number",step:"0.01",value:n.savingsIncUncertainty,onChange:d=>a({...n,savingsIncUncertainty:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Annual pension benefit amount uncertainty"}),e.jsx("input",{type:"number",step:"0.01",value:n.pensionUncertainty,onChange:d=>a({...n,pensionUncertainty:Number(d.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Annual Pension benefit increases uncertainty"}),e.jsx("input",{type:"number",step:"0.01",value:n.pensionIncUncertainty,onChange:d=>a({...n,pensionIncUncertainty:Number(d.target.value)})})]})]})]})]}),e.jsx("div",{className:"form-submit",children:e.jsx("button",{className:"btn-show-plan",onClick:()=>i(!0),children:"Show My Plan"})})]}),r&&e.jsxs("div",{className:"results-section",ref:t,children:[e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card green",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #16a34a 0%, #15803d 100%)"},children:e.jsx(In,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Peak Balance"}),e.jsx("h3",{className:"stat-value",children:o(u.peakBalance)})]})]}),e.jsxs("div",{className:"stat-card green",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #16a34a 0%, #15803d 100%)"},children:e.jsx(Kr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Balance at Retirement"}),e.jsx("h3",{className:"stat-value",children:o(u.retirementBalance)})]})]}),e.jsxs("div",{className:"stat-card green",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #16a34a 0%, #15803d 100%)"},children:e.jsx(Kr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Funded Through Age"}),e.jsx("h3",{className:"stat-value",children:u.fundedThrough})]})]})]}),e.jsxs("div",{className:`message-card ${f?"success":"warning"}`,children:[e.jsx("h3",{children:f?`Congratulations! Your plan is funded through age ${u.fundedThrough} with an estimated surplus.`:`Warning! Your plan runs out of funds at age ${u.fundedThrough}.`}),e.jsxs("p",{className:"message-subtitle",children:["Estimated Money Left Over: ",e.jsx("strong",{children:o(u.finalBalance)})]}),e.jsxs("p",{className:"message-note",children:["Note: Your plan extends beyond age ",n.capAge,". The projection has been capped at age ",n.capAge," as requested."]})]}),e.jsxs("div",{className:"chart-card retirement-chart",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(Kr,{className:"chart-icon"}),e.jsx("h3",{children:"Savings Balance Over Time"})]}),e.jsxs("button",{className:"btn-export",onClick:p,children:[e.jsx(CL,{})," Export Data"]})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:400,children:e.jsxs(Ru,{data:u.rows,margin:{top:20,right:30,left:20,bottom:20},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorBalance",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#16a34a",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#16a34a",stopOpacity:0})]})}),e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.5}),e.jsx(Zn,{dataKey:"age",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},label:{value:"Age",position:"insideBottom",offset:-10,style:{fontSize:14,fontWeight:"600",fill:"#334155"}}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},tickFormatter:d=>`${(d/1e5).toFixed(1)}L`,label:{value:"Balance",angle:-90,position:"insideLeft",style:{fontSize:14,fontWeight:"600",fill:"#334155"}}}),e.jsx(It,{formatter:(d,v)=>[`${o(d)}`,v==="endBalance"?"Savings Balance":v],labelFormatter:d=>`Age ${d}`,contentStyle:{background:"white",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"}}),e.jsx(wo,{type:"monotone",dataKey:"endBalance",stroke:"#16a34a",strokeWidth:3,fillOpacity:1,fill:"url(#colorBalance)"})]})})})]}),e.jsxs("div",{className:"retirement-table-card",children:[e.jsx("div",{className:"table-header",children:e.jsx("h2",{children:"Chart Details"})}),e.jsx("div",{className:"table-scroll",children:e.jsxs("table",{className:"retirement-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Age"}),e.jsx("th",{children:"Salary"}),e.jsx("th",{children:"Start Balance"}),e.jsx("th",{children:"Interest"}),e.jsx("th",{children:"Savings/Withdrawals"}),e.jsx("th",{children:"Year End Balance"})]})}),e.jsx("tbody",{children:u.rows.map((d,v)=>e.jsxs("tr",{className:d.age===n.retirementAge?"retirement-row":"",children:[e.jsx("td",{children:e.jsx("strong",{children:d.age})}),e.jsx("td",{children:d.salary?o(d.salary):"0"}),e.jsx("td",{children:o(d.startBalance)}),e.jsx("td",{children:o(d.interest)}),e.jsx("td",{className:d.flow<0?"negative":"positive",children:d.flow<0?"0":o(d.flow)}),e.jsx("td",{children:e.jsx("strong",{children:o(d.endBalance)})})]},`row-${v}`))})]})})]})]})]})},dQ=()=>{const[t,n]=x.useState(!1),[a,r]=x.useState(!1),[i,o]=x.useState({firstName:"",lastName:"",dateOfBirth:"",gender:"",bloodGroup:"",maritalStatus:"",anniversaryDate:"",primaryMobile:"",secondaryMobile:"",primaryEmail:"",secondaryEmail:"",whatsappNumber:"",currentAddress:{street:"",area:"",city:"",state:"",pincode:"",country:"India"},permanentAddress:{street:"",area:"",city:"",state:"",pincode:"",country:"India"},sameAsCurrent:!0,familyHead:"",familyMembers:[],totalFamilyMembers:"",dependents:"",occupation:"",companyName:"",designation:"",workEmail:"",workPhone:"",officeAddress:{street:"",area:"",city:"",state:"",pincode:""},nationality:"Indian",religion:"",caste:"",motherTongue:"",languagesKnown:[],aadhaarNumber:"",panNumber:"",passportNumber:"",voterId:"",emergencyContact:{name:"",relation:"",mobile:"",address:""},mutualFunds:[],shares:[],insurance:[],banks:[],mobileBills:[],cards:[],paymentGateways:[],mutualFundsPortfolio:[],sharesPortfolio:[],insurancePortfolio:[]}),[u,h]=x.useState({name:"",relation:"",dateOfBirth:"",age:"",gender:"",bloodGroup:"",maritalStatus:"",anniversaryDate:"",mobile:"",email:"",occupation:"",companyName:"",workPhone:"",education:"",specialization:"",hobbies:"",healthIssues:"",medications:"",aadhaarNumber:"",panNumber:"",passportNumber:"",drivingLicense:"",additionalInfo:""}),[p,f]=x.useState({fundHouse:"",modeOfHolding:"",holdingType:"",investorName:"",ucc:"",mfName:"",folioNo:"",registeredMobile:"",registeredBank:"",registeredAddress:"",nominee:"",customerCareNumber:"",customerCareEmail:"",rmName:"",rmMobile:"",rmEmail:"",branchAddress:""}),[d,v]=x.useState({dematCompany:"",modeOfHolding:"",holdingType:"",investorName:"",tradingId:"",scriptName:"",registeredMobile:"",registeredBank:"",registeredAddress:"",nominee:"",customerCareNumber:"",customerCareEmail:"",rmName:"",rmMobile:"",rmEmail:"",branchAddress:""}),[y,C]=x.useState({insuranceCompany:"",insuranceType:"",insuranceSubType:"",policyPurpose:"",insurerName:"",policyName:"",policyNumber:"",registeredMobile:"",registeredBank:"",registeredAddress:"",nominee:"",customerCareNumber:"",customerCareEmail:"",rmName:"",rmMobile:"",rmEmail:"",branchAddress:""}),[N,j]=x.useState({bankName:"",accountType:"",holdingType:"",accountHolderName:"",customerId:"",accountNumber:"",ifscCode:"",branchAddress:"",registeredMobile:"",registeredAddress:"",nominee:"",registeredEmail:"",rmName:"",rmMobile:"",rmEmail:""}),[w,O]=x.useState({mobileNumber:"",usedBy:"",billGenerationDate:"",bestBillPaymentDate:"",finalBillPaymentDate:"",emailId:"",alternateNo:"",address:"",planNo:"",customerNumber:""}),[S,E]=x.useState({bankName:"",cardHolderName:"",cardNumber:"",expiryDate:"",atmPin:"",cvv:"",url:"",userId:"",password:"",customerCareNumber:"",customerCareEmail:"",cardType:""}),[T,k]=x.useState({company:"",companyName:"",bankName:"",accountNumber:"",url:"",userId:"",password:""}),[F,P]=x.useState({srNo:"",fundHouse:"",investorName:"",fundName:"",goalPurpose:"",folioNumber:"",dateOfPurchase:"",purchaseNAV:"",numberOfUnits:"",purchaseValue:"",currentNAV:"",currentValuation:"",difference:"",percentDifference:""}),[W,R]=x.useState({srNo:"",dematCompany:"",investorName:"",scriptName:"",goalPurpose:"",dateOfPurchase:"",purchaseNAV:"",numberOfUnits:"",purchaseValue:"",currentNAV:"",currentValuation:"",difference:"",percentDifference:""}),[U,J]=x.useState({srNo:"",insuranceCompany:"",insurerName:"",policyType:"",goalPurpose:"",policyName:"",policyNumber:"",policyStartDate:"",premiumMode:"",premiumAmount:"",lastPremiumPayingDate:"",maturityDate:"",sumAssured:"",nominee:""});x.useEffect(()=>{se()},[]);const se=async()=>{try{r(!0);const D=await ze.getBasicDetails();D.data&&D.data.length>0?o(D.data[0]):o({firstName:"John",lastName:"Doe",dateOfBirth:"1990-01-15",gender:"Male",bloodGroup:"B+",maritalStatus:"Married",anniversaryDate:"2018-11-20",primaryMobile:"+91 98765 43210",secondaryMobile:"+91 87654 32109",primaryEmail:"john.doe@email.com",secondaryEmail:"john.doe.work@email.com",whatsappNumber:"+91 98765 43210",currentAddress:{street:"123 Main Street",area:"Andheri",city:"Mumbai",state:"Maharashtra",pincode:"400053",country:"India"},permanentAddress:{street:"123 Main Street",area:"Andheri",city:"Mumbai",state:"Maharashtra",pincode:"400053",country:"India"},sameAsCurrent:!0,familyHead:"John Doe",familyMembers:[{name:"Jane Doe",relation:"Spouse",age:"32",gender:"Female",occupation:"Teacher",mobile:"+91 87654 32109",email:"jane.doe@email.com"},{name:"Johnny Doe",relation:"Son",age:"8",gender:"Male",occupation:"Student",mobile:"",email:""}],totalFamilyMembers:"3",dependents:"2",occupation:"Software Engineer",companyName:"Tech Solutions Pvt Ltd",designation:"Senior Developer",workEmail:"john.doe@techsolutions.com",workPhone:"+91 22 1234 5678",officeAddress:{street:"456 Business Park",area:"Andheri",city:"Mumbai",state:"Maharashtra",pincode:"400053"},nationality:"Indian",religion:"Hindu",caste:"General",motherTongue:"Hindi",languagesKnown:["Hindi","English","Marathi"],aadhaarNumber:"1234 5678 9012",panNumber:"ABCDE1234F",passportNumber:"P1234567",voterId:"ABC1234567",emergencyContact:{name:"Robert Doe",relation:"Brother",mobile:"+91 98765 43212",address:"789 Brother Street, Delhi, India"}})}catch(D){console.error("Error fetching basic details:",D),o({firstName:"John",lastName:"Doe",dateOfBirth:"1990-01-15",gender:"Male",bloodGroup:"B+",maritalStatus:"Married",anniversaryDate:"2018-11-20",primaryMobile:"+91 98765 43210",secondaryMobile:"+91 87654 32109",primaryEmail:"john.doe@email.com",secondaryEmail:"john.doe.work@email.com",whatsappNumber:"+91 98765 43210",currentAddress:{street:"123 Main Street",area:"Andheri",city:"Mumbai",state:"Maharashtra",pincode:"400053",country:"India"},permanentAddress:{street:"123 Main Street",area:"Andheri",city:"Mumbai",state:"Maharashtra",pincode:"400053",country:"India"},sameAsCurrent:!0,familyHead:"John Doe",familyMembers:[{name:"Jane Doe",relation:"Spouse",age:"32",gender:"Female",occupation:"Teacher",mobile:"+91 87654 32109",email:"jane.doe@email.com"},{name:"Johnny Doe",relation:"Son",age:"8",gender:"Male",occupation:"Student",mobile:"",email:""}],totalFamilyMembers:"3",dependents:"2",occupation:"Software Engineer",companyName:"Tech Solutions Pvt Ltd",designation:"Senior Developer",workEmail:"john.doe@techsolutions.com",workPhone:"+91 22 1234 5678",officeAddress:{street:"456 Business Park",area:"Andheri",city:"Mumbai",state:"Maharashtra",pincode:"400053"},nationality:"Indian",religion:"Hindu",caste:"General",motherTongue:"Hindi",languagesKnown:["Hindi","English","Marathi"],aadhaarNumber:"1234 5678 9012",panNumber:"ABCDE1234F",passportNumber:"P1234567",voterId:"ABC1234567",emergencyContact:{name:"Robert Doe",relation:"Brother",mobile:"+91 98765 43212",address:"789 Brother Street, Delhi, India"}})}finally{r(!1)}},X=()=>{p.fundHouse&&p.mfName&&(o(D=>({...D,mutualFunds:[...D.mutualFunds,{...p}]})),f({fundHouse:"",modeOfHolding:"",holdingType:"",investorName:"",ucc:"",mfName:"",folioNo:"",registeredMobile:"",registeredBank:"",registeredAddress:"",nominee:"",customerCareNumber:"",customerCareEmail:"",rmName:"",rmMobile:"",rmEmail:"",branchAddress:""}))},le=D=>{o(ne=>({...ne,mutualFunds:ne.mutualFunds.filter((be,Ce)=>Ce!==D)}))},G=()=>{d.dematCompany&&d.scriptName&&(o(D=>({...D,shares:[...D.shares,{...d}]})),v({dematCompany:"",modeOfHolding:"",holdingType:"",investorName:"",tradingId:"",scriptName:"",registeredMobile:"",registeredBank:"",registeredAddress:"",nominee:"",customerCareNumber:"",customerCareEmail:"",rmName:"",rmMobile:"",rmEmail:"",branchAddress:""}))},M=D=>{o(ne=>({...ne,shares:ne.shares.filter((be,Ce)=>Ce!==D)}))},B=()=>{y.insuranceCompany&&y.policyName&&(o(D=>({...D,insurance:[...D.insurance,{...y}]})),C({insuranceCompany:"",insuranceType:"",insuranceSubType:"",policyPurpose:"",insurerName:"",policyName:"",policyNumber:"",registeredMobile:"",registeredBank:"",registeredAddress:"",nominee:"",customerCareNumber:"",customerCareEmail:"",rmName:"",rmMobile:"",rmEmail:"",branchAddress:""}))},re=D=>{o(ne=>({...ne,insurance:ne.insurance.filter((be,Ce)=>Ce!==D)}))},Z=()=>{N.bankName&&N.accountNumber&&(o(D=>({...D,banks:[...D.banks,{...N}]})),j({bankName:"",accountType:"",holdingType:"",accountHolderName:"",customerId:"",accountNumber:"",ifscCode:"",branchAddress:"",registeredMobile:"",registeredAddress:"",nominee:"",registeredEmail:"",rmName:"",rmMobile:"",rmEmail:""}))},te=D=>{o(ne=>({...ne,banks:ne.banks.filter((be,Ce)=>Ce!==D)}))},_=()=>{w.mobileNumber&&(o(D=>({...D,mobileBills:[...D.mobileBills,{...w}]})),O({mobileNumber:"",usedBy:"",billGenerationDate:"",bestBillPaymentDate:"",finalBillPaymentDate:"",emailId:"",alternateNo:"",address:"",planNo:"",customerNumber:""}))},z=D=>{o(ne=>({...ne,mobileBills:ne.mobileBills.filter((be,Ce)=>Ce!==D)}))},L=()=>{S.bankName&&S.cardNumber&&(o(D=>({...D,cards:[...D.cards,{...S}]})),E({bankName:"",cardHolderName:"",cardNumber:"",expiryDate:"",atmPin:"",cvv:"",url:"",userId:"",password:"",customerCareNumber:"",customerCareEmail:"",cardType:""}))},$=D=>{o(ne=>({...ne,cards:ne.cards.filter((be,Ce)=>Ce!==D)}))},q=()=>{T.company&&T.companyName&&(o(D=>({...D,paymentGateways:[...D.paymentGateways,{...T}]})),k({company:"",companyName:"",bankName:"",accountNumber:"",url:"",userId:"",password:""}))},A=D=>{o(ne=>({...ne,paymentGateways:ne.paymentGateways.filter((be,Ce)=>Ce!==D)}))},K=()=>{F.fundHouse&&F.fundName&&(o(D=>({...D,mutualFundsPortfolio:[...D.mutualFundsPortfolio,{...F}]})),P({srNo:"",fundHouse:"",investorName:"",fundName:"",goalPurpose:"",folioNumber:"",dateOfPurchase:"",purchaseNAV:"",numberOfUnits:"",purchaseValue:"",currentNAV:"",currentValuation:"",difference:"",percentDifference:""}))},xe=D=>{o(ne=>({...ne,mutualFundsPortfolio:ne.mutualFundsPortfolio.filter((be,Ce)=>Ce!==D)}))},V=()=>{W.dematCompany&&W.scriptName&&(o(D=>({...D,sharesPortfolio:[...D.sharesPortfolio,{...W}]})),R({srNo:"",dematCompany:"",investorName:"",scriptName:"",goalPurpose:"",dateOfPurchase:"",purchaseNAV:"",numberOfUnits:"",purchaseValue:"",currentNAV:"",currentValuation:"",difference:"",percentDifference:""}))},ee=D=>{o(ne=>({...ne,sharesPortfolio:ne.sharesPortfolio.filter((be,Ce)=>Ce!==D)}))},me=()=>{U.insuranceCompany&&U.policyName&&(o(D=>({...D,insurancePortfolio:[...D.insurancePortfolio,{...U}]})),J({srNo:"",insuranceCompany:"",insurerName:"",policyType:"",goalPurpose:"",policyName:"",policyNumber:"",policyStartDate:"",premiumMode:"",premiumAmount:"",lastPremiumPayingDate:"",maturityDate:"",sumAssured:"",nominee:""}))},ue=D=>{o(ne=>({...ne,insurancePortfolio:ne.insurancePortfolio.filter((be,Ce)=>Ce!==D)}))},H=async()=>{try{r(!0);let D;i._id?D=await ze.updateBasicDetails(i._id,i):D=await ze.createBasicDetails(i),o(D.data),n(!1)}catch(D){console.error("Error saving basic details:",D),alert("Failed to save basic details. Please try again.")}finally{r(!1)}},de=()=>{n(!1),se()};return a&&!i.firstName?e.jsxs("div",{className:"static-page-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading basic details..."})]}):e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(Wr,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Basic Details"}),e.jsx("p",{children:"Personal and family information management"})]})]}),e.jsx("div",{className:"header-actions",children:t?e.jsxs("div",{className:"edit-actions",children:[e.jsxs("button",{className:"btn-success",onClick:H,children:[e.jsx(cs,{})," Save"]}),e.jsxs("button",{className:"btn-secondary",onClick:de,children:[e.jsx(Ge,{})," Cancel"]})]}):e.jsxs("button",{className:"btn-primary",onClick:()=>n(!0),children:[e.jsx(ct,{})," Edit Details"]})})]}),e.jsxs("div",{className:"static-content",children:[e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(In,{className:"section-icon"}),e.jsx("h3",{children:"Mutual Funds Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"mutual-funds-list",children:[i.mutualFunds&&i.mutualFunds.length>0?i.mutualFunds.map((D,ne)=>e.jsxs("div",{className:"family-member-card",children:[e.jsxs("div",{className:"member-info",children:[e.jsxs("div",{className:"member-header",children:[e.jsx("h5",{children:D.mfName}),e.jsx("span",{className:"relation-badge",children:D.fundHouse})]}),e.jsxs("div",{className:"member-details",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Folio No:"})," ",D.folioNo]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Mode of Holding:"})," ",D.modeOfHolding]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Holding Type:"})," ",D.holdingType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Investor Name:"})," ",D.investorName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"UCC:"})," ",D.ucc]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Mobile:"})," ",D.registeredMobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Bank:"})," ",D.registeredBank]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nominee:"})," ",D.nominee]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Care:"})," ",D.customerCareNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Care Email:"})," ",D.customerCareEmail]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Name:"})," ",D.rmName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Mobile:"})," ",D.rmMobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Email:"})," ",D.rmEmail]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Address:"})," ",D.registeredAddress]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Branch Address:"})," ",D.branchAddress]})]})]})]}),t&&e.jsx("button",{className:"btn-remove",onClick:()=>le(ne),children:e.jsx(Ge,{})})]},ne)):e.jsx("p",{className:"no-data",children:"No mutual funds added yet."}),t&&e.jsxs("div",{className:"add-family-member",children:[e.jsx("h5",{children:"Add Mutual Fund"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Fund House *"}),e.jsx("input",{type:"text",value:p.fundHouse,onChange:D=>f({...p,fundHouse:D.target.value}),placeholder:"e.g., HDFC, ICICI, SBI"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mode of Holding"}),e.jsxs("select",{value:p.modeOfHolding,onChange:D=>f({...p,modeOfHolding:D.target.value}),children:[e.jsx("option",{value:"",children:"Select Mode"}),e.jsx("option",{value:"Physical",children:"Physical"}),e.jsx("option",{value:"Demat",children:"Demat"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Joint / Single Holding"}),e.jsxs("select",{value:p.holdingType,onChange:D=>f({...p,holdingType:D.target.value}),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Joint",children:"Joint"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Investor"}),e.jsx("input",{type:"text",value:p.investorName,onChange:D=>f({...p,investorName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"UCC (Unique Client Code)"}),e.jsx("input",{type:"text",value:p.ucc,onChange:D=>f({...p,ucc:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of MF *"}),e.jsx("input",{type:"text",value:p.mfName,onChange:D=>f({...p,mfName:D.target.value}),placeholder:"e.g., HDFC Top 100 Fund"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Folio No."}),e.jsx("input",{type:"text",value:p.folioNo,onChange:D=>f({...p,folioNo:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registered Mobile Number"}),e.jsx("input",{type:"tel",value:p.registeredMobile,onChange:D=>f({...p,registeredMobile:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registered Bank"}),e.jsx("input",{type:"text",value:p.registeredBank,onChange:D=>f({...p,registeredBank:D.target.value})})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Registered Address"}),e.jsx("textarea",{value:p.registeredAddress,onChange:D=>f({...p,registeredAddress:D.target.value}),rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nominee"}),e.jsx("input",{type:"text",value:p.nominee,onChange:D=>f({...p,nominee:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Number"}),e.jsx("input",{type:"tel",value:p.customerCareNumber,onChange:D=>f({...p,customerCareNumber:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Email Id"}),e.jsx("input",{type:"email",value:p.customerCareEmail,onChange:D=>f({...p,customerCareEmail:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Name"}),e.jsx("input",{type:"text",value:p.rmName,onChange:D=>f({...p,rmName:D.target.value}),placeholder:"Relationship Manager Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Mobile No."}),e.jsx("input",{type:"tel",value:p.rmMobile,onChange:D=>f({...p,rmMobile:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Email Id"}),e.jsx("input",{type:"email",value:p.rmEmail,onChange:D=>f({...p,rmEmail:D.target.value})})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Branch Address"}),e.jsx("textarea",{value:p.branchAddress,onChange:D=>f({...p,branchAddress:D.target.value}),rows:2})]})]}),e.jsxs("button",{className:"btn-primary",onClick:X,children:[e.jsx(Oe,{})," Add Mutual Fund"]})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(In,{className:"section-icon"}),e.jsx("h3",{children:"Shares Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"mutual-funds-list",children:[i.shares&&i.shares.length>0?i.shares.map((D,ne)=>e.jsxs("div",{className:"family-member-card",children:[e.jsxs("div",{className:"member-info",children:[e.jsxs("div",{className:"member-header",children:[e.jsx("h5",{children:D.scriptName}),e.jsx("span",{className:"relation-badge",children:D.dematCompany})]}),e.jsxs("div",{className:"member-details",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Trading ID:"})," ",D.tradingId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Mode of Holding:"})," ",D.modeOfHolding]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Holding Type:"})," ",D.holdingType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Investor Name:"})," ",D.investorName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Mobile:"})," ",D.registeredMobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Bank:"})," ",D.registeredBank]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nominee:"})," ",D.nominee]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Care:"})," ",D.customerCareNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Care Email:"})," ",D.customerCareEmail]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Name:"})," ",D.rmName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Mobile:"})," ",D.rmMobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Email:"})," ",D.rmEmail]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Address:"})," ",D.registeredAddress]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Branch Address:"})," ",D.branchAddress]})]})]})]}),t&&e.jsx("button",{className:"btn-remove",onClick:()=>M(ne),children:e.jsx(Ge,{})})]},ne)):e.jsx("p",{className:"no-data",children:"No shares added yet."}),t&&e.jsxs("div",{className:"add-family-member",children:[e.jsx("h5",{children:"Add Share"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Demat Company *"}),e.jsx("input",{type:"text",value:d.dematCompany,onChange:D=>v({...d,dematCompany:D.target.value}),placeholder:"e.g., Zerodha, Upstox, ICICI Direct"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mode of Holding"}),e.jsxs("select",{value:d.modeOfHolding,onChange:D=>v({...d,modeOfHolding:D.target.value}),children:[e.jsx("option",{value:"",children:"Select Mode"}),e.jsx("option",{value:"Physical",children:"Physical"}),e.jsx("option",{value:"Demat",children:"Demat"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Joint / Single Holding"}),e.jsxs("select",{value:d.holdingType,onChange:D=>v({...d,holdingType:D.target.value}),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Joint",children:"Joint"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Investor"}),e.jsx("input",{type:"text",value:d.investorName,onChange:D=>v({...d,investorName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Trading Id"}),e.jsx("input",{type:"text",value:d.tradingId,onChange:D=>v({...d,tradingId:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Script *"}),e.jsx("input",{type:"text",value:d.scriptName,onChange:D=>v({...d,scriptName:D.target.value}),placeholder:"e.g., Reliance, TCS, Infosys"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registered Mobile Number"}),e.jsx("input",{type:"tel",value:d.registeredMobile,onChange:D=>v({...d,registeredMobile:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registered Bank"}),e.jsx("input",{type:"text",value:d.registeredBank,onChange:D=>v({...d,registeredBank:D.target.value})})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Registered Address"}),e.jsx("textarea",{value:d.registeredAddress,onChange:D=>v({...d,registeredAddress:D.target.value}),rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nominee"}),e.jsx("input",{type:"text",value:d.nominee,onChange:D=>v({...d,nominee:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Number"}),e.jsx("input",{type:"tel",value:d.customerCareNumber,onChange:D=>v({...d,customerCareNumber:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Email Id"}),e.jsx("input",{type:"email",value:d.customerCareEmail,onChange:D=>v({...d,customerCareEmail:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Name"}),e.jsx("input",{type:"text",value:d.rmName,onChange:D=>v({...d,rmName:D.target.value}),placeholder:"Relationship Manager Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Mobile No."}),e.jsx("input",{type:"tel",value:d.rmMobile,onChange:D=>v({...d,rmMobile:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Email Id"}),e.jsx("input",{type:"email",value:d.rmEmail,onChange:D=>v({...d,rmEmail:D.target.value})})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Branch Address"}),e.jsx("textarea",{value:d.branchAddress,onChange:D=>v({...d,branchAddress:D.target.value}),rows:2})]})]}),e.jsxs("button",{className:"btn-primary",onClick:G,children:[e.jsx(Oe,{})," Add Share"]})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(PC,{className:"section-icon"}),e.jsx("h3",{children:"Insurance Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"mutual-funds-list",children:[i.insurance&&i.insurance.length>0?i.insurance.map((D,ne)=>e.jsxs("div",{className:"family-member-card",children:[e.jsxs("div",{className:"member-info",children:[e.jsxs("div",{className:"member-header",children:[e.jsx("h5",{children:D.policyName}),e.jsx("span",{className:"relation-badge",children:D.insuranceCompany})]}),e.jsxs("div",{className:"member-details",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Policy Number:"})," ",D.policyNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type:"})," ",D.insuranceType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sub Type:"})," ",D.insuranceSubType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purpose:"})," ",D.policyPurpose]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Insurer Name:"})," ",D.insurerName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Mobile:"})," ",D.registeredMobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Bank:"})," ",D.registeredBank]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nominee:"})," ",D.nominee]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Care:"})," ",D.customerCareNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Care Email:"})," ",D.customerCareEmail]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Name:"})," ",D.rmName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Mobile:"})," ",D.rmMobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Email:"})," ",D.rmEmail]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Address:"})," ",D.registeredAddress]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Branch Address:"})," ",D.branchAddress]})]})]})]}),t&&e.jsx("button",{className:"btn-remove",onClick:()=>re(ne),children:e.jsx(Ge,{})})]},ne)):e.jsx("p",{className:"no-data",children:"No insurance policies added yet."}),t&&e.jsxs("div",{className:"add-family-member",children:[e.jsx("h5",{children:"Add Insurance Policy"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Insurance Company *"}),e.jsx("input",{type:"text",value:y.insuranceCompany,onChange:D=>C({...y,insuranceCompany:D.target.value}),placeholder:"e.g., LIC, HDFC Life, SBI Life"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type of Insurance"}),e.jsxs("select",{value:y.insuranceType,onChange:D=>C({...y,insuranceType:D.target.value}),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Life",children:"Life"}),e.jsx("option",{value:"Health",children:"Health"}),e.jsx("option",{value:"Motor",children:"Motor"}),e.jsx("option",{value:"Property",children:"Property"}),e.jsx("option",{value:"Travel",children:"Travel"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sub Type of Insurance"}),e.jsx("input",{type:"text",value:y.insuranceSubType,onChange:D=>C({...y,insuranceSubType:D.target.value}),placeholder:"e.g., Term, Endowment, ULIP"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purpose of Policy"}),e.jsx("input",{type:"text",value:y.policyPurpose,onChange:D=>C({...y,policyPurpose:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Insurer"}),e.jsx("input",{type:"text",value:y.insurerName,onChange:D=>C({...y,insurerName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Policy *"}),e.jsx("input",{type:"text",value:y.policyName,onChange:D=>C({...y,policyName:D.target.value}),placeholder:"e.g., Jeevan Anand, Max Bupa"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Policy Number"}),e.jsx("input",{type:"text",value:y.policyNumber,onChange:D=>C({...y,policyNumber:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registered Mobile Number"}),e.jsx("input",{type:"tel",value:y.registeredMobile,onChange:D=>C({...y,registeredMobile:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registered Bank"}),e.jsx("input",{type:"text",value:y.registeredBank,onChange:D=>C({...y,registeredBank:D.target.value})})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Registered Address"}),e.jsx("textarea",{value:y.registeredAddress,onChange:D=>C({...y,registeredAddress:D.target.value}),rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nominee"}),e.jsx("input",{type:"text",value:y.nominee,onChange:D=>C({...y,nominee:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Number"}),e.jsx("input",{type:"tel",value:y.customerCareNumber,onChange:D=>C({...y,customerCareNumber:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Email Id"}),e.jsx("input",{type:"email",value:y.customerCareEmail,onChange:D=>C({...y,customerCareEmail:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Name"}),e.jsx("input",{type:"text",value:y.rmName,onChange:D=>C({...y,rmName:D.target.value}),placeholder:"Relationship Manager Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Mobile No."}),e.jsx("input",{type:"tel",value:y.rmMobile,onChange:D=>C({...y,rmMobile:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Email Id"}),e.jsx("input",{type:"email",value:y.rmEmail,onChange:D=>C({...y,rmEmail:D.target.value})})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Branch Address"}),e.jsx("textarea",{value:y.branchAddress,onChange:D=>C({...y,branchAddress:D.target.value}),rows:2})]})]}),e.jsxs("button",{className:"btn-primary",onClick:B,children:[e.jsx(Oe,{})," Add Insurance Policy"]})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ar,{className:"section-icon"}),e.jsx("h3",{children:"Bank Accounts Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"mutual-funds-list",children:[i.banks&&i.banks.length>0?i.banks.map((D,ne)=>e.jsxs("div",{className:"family-member-card",children:[e.jsxs("div",{className:"member-info",children:[e.jsxs("div",{className:"member-header",children:[e.jsx("h5",{children:D.bankName}),e.jsx("span",{className:"relation-badge",children:D.accountType})]}),e.jsxs("div",{className:"member-details",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Account Number:"})," ",D.accountNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"IFSC Code:"})," ",D.ifscCode]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Holding Type:"})," ",D.holdingType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Holder:"})," ",D.accountHolderName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer ID:"})," ",D.customerId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Mobile:"})," ",D.registeredMobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Email:"})," ",D.registeredEmail]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nominee:"})," ",D.nominee]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Name:"})," ",D.rmName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Mobile:"})," ",D.rmMobile]}),e.jsxs("p",{children:[e.jsx("strong",{children:"RM Email:"})," ",D.rmEmail]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Registered Address:"})," ",D.registeredAddress]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Branch Address:"})," ",D.branchAddress]})]})]})]}),t&&e.jsx("button",{className:"btn-remove",onClick:()=>te(ne),children:e.jsx(Ge,{})})]},ne)):e.jsx("p",{className:"no-data",children:"No bank accounts added yet."}),t&&e.jsxs("div",{className:"add-family-member",children:[e.jsx("h5",{children:"Add Bank Account"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Bank *"}),e.jsx("input",{type:"text",value:N.bankName,onChange:D=>j({...N,bankName:D.target.value}),placeholder:"e.g., HDFC Bank, SBI, ICICI"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type of Account"}),e.jsxs("select",{value:N.accountType,onChange:D=>j({...N,accountType:D.target.value}),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Savings",children:"Savings"}),e.jsx("option",{value:"Current",children:"Current"}),e.jsx("option",{value:"Fixed Deposit",children:"Fixed Deposit"}),e.jsx("option",{value:"Recurring Deposit",children:"Recurring Deposit"}),e.jsx("option",{value:"NRI",children:"NRI"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Joint / Single Holding"}),e.jsxs("select",{value:N.holdingType,onChange:D=>j({...N,holdingType:D.target.value}),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Joint",children:"Joint"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Account Holder"}),e.jsx("input",{type:"text",value:N.accountHolderName,onChange:D=>j({...N,accountHolderName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer ID"}),e.jsx("input",{type:"text",value:N.customerId,onChange:D=>j({...N,customerId:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Number *"}),e.jsx("input",{type:"text",value:N.accountNumber,onChange:D=>j({...N,accountNumber:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"IFSC Code"}),e.jsx("input",{type:"text",value:N.ifscCode,onChange:D=>j({...N,ifscCode:D.target.value}),placeholder:"e.g., HDFC0001234"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Branch Address"}),e.jsx("textarea",{value:N.branchAddress,onChange:D=>j({...N,branchAddress:D.target.value}),rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registered Mobile Number"}),e.jsx("input",{type:"tel",value:N.registeredMobile,onChange:D=>j({...N,registeredMobile:D.target.value})})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Registered Address"}),e.jsx("textarea",{value:N.registeredAddress,onChange:D=>j({...N,registeredAddress:D.target.value}),rows:2})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nominee"}),e.jsx("input",{type:"text",value:N.nominee,onChange:D=>j({...N,nominee:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registered Email Id"}),e.jsx("input",{type:"email",value:N.registeredEmail,onChange:D=>j({...N,registeredEmail:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Name"}),e.jsx("input",{type:"text",value:N.rmName,onChange:D=>j({...N,rmName:D.target.value}),placeholder:"Relationship Manager Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Mobile No."}),e.jsx("input",{type:"tel",value:N.rmMobile,onChange:D=>j({...N,rmMobile:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"RM Email Id"}),e.jsx("input",{type:"email",value:N.rmEmail,onChange:D=>j({...N,rmEmail:D.target.value})})]})]}),e.jsxs("button",{className:"btn-primary",onClick:Z,children:[e.jsx(Oe,{})," Add Bank Account"]})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Mh,{className:"section-icon"}),e.jsx("h3",{children:"Mobile Bill Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"mutual-funds-list",children:[i.mobileBills&&i.mobileBills.length>0?i.mobileBills.map((D,ne)=>e.jsxs("div",{className:"family-member-card",children:[e.jsxs("div",{className:"member-info",children:[e.jsxs("div",{className:"member-header",children:[e.jsx("h5",{children:D.mobileNumber}),e.jsx("span",{className:"relation-badge",children:D.usedBy})]}),e.jsxs("div",{className:"member-details",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Plan No.:"})," ",D.planNo]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Number:"})," ",D.customerNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Bill Generation Date:"})," ",D.billGenerationDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Best Bill Payment Date:"})," ",D.bestBillPaymentDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Final Bill Payment Date:"})," ",D.finalBillPaymentDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email Id:"})," ",D.emailId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Alternate No.:"})," ",D.alternateNo]})]}),e.jsx("div",{className:"form-group full-width",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," ",D.address]})})]})]}),t&&e.jsx("button",{className:"btn-remove",onClick:()=>z(ne),children:e.jsx(Ge,{})})]},ne)):e.jsx("p",{className:"no-data",children:"No mobile bills added yet."}),t&&e.jsxs("div",{className:"add-family-member",children:[e.jsx("h5",{children:"Add Mobile Bill"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobile Number *"}),e.jsx("input",{type:"tel",value:w.mobileNumber,onChange:D=>O({...w,mobileNumber:D.target.value}),placeholder:"e.g., +91 98765 43210"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Used by"}),e.jsx("input",{type:"text",value:w.usedBy,onChange:D=>O({...w,usedBy:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bill Generation Date"}),e.jsx("input",{type:"date",value:w.billGenerationDate,onChange:D=>O({...w,billGenerationDate:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Best Bill Payment Date"}),e.jsx("input",{type:"date",value:w.bestBillPaymentDate,onChange:D=>O({...w,bestBillPaymentDate:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Final Bill Payment Date"}),e.jsx("input",{type:"date",value:w.finalBillPaymentDate,onChange:D=>O({...w,finalBillPaymentDate:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Id"}),e.jsx("input",{type:"email",value:w.emailId,onChange:D=>O({...w,emailId:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Alternate No."}),e.jsx("input",{type:"tel",value:w.alternateNo,onChange:D=>O({...w,alternateNo:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Plan No."}),e.jsx("input",{type:"text",value:w.planNo,onChange:D=>O({...w,planNo:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Number"}),e.jsx("input",{type:"text",value:w.customerNumber,onChange:D=>O({...w,customerNumber:D.target.value})})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Address"}),e.jsx("textarea",{value:w.address,onChange:D=>O({...w,address:D.target.value}),rows:2})]})]}),e.jsxs("button",{className:"btn-primary",onClick:_,children:[e.jsx(Oe,{})," Add Mobile Bill"]})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ar,{className:"section-icon"}),e.jsx("h3",{children:"Card Details"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"mutual-funds-list",children:[i.cards&&i.cards.length>0?i.cards.map((D,ne)=>e.jsxs("div",{className:"family-member-card",children:[e.jsxs("div",{className:"member-info",children:[e.jsxs("div",{className:"member-header",children:[e.jsx("h5",{children:D.cardNumber}),e.jsx("span",{className:"relation-badge",children:D.cardType})]}),e.jsx("div",{className:"member-details",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Bank Name:"})," ",D.bankName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Card Holder:"})," ",D.cardHolderName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expiry Date:"})," ",D.expiryDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ATM Pin:"})," ",D.atmPin]}),e.jsxs("p",{children:[e.jsx("strong",{children:"CVV:"})," ",D.cvv]}),e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",D.url]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User ID:"})," ",D.userId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Password:"})," ",D.password]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Care:"})," ",D.customerCareNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Care Email:"})," ",D.customerCareEmail]})]})})]}),t&&e.jsx("button",{className:"btn-remove",onClick:()=>$(ne),children:e.jsx(Ge,{})})]},ne)):e.jsx("p",{className:"no-data",children:"No cards added yet."}),t&&e.jsxs("div",{className:"add-family-member",children:[e.jsx("h5",{children:"Add Card"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Card Type *"}),e.jsxs("select",{value:S.cardType,onChange:D=>E({...S,cardType:D.target.value}),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Debit",children:"Debit"}),e.jsx("option",{value:"Credit",children:"Credit"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Bank *"}),e.jsx("input",{type:"text",value:S.bankName,onChange:D=>E({...S,bankName:D.target.value}),placeholder:"e.g., HDFC Bank, SBI"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Card Holder"}),e.jsx("input",{type:"text",value:S.cardHolderName,onChange:D=>E({...S,cardHolderName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Card Number *"}),e.jsx("input",{type:"text",value:S.cardNumber,onChange:D=>E({...S,cardNumber:D.target.value}),maxLength:19})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expiry Date"}),e.jsx("input",{type:"month",value:S.expiryDate,onChange:D=>E({...S,expiryDate:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ATM Pin"}),e.jsx("input",{type:"password",value:S.atmPin,onChange:D=>E({...S,atmPin:D.target.value}),maxLength:6})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CVV"}),e.jsx("input",{type:"password",value:S.cvv,onChange:D=>E({...S,cvv:D.target.value}),maxLength:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"url",value:S.url,onChange:D=>E({...S,url:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User Id"}),e.jsx("input",{type:"text",value:S.userId,onChange:D=>E({...S,userId:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:S.password,onChange:D=>E({...S,password:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Number"}),e.jsx("input",{type:"tel",value:S.customerCareNumber,onChange:D=>E({...S,customerCareNumber:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Email Id"}),e.jsx("input",{type:"email",value:S.customerCareEmail,onChange:D=>E({...S,customerCareEmail:D.target.value})})]})]}),e.jsxs("button",{className:"btn-primary",onClick:L,children:[e.jsx(Oe,{})," Add Card"]})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(In,{className:"section-icon"}),e.jsx("h3",{children:"Payment Gateway"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"mutual-funds-list",children:[i.paymentGateways&&i.paymentGateways.length>0?i.paymentGateways.map((D,ne)=>e.jsxs("div",{className:"family-member-card",children:[e.jsxs("div",{className:"member-info",children:[e.jsxs("div",{className:"member-header",children:[e.jsx("h5",{children:D.companyName}),e.jsx("span",{className:"relation-badge",children:D.company})]}),e.jsx("div",{className:"member-details",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Bank Name:"})," ",D.bankName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Account Number:"})," ",D.accountNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",D.url]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User ID:"})," ",D.userId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Password:"})," ",D.password]})]})})]}),t&&e.jsx("button",{className:"btn-remove",onClick:()=>A(ne),children:e.jsx(Ge,{})})]},ne)):e.jsx("p",{className:"no-data",children:"No payment gateways added yet."}),t&&e.jsxs("div",{className:"add-family-member",children:[e.jsx("h5",{children:"Add Payment Gateway"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company *"}),e.jsx("input",{type:"text",value:T.company,onChange:D=>k({...T,company:D.target.value}),placeholder:"e.g., Razorpay, PayU"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Company *"}),e.jsx("input",{type:"text",value:T.companyName,onChange:D=>k({...T,companyName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Bank"}),e.jsx("input",{type:"text",value:T.bankName,onChange:D=>k({...T,bankName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Number"}),e.jsx("input",{type:"text",value:T.accountNumber,onChange:D=>k({...T,accountNumber:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"url",value:T.url,onChange:D=>k({...T,url:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User Id"}),e.jsx("input",{type:"text",value:T.userId,onChange:D=>k({...T,userId:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:T.password,onChange:D=>k({...T,password:D.target.value})})]})]}),e.jsxs("button",{className:"btn-primary",onClick:q,children:[e.jsx(Oe,{})," Add Payment Gateway"]})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(In,{className:"section-icon"}),e.jsx("h3",{children:"Portfolio Details - Mutual Funds"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"mutual-funds-list",children:[i.mutualFundsPortfolio&&i.mutualFundsPortfolio.length>0?i.mutualFundsPortfolio.map((D,ne)=>e.jsxs("div",{className:"family-member-card",children:[e.jsxs("div",{className:"member-info",children:[e.jsxs("div",{className:"member-header",children:[e.jsx("h5",{children:D.fundName}),e.jsx("span",{className:"relation-badge",children:D.fundHouse})]}),e.jsx("div",{className:"member-details",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Sr. No.:"})," ",D.srNo]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Investor Name:"})," ",D.investorName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Goal/Purpose:"})," ",D.goalPurpose]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Folio Number:"})," ",D.folioNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date of Purchase:"})," ",D.dateOfPurchase]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purchase NAV:"})," ",D.purchaseNAV]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Number of Units:"})," ",D.numberOfUnits]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purchase Value:"})," ",D.purchaseValue]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current NAV:"})," ",D.currentNAV]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current Valuation:"})," ",D.currentValuation]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Difference:"})," ",D.difference]}),e.jsxs("p",{children:[e.jsx("strong",{children:"% Difference:"})," ",D.percentDifference]})]})})]}),t&&e.jsx("button",{className:"btn-remove",onClick:()=>xe(ne),children:e.jsx(Ge,{})})]},ne)):e.jsx("p",{className:"no-data",children:"No mutual fund portfolio added yet."}),t&&e.jsxs("div",{className:"add-family-member",children:[e.jsx("h5",{children:"Add Mutual Fund Portfolio"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sr. No."}),e.jsx("input",{type:"text",value:F.srNo,onChange:D=>P({...F,srNo:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Fund House *"}),e.jsx("input",{type:"text",value:F.fundHouse,onChange:D=>P({...F,fundHouse:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Investor"}),e.jsx("input",{type:"text",value:F.investorName,onChange:D=>P({...F,investorName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Fund *"}),e.jsx("input",{type:"text",value:F.fundName,onChange:D=>P({...F,fundName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Goal / Purpose"}),e.jsx("input",{type:"text",value:F.goalPurpose,onChange:D=>P({...F,goalPurpose:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Folio Number"}),e.jsx("input",{type:"text",value:F.folioNumber,onChange:D=>P({...F,folioNumber:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Purchase"}),e.jsx("input",{type:"date",value:F.dateOfPurchase,onChange:D=>P({...F,dateOfPurchase:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purchase NAV"}),e.jsx("input",{type:"number",value:F.purchaseNAV,onChange:D=>P({...F,purchaseNAV:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Number of Units"}),e.jsx("input",{type:"number",value:F.numberOfUnits,onChange:D=>P({...F,numberOfUnits:D.target.value}),step:"0.001"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purchase Value"}),e.jsx("input",{type:"number",value:F.purchaseValue,onChange:D=>P({...F,purchaseValue:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Current NAV"}),e.jsx("input",{type:"number",value:F.currentNAV,onChange:D=>P({...F,currentNAV:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Current Valuation"}),e.jsx("input",{type:"number",value:F.currentValuation,onChange:D=>P({...F,currentValuation:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Difference"}),e.jsx("input",{type:"number",value:F.difference,onChange:D=>P({...F,difference:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"% Difference"}),e.jsx("input",{type:"number",value:F.percentDifference,onChange:D=>P({...F,percentDifference:D.target.value}),step:"0.01"})]})]}),e.jsxs("button",{className:"btn-primary",onClick:K,children:[e.jsx(Oe,{})," Add Mutual Fund Portfolio"]})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(In,{className:"section-icon"}),e.jsx("h3",{children:"Portfolio Details - Shares"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"mutual-funds-list",children:[i.sharesPortfolio&&i.sharesPortfolio.length>0?i.sharesPortfolio.map((D,ne)=>e.jsxs("div",{className:"family-member-card",children:[e.jsxs("div",{className:"member-info",children:[e.jsxs("div",{className:"member-header",children:[e.jsx("h5",{children:D.scriptName}),e.jsx("span",{className:"relation-badge",children:D.dematCompany})]}),e.jsx("div",{className:"member-details",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Sr. No.:"})," ",D.srNo]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Investor Name:"})," ",D.investorName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Goal/Purpose:"})," ",D.goalPurpose]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date of Purchase:"})," ",D.dateOfPurchase]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purchase NAV:"})," ",D.purchaseNAV]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Number of Units:"})," ",D.numberOfUnits]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purchase Value:"})," ",D.purchaseValue]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current NAV:"})," ",D.currentNAV]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Current Valuation:"})," ",D.currentValuation]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Difference:"})," ",D.difference]}),e.jsxs("p",{children:[e.jsx("strong",{children:"% Difference:"})," ",D.percentDifference]})]})})]}),t&&e.jsx("button",{className:"btn-remove",onClick:()=>ee(ne),children:e.jsx(Ge,{})})]},ne)):e.jsx("p",{className:"no-data",children:"No share portfolio added yet."}),t&&e.jsxs("div",{className:"add-family-member",children:[e.jsx("h5",{children:"Add Share Portfolio"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sr. No."}),e.jsx("input",{type:"text",value:W.srNo,onChange:D=>R({...W,srNo:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Demat Company *"}),e.jsx("input",{type:"text",value:W.dematCompany,onChange:D=>R({...W,dematCompany:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Investor"}),e.jsx("input",{type:"text",value:W.investorName,onChange:D=>R({...W,investorName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Script *"}),e.jsx("input",{type:"text",value:W.scriptName,onChange:D=>R({...W,scriptName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Goal / Purpose"}),e.jsx("input",{type:"text",value:W.goalPurpose,onChange:D=>R({...W,goalPurpose:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Purchase"}),e.jsx("input",{type:"date",value:W.dateOfPurchase,onChange:D=>R({...W,dateOfPurchase:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purchase NAV"}),e.jsx("input",{type:"number",value:W.purchaseNAV,onChange:D=>R({...W,purchaseNAV:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Number of Units"}),e.jsx("input",{type:"number",value:W.numberOfUnits,onChange:D=>R({...W,numberOfUnits:D.target.value}),step:"1"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purchase Value"}),e.jsx("input",{type:"number",value:W.purchaseValue,onChange:D=>R({...W,purchaseValue:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Current NAV"}),e.jsx("input",{type:"number",value:W.currentNAV,onChange:D=>R({...W,currentNAV:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Current Valuation"}),e.jsx("input",{type:"number",value:W.currentValuation,onChange:D=>R({...W,currentValuation:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Difference"}),e.jsx("input",{type:"number",value:W.difference,onChange:D=>R({...W,difference:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"% Difference"}),e.jsx("input",{type:"number",value:W.percentDifference,onChange:D=>R({...W,percentDifference:D.target.value}),step:"0.01"})]})]}),e.jsxs("button",{className:"btn-primary",onClick:V,children:[e.jsx(Oe,{})," Add Share Portfolio"]})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(PC,{className:"section-icon"}),e.jsx("h3",{children:"Portfolio Details - Insurance"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"mutual-funds-list",children:[i.insurancePortfolio&&i.insurancePortfolio.length>0?i.insurancePortfolio.map((D,ne)=>e.jsxs("div",{className:"family-member-card",children:[e.jsxs("div",{className:"member-info",children:[e.jsxs("div",{className:"member-header",children:[e.jsx("h5",{children:D.policyName}),e.jsx("span",{className:"relation-badge",children:D.insuranceCompany})]}),e.jsx("div",{className:"member-details",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Sr. No.:"})," ",D.srNo]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Insurer Name:"})," ",D.insurerName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Type of Policy:"})," ",D.policyType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Goal/Purpose:"})," ",D.goalPurpose]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Policy Number:"})," ",D.policyNumber]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Policy Start Date:"})," ",D.policyStartDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Premium Mode:"})," ",D.premiumMode]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Premium Amount:"})," ",D.premiumAmount]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Last Premium Paying Date:"})," ",D.lastPremiumPayingDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Maturity Date:"})," ",D.maturityDate]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Sum Assured:"})," ",D.sumAssured]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nominee:"})," ",D.nominee]})]})})]}),t&&e.jsx("button",{className:"btn-remove",onClick:()=>ue(ne),children:e.jsx(Ge,{})})]},ne)):e.jsx("p",{className:"no-data",children:"No insurance portfolio added yet."}),t&&e.jsxs("div",{className:"add-family-member",children:[e.jsx("h5",{children:"Add Insurance Portfolio"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sr. No."}),e.jsx("input",{type:"text",value:U.srNo,onChange:D=>J({...U,srNo:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Insurance Company *"}),e.jsx("input",{type:"text",value:U.insuranceCompany,onChange:D=>J({...U,insuranceCompany:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Insurer"}),e.jsx("input",{type:"text",value:U.insurerName,onChange:D=>J({...U,insurerName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type of Policy"}),e.jsx("input",{type:"text",value:U.policyType,onChange:D=>J({...U,policyType:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Goal / Purpose"}),e.jsx("input",{type:"text",value:U.goalPurpose,onChange:D=>J({...U,goalPurpose:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Policy *"}),e.jsx("input",{type:"text",value:U.policyName,onChange:D=>J({...U,policyName:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Policy Number"}),e.jsx("input",{type:"text",value:U.policyNumber,onChange:D=>J({...U,policyNumber:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Policy Start"}),e.jsx("input",{type:"date",value:U.policyStartDate,onChange:D=>J({...U,policyStartDate:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mode of Premium"}),e.jsxs("select",{value:U.premiumMode,onChange:D=>J({...U,premiumMode:D.target.value}),children:[e.jsx("option",{value:"",children:"Select Mode"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Half-Yearly",children:"Half-Yearly"}),e.jsx("option",{value:"Yearly",children:"Yearly"}),e.jsx("option",{value:"Single Premium",children:"Single Premium"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Premium Amount"}),e.jsx("input",{type:"number",value:U.premiumAmount,onChange:D=>J({...U,premiumAmount:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Premium Paying Date"}),e.jsx("input",{type:"date",value:U.lastPremiumPayingDate,onChange:D=>J({...U,lastPremiumPayingDate:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Maturity"}),e.jsx("input",{type:"date",value:U.maturityDate,onChange:D=>J({...U,maturityDate:D.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sum Assured"}),e.jsx("input",{type:"number",value:U.sumAssured,onChange:D=>J({...U,sumAssured:D.target.value}),step:"0.01"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nominee"}),e.jsx("input",{type:"text",value:U.nominee,onChange:D=>J({...U,nominee:D.target.value})})]})]}),e.jsxs("button",{className:"btn-primary",onClick:me,children:[e.jsx(Oe,{})," Add Insurance Portfolio"]})]})]})})]})]})]})},s2={category:"Banking",serviceName:"",url:"",userId:"",password:"",recoveryEmail:"",recoveryPhone:"",twoFA:!1,otpMethod:"SMS",securityQuestion:"",securityAnswer:"",additional:"",notes:""},hQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(s2),[i,o]=x.useState(null),[u,h]=x.useState(null),[p,f]=x.useState(!1),d="static-online-access",v=S=>({category:d,type:"Account",name:S.serviceName||"Online Access",provider:S.category||"Other",amount:0,startDate:new Date().toISOString().slice(0,10),notes:JSON.stringify({category:S.category,serviceName:S.serviceName,url:S.url,userId:S.userId,recoveryEmail:S.recoveryEmail,recoveryPhone:S.recoveryPhone,twoFA:S.twoFA,otpMethod:S.otpMethod,securityQuestion:S.securityQuestion,securityAnswer:S.securityAnswer,notes:S.notes})}),y=S=>{let E={};try{E=S.notes?JSON.parse(S.notes):{}}catch{E={}}return{_id:S._id,category:E.category||S.provider||"Other",serviceName:E.serviceName||S.name||"",url:E.url||"",userId:E.userId||"",recoveryEmail:E.recoveryEmail||"",recoveryPhone:E.recoveryPhone||"",twoFA:!!E.twoFA,otpMethod:E.otpMethod||"SMS",securityQuestion:E.securityQuestion||"",securityAnswer:E.securityAnswer||"",notes:E.notes||""}},C=async()=>{try{const E=((await De.getAll(d)).data.investments||[]).map(y);n(E)}catch(S){console.error("Error fetching online access details:",S)}};x.useEffect(()=>{(async()=>{try{const E=((await De.getAll(d)).data.investments||[]).map(y);n(E)}catch(S){console.error("Error fetching online access details:",S)}})()},[]);const N=()=>{r(s2),o(null)},j=async S=>{S.preventDefault();try{u?await De.update(u,v(a)):await De.create(v(a)),await C(),N()}catch(E){alert(E.response?.data?.message||"Error saving record")}},w=S=>{const E=t[S];r({...E}),o(S),h(E._id),f(!0)},O=async S=>{const E=t[S];if(window.confirm("Are you sure you want to delete this access record?"))try{await De.delete(E._id),await C()}catch(T){alert(T.response?.data?.message||"Error deleting record")}};return e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(ba,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Online Access Details"}),e.jsx("p",{children:"Maintain secure records of online accounts and access information"})]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-primary",onClick:()=>f(!p),children:p?"Lock Form":"Edit Form"}),e.jsxs("button",{className:"btn-success",onClick:()=>{N(),f(!0)},children:[e.jsx(Oe,{})," New Entry"]})]})]}),p&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Hs,{className:"section-icon"}),e.jsx("h3",{children:"Access Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:a.category,onChange:S=>r({...a,category:S.target.value}),children:[e.jsx("option",{children:"Banking"}),e.jsx("option",{children:"Trading / Investment"}),e.jsx("option",{children:"Utilities"}),e.jsx("option",{children:"Government / Tax"}),e.jsx("option",{children:"Email"}),e.jsx("option",{children:"Social"}),e.jsx("option",{children:"Work / SaaS"}),e.jsx("option",{children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Name"}),e.jsx("input",{type:"text",value:a.serviceName,onChange:S=>r({...a,serviceName:S.target.value}),placeholder:"e.g., HDFC NetBanking"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Login URL"}),e.jsx("input",{type:"url",value:a.url,onChange:S=>r({...a,url:S.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User ID"}),e.jsx("input",{type:"text",value:a.userId,onChange:S=>r({...a,userId:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:a.password,onChange:S=>r({...a,password:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Recovery Email"}),e.jsx("input",{type:"email",value:a.recoveryEmail,onChange:S=>r({...a,recoveryEmail:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Recovery Phone"}),e.jsx("input",{type:"tel",value:a.recoveryPhone,onChange:S=>r({...a,recoveryPhone:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Two-Factor Authentication"}),e.jsxs("select",{value:a.twoFA?"Enabled":"Disabled",onChange:S=>r({...a,twoFA:S.target.value==="Enabled"}),children:[e.jsx("option",{value:"Disabled",children:"Disabled"}),e.jsx("option",{value:"Enabled",children:"Enabled"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"OTP Method"}),e.jsxs("select",{value:a.otpMethod,onChange:S=>r({...a,otpMethod:S.target.value}),children:[e.jsx("option",{children:"SMS"}),e.jsx("option",{children:"Email"}),e.jsx("option",{children:"Authenticator App"}),e.jsx("option",{children:"Security Key"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Security Question"}),e.jsx("input",{type:"text",value:a.securityQuestion,onChange:S=>r({...a,securityQuestion:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Security Answer"}),e.jsx("input",{type:"text",value:a.securityAnswer,onChange:S=>r({...a,securityAnswer:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Additional"}),e.jsx("input",{type:"text",value:a.additional,onChange:S=>r({...a,additional:S.target.value}),placeholder:"Any additional details"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:a.notes,onChange:S=>r({...a,notes:S.target.value}),placeholder:"Additional instructions or remarks"})]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{type:"submit",className:"btn-success",children:i!==null?"Update":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{N(),f(!1)},children:"Cancel"})]})]})})]}),t.length>0&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ba,{className:"section-icon"}),e.jsx("h3",{children:"Saved Online Accounts"})]}),e.jsx("div",{className:"section-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Service"}),e.jsx("th",{children:"URL"}),e.jsx("th",{children:"User ID"}),e.jsx("th",{children:"2FA"}),e.jsx("th",{children:"OTP"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map((S,E)=>e.jsxs("tr",{children:[e.jsx("td",{children:S.category}),e.jsx("td",{children:S.serviceName}),e.jsx("td",{children:e.jsx("a",{href:S.url,target:"_blank",rel:"noreferrer",children:S.url})}),e.jsx("td",{children:S.userId}),e.jsx("td",{children:S.twoFA?"Enabled":"Disabled"}),e.jsx("td",{children:S.otpMethod}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>w(E),className:"btn-icon",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>O(E),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},E))})]})})})]})]})},Pf=async(t,n)=>{try{const a=mQ(t,n);if(a.length===0)return{success:!0,message:"No customer support to sync",count:0};const r=[];for(const i of a)try{const o=await fQ(i);o?(await ze.updateCustomerSupport(o._id,i),r.push({action:"updated",company:i.companyName})):(await ze.createCustomerSupport(i),r.push({action:"created",company:i.companyName}))}catch(o){console.error(`Error syncing support for ${i.companyName}:`,o),r.push({action:"failed",company:i.companyName,error:o.message})}return{success:!0,message:`Synced ${r.length} customer support record(s)`,count:r.length,results:r}}catch(a){return console.error("Error in syncCustomerSupportFromForm:",a),{success:!1,message:a.message,count:0}}},mQ=(t,n)=>{const a=[];switch(n){case"InventoryRecord":t.companyName&&(t.customerCareNumber||t.customerCareEmail)&&a.push({type:"Product Support",companyName:t.companyName,serviceCategory:"Product Support",contactPerson:"",phone:t.customerCareNumber||"",email:t.customerCareEmail||"",website:"",supportHours:"",notes:`Source: Inventory Record - ${t.itemName||"Item"}
Model: ${t.modelName||"N/A"}
Service Center: ${t.serviceCenterNumber||"N/A"}`}),t.serviceCenterNumber&&t.companyName&&a.push({type:"Technical Support",companyName:`${t.companyName} Service Center`,serviceCategory:"Technical Support",contactPerson:"",phone:t.serviceCenterNumber||"",email:t.customerCareEmail||"",website:"",supportHours:"",notes:`Source: Inventory Record - Service Center for ${t.itemName||"Item"}`});break;case"DigitalAssets":t.hosting?.serviceProvider&&t.hosting?.userId&&a.push({type:"Technical Support",companyName:t.hosting.serviceProvider,serviceCategory:"Technical Support",contactPerson:"",phone:"",email:t.hosting.userId||"",website:"",supportHours:"",notes:`Source: Digital Assets - Hosting Support for ${t.projectName||"Website"}
Server Type: ${t.hosting.serverType||"N/A"}`}),t.domain?.serviceProvider&&t.domain?.adminId&&a.push({type:"Account Support",companyName:t.domain.serviceProvider,serviceCategory:"Account Support",contactPerson:"",phone:"",email:t.domain.adminId||t.admin?.recoveryEmail||"",website:"",supportHours:"",notes:`Source: Digital Assets - Domain Support for ${t.projectName||"Website"}
Domain: ${t.domain.domainName||"N/A"}`});break;case"PersonalRecords":t.issuingAuthority&&(t.mobileNumber||t.emailId)&&a.push({type:"General Inquiry",companyName:t.issuingAuthority,serviceCategory:"General Inquiry",contactPerson:t.nameOnId||"",phone:t.mobileNumber||"",email:t.emailId||"",website:t.url||"",supportHours:"",notes:`Source: Personal Records - ${t.docType||"Document"}
ID: ${t.idNumber||"N/A"}`});break;case"MobileEmailDetails":if((t.carrier||t.provider)&&(t.customerCareNo||t.customerCareEmail)){const r=t.type==="Mobile"?"Mobile Carrier":"Email Provider";a.push({type:"Customer Service",companyName:t.carrier||t.provider,serviceCategory:t.type==="Mobile"?"Technical Support":"Account Support",contactPerson:"",phone:t.customerCareNo||"",email:t.customerCareEmail||"",website:"",supportHours:"",notes:`Source: Mobile & Email Details - ${r}
${t.type==="Mobile"?"Mobile":"Email"}: ${t.mobile||t.email||"N/A"}
Plan: ${t.planName||"N/A"}
Account No: ${t.accountNo||"N/A"}`})}break;default:console.warn(`Unknown form type for customer support sync: ${n}`);break}return a.filter(r=>r.companyName&&r.companyName.trim()!==""&&(r.phone||r.email))},fQ=async t=>{try{return((await ze.getCustomerSupport()).data||[]).find(i=>i.companyName&&t.companyName&&i.companyName.toLowerCase().trim()===t.companyName.toLowerCase().trim())||null}catch(n){return console.error("Error finding existing support entry:",n),null}},t0="reminders-notifications",kf=async(t,n)=>{try{const a=pQ(t,n);if(a.length===0)return console.log("No reminders to sync from",n),{success:!0,message:"No reminders to sync",count:0};const r=[];for(const i of a)try{await lI(i),r.push({success:!0,title:i.title})}catch(o){console.error(`Error creating reminder: ${i.title}`,o),r.push({success:!1,title:i.title})}return console.log(` Created ${r.length} reminder(s) from ${n}:`,r),{success:!0,message:`Created ${r.length} reminder(s)`,count:r.length,reminders:r}}catch(a){return console.error("Error in syncRemindersFromForm:",a),{success:!1,message:a.message,count:0}}},pQ=(t,n)=>{const a=[];switch(n){case"InventoryRecord":if(t.warrantyExpiry){const i=new Date(t.warrantyExpiry),o=new Date(i);o.setDate(o.getDate()-30),a.push({title:`Warranty Expiring - ${t.itemName||"Item"}`,description:`Warranty for ${t.itemName} (${t.companyName||"N/A"}) expires on ${i.toLocaleDateString()}`,dateTime:o.toISOString().slice(0,16),type:"one-time",repeat:"none",priority:"medium",category:"personal",method:"notification",status:"active",source:"Inventory Record",sourceData:{itemName:t.itemName,companyName:t.companyName,expiryDate:t.warrantyExpiry}})}if(t.amcRenewalDate){const i=new Date(t.amcRenewalDate),o=new Date(i);o.setDate(o.getDate()-15),a.push({title:`AMC Renewal - ${t.itemName||"Item"}`,description:`AMC for ${t.itemName} needs renewal on ${i.toLocaleDateString()}`,dateTime:o.toISOString().slice(0,16),type:"one-time",repeat:"none",priority:"high",category:"personal",method:"notification",status:"active",source:"Inventory Record",sourceData:{itemName:t.itemName,renewalDate:t.amcRenewalDate}})}break;case"MembershipList":if(t.renewalDate||t.endDate){const i=new Date(t.renewalDate||t.endDate),o=new Date(i);o.setDate(o.getDate()-7),a.push({title:`Membership Renewal - ${t.organizationName}`,description:`${t.membershipType} membership at ${t.organizationName} ${t.renewalDate?"renewal":"expires"} on ${i.toLocaleDateString()}. Amount: ${t.amount} ${t.currency}`,dateTime:o.toISOString().slice(0,16),type:t.paymentFrequency==="Monthly"?"recurring":"one-time",repeat:t.paymentFrequency==="Monthly"?"monthly":t.paymentFrequency==="Yearly"?"yearly":"none",priority:"high",category:"bills",method:"notification",status:t.status==="Active"?"active":"paused",source:"Membership List",sourceData:{organizationName:t.organizationName,membershipType:t.membershipType,amount:t.amount,currency:t.currency,renewalDate:t.renewalDate||t.endDate}})}if(t.endDate){const i=new Date(t.endDate);if(i>new Date){const u=new Date(i);u.setDate(u.getDate()-3),a.push({title:`Membership Expiring - ${t.organizationName}`,description:`${t.membershipType} membership at ${t.organizationName} expires on ${i.toLocaleDateString()}`,dateTime:u.toISOString().slice(0,16),type:"one-time",repeat:"none",priority:"medium",category:"personal",method:"notification",status:"active",source:"Membership List",sourceData:{organizationName:t.organizationName,endDate:t.endDate}})}}break;case"MobileEmailDetails":if(t.planExpiryDate){const i=new Date(t.planExpiryDate),o=new Date(i);o.setDate(o.getDate()-5),a.push({title:`${t.type} Plan Expiry - ${t.carrier||t.provider}`,description:`${t.type} plan (${t.planName||"N/A"}) for ${t.mobile||t.email} expires on ${i.toLocaleDateString()}`,dateTime:o.toISOString().slice(0,16),type:"one-time",repeat:"none",priority:"high",category:"bills",method:"notification",status:"active",source:"Mobile & Email Details",sourceData:{type:t.type,carrier:t.carrier||t.provider,planName:t.planName,identifier:t.mobile||t.email,expiryDate:t.planExpiryDate}})}if(t.billDate&&t.planName){const i=new Date,o=parseInt(t.billDate);let u=new Date(i.getFullYear(),i.getMonth(),o);u<i&&u.setMonth(u.getMonth()+1);const h=new Date(u);h.setDate(h.getDate()-2),a.push({title:`${t.type} Bill Due - ${t.carrier||t.provider}`,description:`Monthly bill for ${t.mobile||t.email} (${t.planName}) due on ${t.billDate}th of every month`,dateTime:h.toISOString().slice(0,16),type:"recurring",repeat:"monthly",priority:"high",category:"bills",method:"notification",status:"active",source:"Mobile & Email Details",sourceData:{type:t.type,carrier:t.carrier||t.provider,billDate:t.billDate}})}break;case"PersonalRecords":if(t.expiryDate){const i=new Date(t.expiryDate),o=new Date(i);o.setDate(o.getDate()-30),a.push({title:`${t.docType} Expiring`,description:`${t.docType} for ${t.nameOnId} expires on ${i.toLocaleDateString()}. ID: ${t.idNumber||"N/A"}`,dateTime:o.toISOString().slice(0,16),type:"one-time",repeat:"none",priority:"high",category:"personal",method:"notification",status:"active",source:"Personal Records",sourceData:{docType:t.docType,nameOnId:t.nameOnId,idNumber:t.idNumber,expiryDate:t.expiryDate}})}break;default:console.warn(`Unknown form type for reminder sync: ${n}`);break}const r=new Date;return a.filter(i=>{try{const o=new Date(i.dateTime);return o>r&&!isNaN(o.getTime())}catch{return!1}})},Lc=async()=>{try{return((await De.getAll(t0)).data.investments||[]).map(a=>{let r={};try{r=a.notes?JSON.parse(a.notes):{}}catch{}return{id:a._id,title:r.title||a.name||"",description:r.description||"",dateTime:r.dateTime||a.startDate||"",type:r.type||"one-time",repeat:r.repeat||"none",priority:r.priority||"medium",category:r.category||"personal",method:r.method||"notification",status:r.status||"active",source:r.source||"",sourceData:r.sourceData||{}}})}catch(t){return console.error("Error fetching reminders:",t),[]}},lI=async t=>{try{const n={category:t0,type:"Reminder",name:t.title,startDate:t.dateTime||new Date().toISOString().slice(0,10),frequency:t.type==="recurring"?t.repeat:"one-time",notes:JSON.stringify(t)};return await De.create(n),!0}catch(n){return console.error("Error creating reminder:",n),!1}},vQ=async t=>{try{return await De.delete(t),!0}catch(n){return console.error("Error deleting reminder:",n),!1}},xQ=async(t,n)=>{try{const r=(await Lc()).find(i=>i.id===t);if(r){r.status=n;const i={category:t0,type:"Reminder",name:r.title,startDate:r.dateTime||new Date().toISOString().slice(0,10),frequency:r.type==="recurring"?r.repeat:"one-time",notes:JSON.stringify(r)};await De.update(t,i)}return!0}catch(a){return console.error("Error updating reminder status:",a),!1}},i2={type:"Mobile",name:"",relation:"",mobile:"",carrier:"",simType:"Prepaid",planName:"",planAmount:"",address:"",alternateNumber:"",customerCareNo:"",customerCareEmail:"",billingCycle:"",accountNo:"",email:"",provider:"Gmail",googleAccountEmail:"",recoveryEmail:"",recoveryNumber:"",alternateEmails:"",passkeysAndSecurityKey:"",password:"",purpose:"",twoFA:!1,notes:""},gQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(i2),[i,o]=x.useState(null),[u,h]=x.useState(null),[p,f]=x.useState(!1),d=async()=>{try{const j=await ze.getMobileEmailDetails();n(j.data||[])}catch(j){console.error("Error fetching mobile/email details:",j)}};x.useEffect(()=>{(async()=>{try{const j=await ze.getMobileEmailDetails();n(j.data||[])}catch(j){console.error("Error fetching mobile/email details:",j)}})()},[]);const v=()=>{r(i2),o(null)},y=async j=>{j.preventDefault();try{u?await ze.updateMobileEmailDetails(u,a):await ze.createMobileEmailDetails(a),await Promise.all([Ao(a,"MobileEmailDetails"),Pf(a,"MobileEmailDetails"),kf(a,"MobileEmailDetails"),_u(a,"MobileEmailDetails")]),await d(),v()}catch(w){alert(w.response?.data?.message||"Error saving record")}},C=j=>{const w=t[j];r({...w}),o(j),h(w._id),f(!0)},N=async j=>{const w=t[j];if(window.confirm("Delete this record?"))try{await ze.deleteMobileEmailDetails(w._id),await d()}catch(O){alert(O.response?.data?.message||"Error deleting record")}};return e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(Mh,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Mobile & Email Details"}),e.jsx("p",{children:"Keep important contact and access details for family members"})]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-primary",onClick:()=>f(!p),children:p?"Lock Form":"Edit Form"}),e.jsxs("button",{className:"btn-success",onClick:()=>{v(),f(!0)},children:[e.jsx(Oe,{})," New Entry"]})]})]}),p&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(EL,{className:"section-icon"}),e.jsx("h3",{children:"Contact Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:a.type,onChange:j=>r({...a,type:j.target.value}),children:[e.jsx("option",{children:"Mobile"}),e.jsx("option",{children:"Email"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobile/Email"}),e.jsx("input",{type:"text",value:a.type==="Mobile"?a.mobile:a.email,onChange:j=>r({...a,[a.type==="Mobile"?"mobile":"email"]:j.target.value}),placeholder:a.type==="Mobile"?"+91 9876543210":"example@email.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Provider/Carrier"}),e.jsx("input",{type:"text",value:a.type==="Mobile"?a.carrier:a.provider,onChange:j=>r({...a,[a.type==="Mobile"?"carrier":"provider"]:j.target.value}),placeholder:a.type==="Mobile"?"Airtel, Jio, etc.":"Gmail, Yahoo, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Name"}),e.jsx("input",{type:"text",value:a.ownerName,onChange:j=>r({...a,ownerName:j.target.value}),placeholder:"Family member name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Relationship"}),e.jsx("input",{type:"text",value:a.relationship,onChange:j=>r({...a,relationship:j.target.value}),placeholder:"Self, Spouse, Child, Parent, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Is Primary"}),e.jsxs("select",{value:a.isPrimary?"Yes":"No",onChange:j=>r({...a,isPrimary:j.target.value==="Yes"}),children:[e.jsx("option",{value:"No",children:"No"}),e.jsx("option",{value:"Yes",children:"Yes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Two-Factor Authentication"}),e.jsxs("select",{value:a.twoFA?"Enabled":"Disabled",onChange:j=>r({...a,twoFA:j.target.value==="Enabled"}),children:[e.jsx("option",{value:"Disabled",children:"Disabled"}),e.jsx("option",{value:"Enabled",children:"Enabled"})]})]}),a.type==="Mobile"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Plan Name"}),e.jsx("input",{type:"text",value:a.planName,onChange:j=>r({...a,planName:j.target.value}),placeholder:"Mobile plan name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Plan Amount"}),e.jsx("input",{type:"text",value:a.planAmount,onChange:j=>r({...a,planAmount:j.target.value}),placeholder:"Monthly/Annual plan amount"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address"}),e.jsx("input",{type:"text",value:a.address,onChange:j=>r({...a,address:j.target.value}),placeholder:"Registered address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Alternate Number"}),e.jsx("input",{type:"text",value:a.alternateNumber,onChange:j=>r({...a,alternateNumber:j.target.value}),placeholder:"Alternate contact number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care No."}),e.jsx("input",{type:"text",value:a.customerCareNo,onChange:j=>r({...a,customerCareNo:j.target.value}),placeholder:"Customer service number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Email"}),e.jsx("input",{type:"email",value:a.customerCareEmail,onChange:j=>r({...a,customerCareEmail:j.target.value}),placeholder:"Customer service email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Cycle"}),e.jsx("input",{type:"text",value:a.billingCycle,onChange:j=>r({...a,billingCycle:j.target.value}),placeholder:"Monthly, Quarterly, Yearly"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account No. / Customer No."}),e.jsx("input",{type:"text",value:a.accountNo,onChange:j=>r({...a,accountNo:j.target.value}),placeholder:"Account or customer number"})]})]}),a.type==="Email"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Google Account Email"}),e.jsx("input",{type:"email",value:a.googleAccountEmail,onChange:j=>r({...a,googleAccountEmail:j.target.value}),placeholder:"Google account email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Recovery Email"}),e.jsx("input",{type:"email",value:a.recoveryEmail,onChange:j=>r({...a,recoveryEmail:j.target.value}),placeholder:"Recovery email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Recovery Number"}),e.jsx("input",{type:"tel",value:a.recoveryNumber,onChange:j=>r({...a,recoveryNumber:j.target.value}),placeholder:"Recovery phone number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Alternate Emails"}),e.jsx("input",{type:"text",value:a.alternateEmails,onChange:j=>r({...a,alternateEmails:j.target.value}),placeholder:"Alternate email addresses (comma separated)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Passkeys and Security Key"}),e.jsx("input",{type:"text",value:a.passkeysAndSecurityKey,onChange:j=>r({...a,passkeysAndSecurityKey:j.target.value}),placeholder:"Passkeys and security key information"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:a.password,onChange:j=>r({...a,password:j.target.value}),placeholder:"Email password"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purpose"}),e.jsx("input",{type:"text",value:a.purpose,onChange:j=>r({...a,purpose:j.target.value}),placeholder:"Purpose of this email account"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:a.notes,onChange:j=>r({...a,notes:j.target.value}),placeholder:"Additional information"})]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{type:"submit",className:"btn-success",children:i!==null?"Update":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{v(),f(!1)},children:"Cancel"})]})]})})]}),t.length>0&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Mh,{className:"section-icon"}),e.jsx("h3",{children:"Saved Contacts"})]}),e.jsx("div",{className:"section-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Relation"}),e.jsx("th",{children:"Mobile"}),e.jsx("th",{children:"Carrier"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"2FA"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map((j,w)=>e.jsxs("tr",{children:[e.jsx("td",{children:j.type}),e.jsx("td",{children:j.name}),e.jsx("td",{children:j.relation}),e.jsx("td",{children:j.mobile}),e.jsx("td",{children:j.carrier}),e.jsx("td",{children:j.email}),e.jsx("td",{children:j.twoFA?"Enabled":"Disabled"}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>C(w),className:"btn-icon",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>N(w),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},w))})]})})})]})]})},yQ=()=>{const[t,n]=x.useState(!1),[a,r]=x.useState(!1),[i,o]=x.useState([]),[u,h]=x.useState(!1),[p,f]=x.useState(null),[d,v]=x.useState({companyName:"",companyType:"",industry:"",registrationNumber:"",incorporationDate:"",panNumber:"",tanNumber:"",gstNumber:"",cinNumber:"",registeredOffice:{address:"",city:"",state:"",pincode:"",country:"India",phone:"",email:"",website:""},corporateOffice:{address:"",city:"",state:"",pincode:"",country:"India",phone:"",email:""},sameAsRegistered:!0,directors:[],shareholders:[],authorizedSignatories:[],businessActivities:[],turnover:"",employeeCount:"",branches:[],bankAccounts:[],complianceStatus:"",lastAuditDate:"",nextAuditDue:"",taxStatus:"",documents:{incorporationCertificate:"",moa:"",aoa:"",panCard:"",gstCertificate:"",tanCertificate:"",boardResolution:""}}),y=["Private Limited","Public Limited","LLP","Partnership","Sole Proprietorship","One Person Company"],C=["IT Services","Manufacturing","Trading","Consulting","Healthcare","Education","Real Estate","Finance","Other"];x.useEffect(()=>{N()},[]);const N=async()=>{try{r(!0);const X=await ze.getCompanyRecords();o(X.data||[])}catch(X){console.error("Error fetching company records:",X),o([{id:"demo-1",companyName:"Tech Solutions Pvt Ltd",companyType:"Private Limited",industry:"IT Services",registrationNumber:"ROC-12345",incorporationDate:"2020-01-15",panNumber:"AAACT1234C",gstNumber:"27AAACT1234C1ZV",registeredOffice:{address:"123 Tech Park, Sector 15",city:"Mumbai",state:"Maharashtra",pincode:"400001",phone:"+91 22 1234 5678",email:"info@techsolutions.com",website:"www.techsolutions.com"},directors:[{name:"John Doe",din:"12345678",appointmentDate:"2020-01-15"},{name:"Jane Smith",din:"87654321",appointmentDate:"2020-01-15"}],turnover:"50000000",employeeCount:"50"}])}finally{r(!1)}},j=(X,le)=>{v(G=>({...G,[X]:le}))},w=(X,le,G)=>{v(M=>({...M,[X]:{...M[X],[le]:G}}))},O=X=>{v(le=>({...le,sameAsRegistered:X,corporateOffice:X?{...le.registeredOffice}:le.corporateOffice||{address:"",city:"",state:"",pincode:"",country:"India",phone:"",email:""}}))},S=()=>{v(X=>({...X,directors:[...X.directors,{name:"",din:"",appointmentDate:"",mcaMobileNumber:"",mcaEmailId:"",gstMobileNumber:"",gstEmailId:"",bankMobileNumber:"",bankEmailId:"",additional:""}]}))},E=(X,le,G)=>{v(M=>({...M,directors:M.directors.map((B,re)=>re===X?{...B,[le]:G}:B)}))},T=X=>{v(le=>({...le,directors:le.directors.filter((G,M)=>M!==X)}))},k=()=>{v(X=>({...X,bankAccounts:[...X.bankAccounts,{bankName:"",accountNumber:"",accountType:"",ifscCode:"",branch:""}]}))},F=(X,le,G)=>{v(M=>({...M,bankAccounts:M.bankAccounts.map((B,re)=>re===X?{...B,[le]:G}:B)}))},P=X=>{v(le=>({...le,bankAccounts:le.bankAccounts.filter((G,M)=>M!==X)}))},W=async()=>{try{r(!0);let X;if(p){const le=p._id||p.id;X=await ze.updateCompanyRecord(le,d),o(G=>G.map(M=>(M._id||M.id)===le?{...d,_id:le}:M))}else{X=await ze.createCompanyRecord(d);const le={...d,_id:X.data?._id||X.data?.id};o(G=>[...G,le])}await Ao(d,"CompanyRecords"),h(!1),f(null),n(!1),J()}catch(X){console.error("Error saving company record:",X),alert("Failed to save company record. Please try again.")}finally{r(!1)}},R=X=>{f(X),v(X),h(!0),n(!0)},U=async X=>{try{await ze.deleteCompanyRecord(X),o(le=>le.filter(G=>(G._id||G.id)!==X))}catch(le){console.error("Error deleting company:",le),alert("Failed to delete company record. Please try again.")}},J=()=>{v({companyName:"",companyType:"",industry:"",registrationNumber:"",incorporationDate:"",panNumber:"",tanNumber:"",gstNumber:"",cinNumber:"",registeredOffice:{address:"",city:"",state:"",pincode:"",country:"India",phone:"",email:"",website:""},corporateOffice:{address:"",city:"",state:"",pincode:"",country:"India",phone:"",email:""},sameAsRegistered:!0,directors:[],shareholders:[],authorizedSignatories:[],businessActivities:[],turnover:"",employeeCount:"",branches:[],bankAccounts:[],complianceStatus:"",lastAuditDate:"",nextAuditDue:"",taxStatus:"",documents:{incorporationCertificate:"",moa:"",aoa:"",panCard:"",gstCertificate:"",tanCertificate:"",boardResolution:""}})},se=()=>{h(!1),f(null),n(!1),J()};return a&&i.length===0?e.jsxs("div",{className:"static-page-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading company records..."})]}):e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(ar,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Company Records"}),e.jsx("p",{children:"Manage your company information and documents"})]})]}),e.jsx("div",{className:"header-actions",children:u?e.jsxs("div",{className:"edit-actions",children:[e.jsxs("button",{className:"btn-success",onClick:W,children:[e.jsx(cs,{})," Save"]}),e.jsxs("button",{className:"btn-secondary",onClick:se,children:[e.jsx(Ge,{})," Cancel"]})]}):e.jsxs("button",{className:"btn-primary",onClick:()=>h(!0),children:[e.jsx(Oe,{})," Add Company"]})})]}),e.jsx("div",{className:"static-content",children:u?e.jsxs("div",{className:"company-form",children:[e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ar,{className:"section-icon"}),e.jsx("h3",{children:"Basic Company Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:d.companyName,onChange:X=>j("companyName",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Type"}),e.jsxs("select",{value:d.companyType,onChange:X=>j("companyType",X.target.value),children:[e.jsx("option",{value:"",children:"Select Type"}),y.map(X=>e.jsx("option",{value:X,children:X},X))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Industry"}),e.jsxs("select",{value:d.industry,onChange:X=>j("industry",X.target.value),children:[e.jsx("option",{value:"",children:"Select Industry"}),C.map(X=>e.jsx("option",{value:X,children:X},X))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registration Number"}),e.jsx("input",{type:"text",value:d.registrationNumber,onChange:X=>j("registrationNumber",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Incorporation Date"}),e.jsx("input",{type:"date",value:d.incorporationDate,onChange:X=>j("incorporationDate",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PAN Number"}),e.jsx("input",{type:"text",value:d.panNumber,onChange:X=>j("panNumber",X.target.value),maxLength:10})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"TAN Number"}),e.jsx("input",{type:"text",value:d.tanNumber,onChange:X=>j("tanNumber",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GST Number"}),e.jsx("input",{type:"text",value:d.gstNumber,onChange:X=>j("gstNumber",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CIN Number"}),e.jsx("input",{type:"text",value:d.cinNumber,onChange:X=>j("cinNumber",X.target.value)})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Lm,{className:"section-icon"}),e.jsx("h3",{children:"Registered Office Address"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Address"}),e.jsx("input",{type:"text",value:d.registeredOffice.address,onChange:X=>w("registeredOffice","address",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City"}),e.jsx("input",{type:"text",value:d.registeredOffice.city,onChange:X=>w("registeredOffice","city",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State"}),e.jsx("input",{type:"text",value:d.registeredOffice.state,onChange:X=>w("registeredOffice","state",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pincode"}),e.jsx("input",{type:"text",value:d.registeredOffice.pincode,onChange:X=>w("registeredOffice","pincode",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone"}),e.jsx("input",{type:"tel",value:d.registeredOffice.phone,onChange:X=>w("registeredOffice","phone",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",value:d.registeredOffice.email,onChange:X=>w("registeredOffice","email",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{type:"url",value:d.registeredOffice.website,onChange:X=>w("registeredOffice","website",X.target.value)})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ar,{className:"section-icon"}),e.jsx("h3",{children:"Corporate Office Address"})]}),e.jsxs("div",{className:"section-content",children:[e.jsx("div",{className:"address-header",children:e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:d.sameAsRegistered,onChange:X=>O(X.target.checked)}),"Same as Registered Office"]})}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Address"}),e.jsx("input",{type:"text",value:d.corporateOffice?.address||"",onChange:X=>w("corporateOffice","address",X.target.value),disabled:d.sameAsRegistered})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City"}),e.jsx("input",{type:"text",value:d.corporateOffice?.city||"",onChange:X=>w("corporateOffice","city",X.target.value),disabled:d.sameAsRegistered})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State"}),e.jsx("input",{type:"text",value:d.corporateOffice?.state||"",onChange:X=>w("corporateOffice","state",X.target.value),disabled:d.sameAsRegistered})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pincode"}),e.jsx("input",{type:"text",value:d.corporateOffice?.pincode||"",onChange:X=>w("corporateOffice","pincode",X.target.value),disabled:d.sameAsRegistered})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone"}),e.jsx("input",{type:"tel",value:d.corporateOffice?.phone||"",onChange:X=>w("corporateOffice","phone",X.target.value),disabled:d.sameAsRegistered})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",value:d.corporateOffice?.email||"",onChange:X=>w("corporateOffice","email",X.target.value),disabled:d.sameAsRegistered})]})]})]})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Xr,{className:"section-icon"}),e.jsx("h3",{children:"Directors Information"})]}),e.jsxs("div",{className:"section-content",children:[(d.directors||[]).map((X,le)=>e.jsx("div",{className:"director-card",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Director Name"}),e.jsx("input",{type:"text",value:X.name,onChange:G=>E(le,"name",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"DIN Number"}),e.jsx("input",{type:"text",value:X.din,onChange:G=>E(le,"din",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Appointment Date"}),e.jsx("input",{type:"date",value:X.appointmentDate,onChange:G=>E(le,"appointmentDate",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MCA Mobile Number"}),e.jsx("input",{type:"tel",value:X.mcaMobileNumber,onChange:G=>E(le,"mcaMobileNumber",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MCA Email Id"}),e.jsx("input",{type:"email",value:X.mcaEmailId,onChange:G=>E(le,"mcaEmailId",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GST Mobile Number"}),e.jsx("input",{type:"tel",value:X.gstMobileNumber,onChange:G=>E(le,"gstMobileNumber",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"GST Email Id"}),e.jsx("input",{type:"email",value:X.gstEmailId,onChange:G=>E(le,"gstEmailId",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Mobile Number"}),e.jsx("input",{type:"tel",value:X.bankMobileNumber,onChange:G=>E(le,"bankMobileNumber",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Email Id"}),e.jsx("input",{type:"email",value:X.bankEmailId,onChange:G=>E(le,"bankEmailId",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Additional"}),e.jsx("input",{type:"text",value:X.additional,onChange:G=>E(le,"additional",G.target.value)})]}),e.jsx("div",{className:"form-group",children:e.jsxs("button",{className:"btn-remove",onClick:()=>T(le),children:[e.jsx(Ge,{})," Remove"]})})]})},le)),e.jsxs("button",{className:"btn-primary",onClick:S,children:[e.jsx(Oe,{})," Add Director"]})]})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ar,{className:"section-icon"}),e.jsx("h3",{children:"Bank Accounts"})]}),e.jsxs("div",{className:"section-content",children:[(d.bankAccounts||[]).map((X,le)=>e.jsx("div",{className:"bank-account-card",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:X.bankName,onChange:G=>F(le,"bankName",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Number"}),e.jsx("input",{type:"text",value:X.accountNumber,onChange:G=>F(le,"accountNumber",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Type"}),e.jsxs("select",{value:X.accountType,onChange:G=>F(le,"accountType",G.target.value),children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"Current",children:"Current"}),e.jsx("option",{value:"Savings",children:"Savings"}),e.jsx("option",{value:"Overdraft",children:"Overdraft"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"IFSC Code"}),e.jsx("input",{type:"text",value:X.ifscCode,onChange:G=>F(le,"ifscCode",G.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Branch"}),e.jsx("input",{type:"text",value:X.branch,onChange:G=>F(le,"branch",G.target.value)})]}),e.jsx("div",{className:"form-group",children:e.jsxs("button",{className:"btn-remove",onClick:()=>P(le),children:[e.jsx(Ge,{})," Remove"]})})]})},le)),e.jsxs("button",{className:"btn-primary",onClick:k,children:[e.jsx(Oe,{})," Add Bank Account"]})]})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ar,{className:"section-icon"}),e.jsx("h3",{children:"Business Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Annual Turnover"}),e.jsx("input",{type:"number",value:d.turnover,onChange:X=>j("turnover",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Employee Count"}),e.jsx("input",{type:"number",value:d.employeeCount,onChange:X=>j("employeeCount",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Compliance Status"}),e.jsxs("select",{value:d.complianceStatus,onChange:X=>j("complianceStatus",X.target.value),children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Compliant",children:"Compliant"}),e.jsx("option",{value:"Non-Compliant",children:"Non-Compliant"}),e.jsx("option",{value:"Under Review",children:"Under Review"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Last Audit Date"}),e.jsx("input",{type:"date",value:d.lastAuditDate,onChange:X=>j("lastAuditDate",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Next Audit Due"}),e.jsx("input",{type:"date",value:d.nextAuditDue,onChange:X=>j("nextAuditDue",X.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tax Status"}),e.jsxs("select",{value:d.taxStatus,onChange:X=>j("taxStatus",X.target.value),children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"}),e.jsx("option",{value:"Defaulter",children:"Defaulter"})]})]})]})})]})]}):e.jsx("div",{className:"companies-list",children:i.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:e.jsx(ar,{})}),e.jsx("h3",{children:"No Companies Added"}),e.jsx("p",{children:"Start by adding your first company record"}),e.jsxs("button",{className:"btn-primary",onClick:()=>h(!0),children:[e.jsx(Oe,{})," Add First Company"]})]}):e.jsx("div",{className:"companies-table-container",children:e.jsxs("table",{className:"companies-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Industry"}),e.jsx("th",{children:"PAN"}),e.jsx("th",{children:"GST"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:i.map(X=>e.jsxs("tr",{children:[e.jsx("td",{className:"company-name",children:X.companyName}),e.jsx("td",{children:X.companyType}),e.jsx("td",{children:X.industry}),e.jsx("td",{children:X.panNumber}),e.jsx("td",{children:X.gstNumber}),e.jsxs("td",{children:[X.registeredOffice?.city,", ",X.registeredOffice?.state]}),e.jsxs("td",{className:"table-actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>R(X),children:e.jsx(ct,{})}),e.jsx("button",{className:"btn-remove",onClick:()=>U(X._id||X.id),children:e.jsx(Ge,{})})]})]},X._id||X.id))})]})})})})]})},l2={docType:"Aadhaar",idNumber:"",nameOnId:"",issueDate:"",expiryDate:"",placeOfIssue:"",issuingAuthority:"",fileUrl:"",mobileNumber:"",emailId:"",url:"",userId:"",password:"",additional:"",notes:""},jQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(l2),[i,o]=x.useState(null),[u,h]=x.useState(null),[p,f]=x.useState(!1),d=async()=>{try{const j=await ze.getPersonalRecords();n(j.data||[])}catch(j){console.error("Error fetching personal records:",j)}};x.useEffect(()=>{(async()=>{try{const j=await ze.getPersonalRecords();n(j.data||[])}catch(j){console.error("Error fetching personal records:",j)}})()},[]);const v=()=>{r(l2),o(null)},y=async j=>{j.preventDefault();try{u?await ze.updatePersonalRecord(u,a):await ze.createPersonalRecord(a),await Ao(a,"PersonalRecords"),await Pf(a,"PersonalRecords"),kf(a,"PersonalRecords"),await d(),v()}catch(w){alert(w.response?.data?.message||"Error saving record")}},C=j=>{const w=t[j];r({...w}),o(j),h(w._id),f(!0)},N=async j=>{const w=t[j];if(window.confirm("Delete this record?"))try{await ze.deletePersonalRecord(w._id),await d()}catch(O){alert(O.response?.data?.message||"Error deleting record")}};return e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(Wr,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Personal Records"}),e.jsx("p",{children:"Store key identity and document details for family members"})]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-primary",onClick:()=>f(!p),children:p?"Lock Form":"Edit Form"}),e.jsxs("button",{className:"btn-success",onClick:()=>{v(),f(!0)},children:[e.jsx(Oe,{})," New Entry"]})]})]}),p&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Hl,{className:"section-icon"}),e.jsx("h3",{children:"Document Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Document Type"}),e.jsxs("select",{value:a.docType,onChange:j=>r({...a,docType:j.target.value}),children:[e.jsx("option",{children:"Aadhaar"}),e.jsx("option",{children:"PAN"}),e.jsx("option",{children:"Voter ID"}),e.jsx("option",{children:"Passport"}),e.jsx("option",{children:"Driving License"}),e.jsx("option",{children:"Birth Certificate"}),e.jsx("option",{children:"Marriage Certificate"}),e.jsx("option",{children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name on ID"}),e.jsx("input",{type:"text",value:a.nameOnId,onChange:j=>r({...a,nameOnId:j.target.value}),placeholder:"Name as printed on document"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"ID Number"}),e.jsx("input",{type:"text",value:a.idNumber,onChange:j=>r({...a,idNumber:j.target.value}),placeholder:"Document identification number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Issuing Authority"}),e.jsx("input",{type:"text",value:a.issuingAuthority,onChange:j=>r({...a,issuingAuthority:j.target.value}),placeholder:"Government department or authority"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Issue Date"}),e.jsx("input",{type:"date",value:a.issueDate,onChange:j=>r({...a,issueDate:j.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expiry Date"}),e.jsx("input",{type:"date",value:a.expiryDate,onChange:j=>r({...a,expiryDate:j.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"File URL"}),e.jsx("input",{type:"url",value:a.fileUrl,onChange:j=>r({...a,fileUrl:j.target.value}),placeholder:"Link to scanned document"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobile Number"}),e.jsx("input",{type:"tel",value:a.mobileNumber,onChange:j=>r({...a,mobileNumber:j.target.value}),placeholder:"Mobile number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Id"}),e.jsx("input",{type:"email",value:a.emailId,onChange:j=>r({...a,emailId:j.target.value}),placeholder:"Email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"URL"}),e.jsx("input",{type:"url",value:a.url,onChange:j=>r({...a,url:j.target.value}),placeholder:"Website or portal URL"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User Id"}),e.jsx("input",{type:"text",value:a.userId,onChange:j=>r({...a,userId:j.target.value}),placeholder:"User ID or username"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:a.password,onChange:j=>r({...a,password:j.target.value}),placeholder:"Password"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Additional"}),e.jsx("input",{type:"text",value:a.additional,onChange:j=>r({...a,additional:j.target.value}),placeholder:"Any additional details"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:a.notes,onChange:j=>r({...a,notes:j.target.value}),placeholder:"Additional remarks or information"})]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{type:"submit",className:"btn-success",children:i!==null?"Update":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{v(),f(!1)},children:"Cancel"})]})]})})]}),t.length>0&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Hl,{className:"section-icon"}),e.jsx("h3",{children:"Saved Records"})]}),e.jsx("div",{className:"section-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"ID Number"}),e.jsx("th",{children:"Name on ID"}),e.jsx("th",{children:"Issue"}),e.jsx("th",{children:"Expiry"}),e.jsx("th",{children:"Place"}),e.jsx("th",{children:"Authority"}),e.jsx("th",{children:"File"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map((j,w)=>e.jsxs("tr",{children:[e.jsx("td",{children:j.docType}),e.jsx("td",{children:j.idNumber}),e.jsx("td",{children:j.nameOnId}),e.jsx("td",{children:j.issueDate}),e.jsx("td",{children:j.expiryDate}),e.jsx("td",{children:j.placeOfIssue}),e.jsx("td",{children:j.issuingAuthority}),e.jsx("td",{children:j.fileUrl?e.jsx("a",{href:j.fileUrl,target:"_blank",rel:"noreferrer",className:"btn-icon",children:e.jsx(AL,{})}):"-"}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>C(w),className:"btn-icon",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>N(w),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},w))})]})})})]})]})},bQ=async t=>{try{const n=NQ(t);if(n.length===0)return{success:!0,message:"No mobile/email to sync",count:0};const a=[];for(const r of n)try{const i=await SQ(r);i?(await ze.updateMobileEmailDetails(i._id,r),a.push({action:"updated",type:r.type,value:r.mobile||r.email})):(await ze.createMobileEmailDetails(r),a.push({action:"created",type:r.type,value:r.mobile||r.email}))}catch(i){console.error(`Error syncing ${r.type}:`,i),a.push({action:"failed",type:r.type,error:i.message})}return{success:!0,message:`Synced ${a.length} mobile/email entry(ies)`,count:a.length,results:a}}catch(n){return console.error("Error in syncMobileEmailFromFamilyProfile:",n),{success:!1,message:n.message,count:0}}},NQ=t=>{const n=[],a=t.mobile&&t.mobile.trim()!=="",r=t.email&&t.email.trim()!=="",i=t.workPhone&&t.workPhone.trim()!=="";if(t.additionalInfo?.alternatePhone&&t.additionalInfo.alternatePhone.trim(),a||r){const o={type:a?"Mobile":"Email",name:t.name||"Family Member",relation:t.relation||"",mobile:t.mobile||"",carrier:"",simType:"Prepaid",planName:"",planAmount:"",address:t.additionalInfo?.residentialAddress||"",alternateNumber:t.additionalInfo?.alternatePhone||t.workPhone||"",customerCareNo:"",customerCareEmail:"",billingCycle:"",accountNo:"",email:t.email||"",provider:r?"Gmail":"",googleAccountEmail:t.email||"",recoveryEmail:"",recoveryNumber:t.mobile||"",alternateEmails:"",passkeysAndSecurityKey:"",password:"",purpose:"Personal",twoFA:!1,notes:`Auto-synced from Family Profile - ${t.relation||"Member"}`,ownerName:t.name||"",relationship:t.relation||"",isPrimary:!0};console.log(" Syncing mobile/email entry:",{name:o.name,mobile:o.mobile,email:o.email,hasMobile:a,hasEmail:r}),n.push(o)}return i&&t.workPhone!==t.mobile&&n.push({type:"Mobile",name:t.name||"Family Member",relation:t.relation||"",mobile:t.workPhone,carrier:"",simType:"Postpaid",planName:"",planAmount:"",address:t.additionalInfo?.workAddress||"",alternateNumber:t.mobile||"",customerCareNo:"",customerCareEmail:"",billingCycle:"",accountNo:"",email:"",provider:"",googleAccountEmail:"",recoveryEmail:"",recoveryNumber:"",alternateEmails:"",passkeysAndSecurityKey:"",password:"",purpose:"Work Phone",twoFA:!1,notes:`Auto-synced from Family Profile - Work Phone - ${t.relation||"Member"}`,ownerName:t.name||"",relationship:t.relation||"",isPrimary:!1}),n},SQ=async t=>{try{return((await ze.getMobileEmailDetails()).data||[]).find(i=>{const o=i.name&&t.name&&i.name.toLowerCase().trim()===t.name.toLowerCase().trim(),u=i.relation&&t.relation&&i.relation.toLowerCase().trim()===t.relation.toLowerCase().trim();return!!(o&&u||t.mobile&&i.mobile&&i.mobile.replace(/\s/g,"")===t.mobile.replace(/\s/g,"")||t.email&&i.email&&i.email.toLowerCase().trim()===t.email.toLowerCase().trim())})||null}catch(n){return console.error("Error finding existing mobile/email entry:",n),null}},o2=()=>{const[t,n]=x.useState(!1),[a,r]=x.useState(!1),[i,o]=x.useState(null),[u,h]=x.useState([]),p=["Hindi","English","Marathi","Gujarati","Tamil","Telugu","Kannada","Malayalam","Punjabi","Bengali","Urdu","Odia","Assamese","Rajasthani","Konkani","Sindhi","Others"],[f,d]=x.useState({name:"",relation:"",dateOfBirth:"",age:"",gender:"",bloodGroup:"",maritalStatus:"",anniversaryDate:"",mobile:"",email:"",occupation:"",companyName:"",workPhone:"",education:"",specialization:"",hobbies:"",healthIssues:"",medications:"",aadhaarNumber:"",panNumber:"",passportNumber:"",drivingLicense:"",additionalInfo:{nickname:"",nationality:"Indian",religion:"",caste:"",motherTongue:"",languagesKnown:[],voterID:"",residentialAddress:"",emergencyContactName:"",emergencyContactRelation:"",emergencyContactMobile:"",emergencyContactAddress:"",alternatePhone:"",workAddress:"",socialMediaProfiles:"",insuranceDetails:"",bankAccountInfo:"",specialNotes:""}});x.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const T=await ze.getFamilyProfile();if(T.data&&T.data.length>0){const k=T.data[0];h(k.members||[])}}catch(T){console.error("Error fetching family profile:",T)}finally{n(!1)}},y=()=>{o(null),d({name:"",relation:"",dateOfBirth:"",age:"",gender:"",bloodGroup:"",maritalStatus:"",anniversaryDate:"",mobile:"",email:"",occupation:"",companyName:"",workPhone:"",education:"",specialization:"",hobbies:"",healthIssues:"",medications:"",aadhaarNumber:"",panNumber:"",passportNumber:"",drivingLicense:"",additionalInfo:{nickname:"",nationality:"Indian",religion:"",caste:"",motherTongue:"",languagesKnown:[],voterID:"",residentialAddress:"",emergencyContactName:"",emergencyContactRelation:"",emergencyContactMobile:"",emergencyContactAddress:"",alternatePhone:"",workAddress:"",socialMediaProfiles:"",insuranceDetails:"",bankAccountInfo:"",specialNotes:""}}),r(!0)},C=(T,k)=>{o(k),d({...T,additionalInfo:T.additionalInfo||{nickname:"",nationality:"Indian",religion:"",caste:"",motherTongue:"",languagesKnown:[],voterID:"",residentialAddress:"",emergencyContactName:"",emergencyContactRelation:"",emergencyContactMobile:"",emergencyContactAddress:"",alternatePhone:"",workAddress:"",socialMediaProfiles:"",insuranceDetails:"",bankAccountInfo:"",specialNotes:""}}),r(!0)},N=(T,k)=>{d(F=>({...F,[T]:k}))},j=(T,k)=>{d(F=>({...F,additionalInfo:{...F.additionalInfo,[T]:k}}))},w=T=>{const k=f.additionalInfo?.languagesKnown||[],F=k.includes(T)?k.filter(P=>P!==T):[...k,T];j("languagesKnown",F)},O=async()=>{try{let T;i!==null?(T=[...u],T[i]=f):T=[...u,f],h(T);const k={members:T,totalMembers:T.length.toString()},F=await ze.getFamilyProfile();F.data&&F.data.length>0?await ze.updateFamilyProfile(F.data[0]._id,k):await ze.createFamilyProfile(k),await bQ(f),r(!1),o(null)}catch(T){console.error("Error saving member:",T),alert("Failed to save member. Please try again.")}},S=async T=>{if(window.confirm("Are you sure you want to delete this member?"))try{const k=u.filter((W,R)=>R!==T);h(k);const F={members:k,totalMembers:k.length.toString()},P=await ze.getFamilyProfile();P.data&&P.data.length>0&&await ze.updateFamilyProfile(P.data[0]._id,F)}catch(k){console.error("Error deleting member:",k)}},E=()=>{r(!1),o(null)};return t?e.jsxs("div",{className:"static-page-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading family profile..."})]}):e.jsxs("div",{className:"static-page",children:[e.jsx("div",{className:"static-header",children:e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(Xr,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Family Profile"}),e.jsx("p",{children:"Comprehensive family members information management"})]})]})}),e.jsxs("div",{className:"static-content",children:[e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Xr,{className:"section-icon"}),e.jsx("h3",{children:"Family Members"}),e.jsxs("button",{className:"btn-primary",onClick:y,children:[e.jsx(Oe,{})," Add Member"]})]}),e.jsx("div",{className:"section-content",children:u&&u.length>0?e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"family-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Number"}),e.jsx("th",{children:"Date of Birth"}),e.jsx("th",{children:"Anniversary"}),e.jsx("th",{children:"Blood Group"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.map((T,k)=>e.jsxs("tr",{children:[e.jsx("td",{children:T.name}),e.jsx("td",{children:T.mobile||"N/A"}),e.jsx("td",{children:T.dateOfBirth||"N/A"}),e.jsx("td",{children:T.anniversaryDate||"N/A"}),e.jsx("td",{children:T.bloodGroup||"N/A"}),e.jsxs("td",{children:[e.jsx("button",{className:"btn-icon",onClick:()=>C(T,k),children:e.jsx(ct,{})}),e.jsx("button",{className:"btn-icon btn-danger",onClick:()=>S(k),children:e.jsx(Ze,{})})]})]},k))})]})}):e.jsxs("div",{className:"empty-state",children:[e.jsx("p",{children:"No family members added yet."}),e.jsxs("button",{className:"btn-primary",onClick:y,children:[e.jsx(Oe,{})," Add First Member"]})]})})]}),a&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content large",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:i!==null?"Edit Member":"Add New Member"}),e.jsx("button",{className:"btn-close",onClick:E,children:e.jsx(Ge,{})})]}),e.jsxs("div",{className:"modal-form",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name *"}),e.jsx("input",{type:"text",value:f.name,onChange:T=>N("name",T.target.value),placeholder:"Full Name",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Relation *"}),e.jsxs("select",{value:f.relation,onChange:T=>N("relation",T.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Relation"}),e.jsx("option",{value:"Self",children:"Self"}),e.jsx("option",{value:"Spouse",children:"Spouse"}),e.jsx("option",{value:"Father",children:"Father"}),e.jsx("option",{value:"Mother",children:"Mother"}),e.jsx("option",{value:"Son",children:"Son"}),e.jsx("option",{value:"Daughter",children:"Daughter"}),e.jsx("option",{value:"Brother",children:"Brother"}),e.jsx("option",{value:"Sister",children:"Sister"}),e.jsx("option",{value:"Grandfather",children:"Grandfather"}),e.jsx("option",{value:"Grandmother",children:"Grandmother"}),e.jsx("option",{value:"Uncle",children:"Uncle"}),e.jsx("option",{value:"Aunt",children:"Aunt"}),e.jsx("option",{value:"Cousin",children:"Cousin"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Birth"}),e.jsx("input",{type:"date",value:f.dateOfBirth,onChange:T=>N("dateOfBirth",T.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Age"}),e.jsx("input",{type:"number",value:f.age,onChange:T=>N("age",T.target.value),placeholder:"Age"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Gender"}),e.jsxs("select",{value:f.gender,onChange:T=>N("gender",T.target.value),children:[e.jsx("option",{value:"",children:"Select Gender"}),e.jsx("option",{value:"Male",children:"Male"}),e.jsx("option",{value:"Female",children:"Female"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Blood Group"}),e.jsxs("select",{value:f.bloodGroup,onChange:T=>N("bloodGroup",T.target.value),children:[e.jsx("option",{value:"",children:"Select Blood Group"}),e.jsx("option",{value:"A+",children:"A+"}),e.jsx("option",{value:"A-",children:"A-"}),e.jsx("option",{value:"B+",children:"B+"}),e.jsx("option",{value:"B-",children:"B-"}),e.jsx("option",{value:"O+",children:"O+"}),e.jsx("option",{value:"O-",children:"O-"}),e.jsx("option",{value:"AB+",children:"AB+"}),e.jsx("option",{value:"AB-",children:"AB-"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Marital Status"}),e.jsxs("select",{value:f.maritalStatus,onChange:T=>N("maritalStatus",T.target.value),children:[e.jsx("option",{value:"",children:"Select Status"}),e.jsx("option",{value:"Single",children:"Single"}),e.jsx("option",{value:"Married",children:"Married"}),e.jsx("option",{value:"Divorced",children:"Divorced"}),e.jsx("option",{value:"Widowed",children:"Widowed"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Anniversary Date"}),e.jsx("input",{type:"date",value:f.anniversaryDate,onChange:T=>N("anniversaryDate",T.target.value)})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Contact Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobile"}),e.jsx("input",{type:"tel",value:f.mobile,onChange:T=>N("mobile",T.target.value),placeholder:"+91 98765 43210"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",value:f.email,onChange:T=>N("email",T.target.value),placeholder:"john.doe@email.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Work Phone"}),e.jsx("input",{type:"tel",value:f.workPhone,onChange:T=>N("workPhone",T.target.value),placeholder:"Office Number"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Professional & Educational Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Occupation"}),e.jsx("input",{type:"text",value:f.occupation,onChange:T=>N("occupation",T.target.value),placeholder:"e.g., Engineer, Doctor"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:f.companyName,onChange:T=>N("companyName",T.target.value),placeholder:"Where they work"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Education"}),e.jsx("input",{type:"text",value:f.education,onChange:T=>N("education",T.target.value),placeholder:"e.g., B.Tech, MBA, 12th"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Specialization"}),e.jsx("input",{type:"text",value:f.specialization,onChange:T=>N("specialization",T.target.value),placeholder:"e.g., Computer Science, Cardiology"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Health & Documents"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Hobbies"}),e.jsx("input",{type:"text",value:f.hobbies,onChange:T=>N("hobbies",T.target.value),placeholder:"Reading, Sports, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Health Issues"}),e.jsx("input",{type:"text",value:f.healthIssues,onChange:T=>N("healthIssues",T.target.value),placeholder:"Any known health conditions"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Medications"}),e.jsx("input",{type:"text",value:f.medications,onChange:T=>N("medications",T.target.value),placeholder:"Regular medications"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Aadhaar Number"}),e.jsx("input",{type:"text",value:f.aadhaarNumber,onChange:T=>N("aadhaarNumber",T.target.value),placeholder:"XXXX XXXX XXXX"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"PAN Number"}),e.jsx("input",{type:"text",value:f.panNumber,onChange:T=>N("panNumber",T.target.value),placeholder:"ABCDE1234F"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Passport Number"}),e.jsx("input",{type:"text",value:f.passportNumber,onChange:T=>N("passportNumber",T.target.value),placeholder:"P1234567"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Driving License"}),e.jsx("input",{type:"text",value:f.drivingLicense,onChange:T=>N("drivingLicense",T.target.value),placeholder:"DL Number"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Cultural & Personal Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nickname"}),e.jsx("input",{type:"text",value:f.additionalInfo?.nickname||"",onChange:T=>j("nickname",T.target.value),placeholder:"Nickname"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nationality"}),e.jsx("input",{type:"text",value:f.additionalInfo?.nationality||"Indian",onChange:T=>j("nationality",T.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Religion"}),e.jsx("input",{type:"text",value:f.additionalInfo?.religion||"",onChange:T=>j("religion",T.target.value),placeholder:"Religion"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Caste"}),e.jsx("input",{type:"text",value:f.additionalInfo?.caste||"",onChange:T=>j("caste",T.target.value),placeholder:"Caste"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mother Tongue"}),e.jsx("input",{type:"text",value:f.additionalInfo?.motherTongue||"",onChange:T=>j("motherTongue",T.target.value),placeholder:"Mother Tongue"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Voter ID"}),e.jsx("input",{type:"text",value:f.additionalInfo?.voterID||"",onChange:T=>j("voterID",T.target.value),placeholder:"Voter ID Number"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Languages Known"}),e.jsx("div",{className:"language-checkboxes",children:p.map(T=>e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:(f.additionalInfo?.languagesKnown||[]).includes(T),onChange:()=>w(T)}),T]},T))})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Address Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Residential Address"}),e.jsx("textarea",{value:f.additionalInfo?.residentialAddress||"",onChange:T=>j("residentialAddress",T.target.value),placeholder:"Home/Residential Address",rows:"3"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Work Address"}),e.jsx("textarea",{value:f.additionalInfo?.workAddress||"",onChange:T=>j("workAddress",T.target.value),placeholder:"Office Address",rows:"2"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Emergency Contact & Other Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Emergency Contact Name"}),e.jsx("input",{type:"text",value:f.additionalInfo?.emergencyContactName||"",onChange:T=>j("emergencyContactName",T.target.value),placeholder:"Contact Person Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Emergency Contact Relation"}),e.jsx("input",{type:"text",value:f.additionalInfo?.emergencyContactRelation||"",onChange:T=>j("emergencyContactRelation",T.target.value),placeholder:"Relation"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Emergency Contact Mobile"}),e.jsx("input",{type:"tel",value:f.additionalInfo?.emergencyContactMobile||"",onChange:T=>j("emergencyContactMobile",T.target.value),placeholder:"+91 98765 43210"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Alternate Phone"}),e.jsx("input",{type:"tel",value:f.additionalInfo?.alternatePhone||"",onChange:T=>j("alternatePhone",T.target.value),placeholder:"Alternate Number"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Emergency Contact Address"}),e.jsx("textarea",{value:f.additionalInfo?.emergencyContactAddress||"",onChange:T=>j("emergencyContactAddress",T.target.value),placeholder:"Full Address",rows:"2"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Social Media Profiles"}),e.jsx("input",{type:"text",value:f.additionalInfo?.socialMediaProfiles||"",onChange:T=>j("socialMediaProfiles",T.target.value),placeholder:"Links or handles"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Insurance Details"}),e.jsx("input",{type:"text",value:f.additionalInfo?.insuranceDetails||"",onChange:T=>j("insuranceDetails",T.target.value),placeholder:"Policy numbers"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Account Info"}),e.jsx("input",{type:"text",value:f.additionalInfo?.bankAccountInfo||"",onChange:T=>j("bankAccountInfo",T.target.value),placeholder:"Account details"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Special Notes"}),e.jsx("textarea",{value:f.additionalInfo?.specialNotes||"",onChange:T=>j("specialNotes",T.target.value),placeholder:"Any other important information",rows:"3"})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{className:"btn-secondary",onClick:E,children:[e.jsx(Ge,{})," Cancel"]}),e.jsxs("button",{className:"save-btn",onClick:O,children:[e.jsx(cs,{})," Save Member"]})]})]})]})]})})]})]})},CQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(!1),[i,o]=x.useState(!1),[u,h]=x.useState(null),[p,f]=x.useState({category:"",feature:"",subsection:"",dateOfTaskCreation:new Date().toISOString().slice(0,10),taskDetailsDescription:"",dateForUpdate:"",updates:"",notes:"",status:"pending",priority:"medium"}),d="family-tasks";x.useEffect(()=>{v()},[]);const v=async()=>{try{r(!0);const S=await ze.getAll("family-tasks");n(S.data||[])}catch(S){console.error("Error fetching tasks:",S)}finally{r(!1)}},y=async S=>{S.preventDefault();try{r(!0);const E={category:d,type:"Task",name:p.taskDetailsDescription||p.feature||"Untitled Task",provider:p.category||"General",...p};u?await ze.update(u,E):await ze.create("family-tasks",E),await v(),j(),o(!1)}catch(E){console.error("Error saving task:",E),alert("Error saving task. Please try again.")}finally{r(!1)}},C=S=>{f({category:S.category||"",feature:S.feature||"",subsection:S.subsection||"",dateOfTaskCreation:S.dateOfTaskCreation||new Date().toISOString().slice(0,10),taskDetailsDescription:S.taskDetailsDescription||"",dateForUpdate:S.dateForUpdate||"",updates:S.updates||"",notes:S.notes||"",status:S.status||"pending",priority:S.priority||"medium"}),h(S._id),o(!0)},N=async S=>{if(window.confirm("Are you sure you want to delete this task?"))try{await ze.delete(S),await v()}catch(E){console.error("Error deleting task:",E),alert("Error deleting task. Please try again.")}},j=()=>{f({category:"",feature:"",subsection:"",dateOfTaskCreation:new Date().toISOString().slice(0,10),taskDetailsDescription:"",dateForUpdate:"",updates:"",notes:"",status:"pending",priority:"medium"}),h(null)},w=S=>{switch(S){case"completed":return e.jsx(_m,{style:{color:"#10B981"}});case"in-progress":return e.jsx(lr,{style:{color:"#F59E0B"}});case"pending":return e.jsx(kh,{style:{color:"#EF4444"}});default:return e.jsx(kh,{style:{color:"#6B7280"}})}},O=S=>{switch(S){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}};return a&&t.length===0?e.jsx("div",{className:"static-container",children:e.jsx("div",{className:"loading",children:"Loading..."})}):e.jsxs("div",{className:"static-container",children:[e.jsxs("div",{className:"static-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(Va,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Tasks to Do"}),e.jsx("p",{children:"Manage and track all your family tasks and activities"})]})]}),e.jsxs("button",{className:"add-button",onClick:()=>{j(),o(!i)},children:[e.jsx(Oe,{})," ",i?"Cancel":"Add Task"]})]}),i&&e.jsxs("div",{className:"static-form-card",children:[e.jsx("h2",{children:u?"Edit Task":"Add New Task"}),e.jsxs("form",{className:"static-form",onSubmit:y,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category *"}),e.jsxs("select",{value:p.category,onChange:S=>f({...p,category:S.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select category..."}),e.jsx("option",{value:"Personal",children:"Personal"}),e.jsx("option",{value:"Family",children:"Family"}),e.jsx("option",{value:"Work",children:"Work"}),e.jsx("option",{value:"Health",children:"Health"}),e.jsx("option",{value:"Education",children:"Education"}),e.jsx("option",{value:"Finance",children:"Finance"}),e.jsx("option",{value:"Home",children:"Home"}),e.jsx("option",{value:"Shopping",children:"Shopping"}),e.jsx("option",{value:"Travel",children:"Travel"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Feature"}),e.jsx("input",{type:"text",value:p.feature,onChange:S=>f({...p,feature:S.target.value}),placeholder:"e.g., Website Development, Event Planning"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Subsection"}),e.jsx("input",{type:"text",value:p.subsection,onChange:S=>f({...p,subsection:S.target.value}),placeholder:"e.g., Frontend, Backend, Testing"})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date of Task Creation *"}),e.jsx("input",{type:"date",value:p.dateOfTaskCreation,onChange:S=>f({...p,dateOfTaskCreation:S.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date for Update"}),e.jsx("input",{type:"date",value:p.dateForUpdate,onChange:S=>f({...p,dateForUpdate:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status *"}),e.jsxs("select",{value:p.status,onChange:S=>f({...p,status:S.target.value}),required:!0,children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Priority *"}),e.jsxs("select",{value:p.priority,onChange:S=>f({...p,priority:S.target.value}),required:!0,children:[e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"low",children:"Low"})]})]})}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Task Details & Description *"}),e.jsx("textarea",{value:p.taskDetailsDescription,onChange:S=>f({...p,taskDetailsDescription:S.target.value}),placeholder:"Provide detailed description of the task...",rows:4,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Updates"}),e.jsx("textarea",{value:p.updates,onChange:S=>f({...p,updates:S.target.value}),placeholder:"Any updates or progress notes...",rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:p.notes,onChange:S=>f({...p,notes:S.target.value}),placeholder:"Additional notes or comments...",rows:3})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Saving...":u?"Update Task":"Create Task"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(!1),children:"Cancel"})]})]})]}),e.jsxs("div",{className:"static-table-card",children:[e.jsx("div",{className:"table-header",children:e.jsxs("h2",{children:["Tasks List (",t.length,")"]})}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"static-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Feature"}),e.jsx("th",{children:"Subsection"}),e.jsx("th",{children:"Date of Task Creation"}),e.jsx("th",{children:"Task Details & Description"}),e.jsx("th",{children:"Date for Update"}),e.jsx("th",{children:"Updates"}),e.jsx("th",{children:"Notes"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Priority"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"11",className:"no-data",children:'No tasks found. Click "Add Task" to get started.'})}):t.map(S=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{className:"category-badge",children:S.category||"N/A"})}),e.jsx("td",{children:S.feature||"-"}),e.jsx("td",{children:S.subsection||"-"}),e.jsx("td",{children:S.dateOfTaskCreation||"-"}),e.jsx("td",{children:e.jsx("div",{className:"task-details",children:S.taskDetailsDescription||"-"})}),e.jsx("td",{children:S.dateForUpdate||"-"}),e.jsx("td",{children:e.jsx("div",{className:"updates-text",children:S.updates?e.jsx("span",{title:S.updates,children:S.updates.length>50?`${S.updates.substring(0,50)}...`:S.updates}):"-"})}),e.jsx("td",{children:e.jsx("div",{className:"notes-text",children:S.notes?e.jsx("span",{title:S.notes,children:S.notes.length>30?`${S.notes.substring(0,30)}...`:S.notes}):"-"})}),e.jsx("td",{children:e.jsxs("div",{className:"status-cell",children:[w(S.status),e.jsx("span",{className:"status-text",children:S.status||"pending"})]})}),e.jsx("td",{children:e.jsx("span",{className:"priority-badge",style:{backgroundColor:O(S.priority)},children:S.priority||"medium"})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:"edit-btn",onClick:()=>C(S),title:"Edit Task",children:e.jsx(ct,{})}),e.jsx("button",{className:"delete-btn",onClick:()=>N(S._id),title:"Delete Task",children:e.jsx(Ze,{})})]})})]},S._id))})]})})]}),e.jsx("style",{children:`
        .static-container {
          padding: 20px;
          max-width: 100%;
          margin: 0 auto;
          background: #f8fafc;
          min-height: 100vh;
          overflow-x: hidden;
        }

        .static-header {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          padding: 30px;
          border-radius: 16px;
          margin-bottom: 30px;
          box-shadow: 0 10px 30px rgba(0,0,0,0.1);
          display: flex;
          justify-content: space-between;
          align-items: center;
        }

        .header-content {
          display: flex;
          align-items: center;
          gap: 20px;
        }

        .header-icon {
          background: rgba(255,255,255,0.2);
          padding: 15px;
          border-radius: 12px;
          font-size: 24px;
        }

        .header-text h1 {
          margin: 0 0 8px 0;
          font-size: 28px;
          font-weight: 700;
          color: white;
        }

        .header-text p {
          margin: 0;
          opacity: 0.9;
          font-size: 16px;
          color: white;
        }

        .add-button {
          background: rgba(255,255,255,0.2);
          color: white;
          border: 2px solid rgba(255,255,255,0.3);
          padding: 12px 24px;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          display: flex;
          align-items: center;
          gap: 8px;
          transition: all 0.3s ease;
        }

        .add-button:hover {
          background: rgba(255,255,255,0.3);
          transform: translateY(-2px);
        }

        .static-form-card {
          background: white;
          border-radius: 16px;
          padding: 30px;
          margin-bottom: 30px;
          box-shadow: 0 4px 20px rgba(0,0,0,0.08);
          border: 1px solid #e2e8f0;
        }

        .static-form-card h2 {
          margin: 0 0 25px 0;
          color: #1e293b;
          font-size: 22px;
          font-weight: 700;
          padding-bottom: 15px;
          border-bottom: 2px solid #f1f5f9;
        }

        .static-form {
          display: flex;
          flex-direction: column;
          gap: 20px;
        }

        .form-row {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
          gap: 20px;
        }

        .form-group {
          display: flex;
          flex-direction: column;
          gap: 8px;
        }

        .form-group label {
          font-weight: 600;
          color: #374151;
          font-size: 14px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
          padding: 12px 16px;
          border: 2px solid #e5e7eb;
          border-radius: 10px;
          font-size: 15px;
          transition: all 0.3s ease;
          background: #f9fafb;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
          outline: none;
          border-color: #667eea;
          background: white;
          box-shadow: 0 0 0 3px rgba(102,126,234,0.1);
        }

        .form-group textarea {
          resize: vertical;
          min-height: 100px;
        }

        .form-actions {
          display: flex;
          gap: 15px;
          margin-top: 10px;
        }

        .btn-primary {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          border: none;
          padding: 14px 28px;
          border-radius: 10px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .btn-primary:hover:not(:disabled) {
          transform: translateY(-2px);
          box-shadow: 0 8px 25px rgba(102,126,234,0.3);
        }

        .btn-primary:disabled {
          opacity: 0.6;
          cursor: not-allowed;
        }

        .btn-secondary {
          background: #f3f4f6;
          color: #374151;
          border: 2px solid #e5e7eb;
          padding: 14px 28px;
          border-radius: 10px;
          font-size: 16px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.3s ease;
        }

        .btn-secondary:hover {
          background: #e5e7eb;
          border-color: #d1d5db;
        }

        .static-table-card {
          background: white;
          border-radius: 16px;
          box-shadow: 0 4px 20px rgba(0,0,0,0.08);
          border: 1px solid #e2e8f0;
          overflow: hidden;
        }

        .table-header {
          background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
          padding: 25px 30px;
          border-bottom: 2px solid #e2e8f0;
        }

        .table-header h2 {
          margin: 0;
          color: #1e293b;
          font-size: 20px;
          font-weight: 700;
        }

        .table-container {
          overflow-x: auto;
          max-width: 100%;
          -webkit-overflow-scrolling: touch;
          max-height: 70vh;
        }

        .static-table {
          width: 100%;
          min-width: 1600px;
          border-collapse: collapse;
          table-layout: auto;
        }

        .static-table th {
          background: #f8fafc;
          padding: 16px 15px;
          text-align: left;
          font-weight: 700;
          color: #374151;
          font-size: 12px;
          text-transform: uppercase;
          letter-spacing: 0.3px;
          border-bottom: 2px solid #e2e8f0;
          white-space: nowrap;
          position: sticky;
          top: 0;
          z-index: 10;
          min-width: 120px;
        }

        .static-table td {
          padding: 16px 15px;
          border-bottom: 1px solid #f1f5f9;
          font-size: 14px;
          color: #4b5563;
          white-space: nowrap;
          overflow: hidden;
          text-overflow: ellipsis;
          min-width: 120px;
        }

        .static-table tbody tr:hover {
          background: #f8fafc;
          transform: scale(1.01);
        }

        .category-badge {
          background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
          color: #1e40af;
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: 600;
          display: inline-block;
          text-transform: capitalize;
          border: 1px solid #93c5fd;
        }

        .task-details {
          max-width: 250px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          font-weight: 500;
          color: #374151;
        }

        .updates-text, .notes-text {
          max-width: 150px;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          color: #6b7280;
          font-size: 13px;
        }

        .status-cell {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .status-text {
          font-size: 12px;
          text-transform: capitalize;
          font-weight: 600;
        }

        .priority-badge {
          color: white;
          padding: 4px 10px;
          border-radius: 16px;
          font-size: 11px;
          font-weight: 700;
          text-transform: capitalize;
          letter-spacing: 0.5px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }

        .action-buttons {
          display: flex;
          gap: 10px;
        }

        .edit-btn, .delete-btn {
          background: #f8fafc;
          border: 2px solid #e2e8f0;
          padding: 8px;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .edit-btn:hover {
          background: #dbeafe;
          border-color: #3b82f6;
          color: #3b82f6;
          transform: scale(1.1);
        }

        .delete-btn {
          background: #fee2e2;
          border: 2px solid #ef4444;
          color: #ef4444;
          padding: 8px;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.2s ease;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .delete-btn:hover {
          background: #fecaca;
          border-color: #dc2626;
          color: #dc2626;
          transform: scale(1.1);
        }

        .no-data {
          text-align: center;
          padding: 60px;
          color: #6b7280;
          font-size: 16px;
          background: #f8fafc;
        }

        .loading {
          text-align: center;
          padding: 40px;
          color: #6b7280;
          font-size: 18px;
        }

        @media (max-width: 768px) {
          .static-container {
            padding: 15px;
            overflow-x: hidden;
          }

          .static-header {
            flex-direction: column;
            gap: 20px;
            text-align: center;
          }

          .header-content {
            flex-direction: column;
            text-align: center;
          }

          .form-row {
            grid-template-columns: 1fr;
          }

          .table-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
          }

          .static-table {
            min-width: 800px;
            font-size: 12px;
          }

          .static-table th,
          .static-table td {
            padding: 10px 8px;
          }

          .task-details {
            max-width: 120px;
          }

          .updates-text, .notes-text {
            max-width: 60px;
          }
        }
      `})]})},c2={itemName:"",category:"Electronics",location:"",quantity:1,unit:"pcs",purchaseDate:"",purchasePrice:"",invoiceNumber:"",vendorName:"",serialNumber:"",warrantyExpiry:"",companyName:"",modelName:"",totalValue:"",vendorContactNumber:"",vendorContactEmail:"",address:"",serviceCenterNumber:"",customerCareNumber:"",customerCareEmail:"",serviceProviderName:"",serviceName:"",servicePersonName:"",serviceMobileNumber:"",serviceCompanyName:"",serviceAddress:"",serviceEmailId:"",serviceWebsite:"",notes:""},wQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(c2),[i,o]=x.useState(null),[u,h]=x.useState(null),[p,f]=x.useState(!1),d="static-inventory-record",v=S=>({category:d,type:S.category,name:S.itemName||"Inventory Item",provider:S.vendorName||"Vendor",amount:Number(S.purchasePrice)||0,startDate:S.purchaseDate||new Date().toISOString().slice(0,10),maturityDate:S.warrantyExpiry||void 0,notes:JSON.stringify({...S})}),y=S=>{let E={};try{E=S.notes?JSON.parse(S.notes):{}}catch{E={}}return{_id:S._id,...E}},C=async()=>{try{const E=((await De.getAll(d)).data.investments||[]).map(y);n(E)}catch(S){console.error("Error fetching inventory records:",S)}};x.useEffect(()=>{(async()=>{try{const E=((await De.getAll(d)).data.investments||[]).map(y);n(E)}catch(S){console.error("Error fetching inventory records:",S)}})()},[]),x.useEffect(()=>{const S=parseFloat(a.quantity)||0,E=parseFloat(a.purchasePrice)||0,T=S*E;r(k=>({...k,totalValue:T.toString()}))},[a.quantity,a.purchasePrice]);const N=()=>{r(c2),o(null),h(null)},j=async S=>{S.preventDefault();try{u?await De.update(u,v(a)):await De.create(v(a)),await Ao(a,"InventoryRecord"),await Pf(a,"InventoryRecord"),kf(a,"InventoryRecord"),await C(),N()}catch(E){alert(E.response?.data?.message||"Error saving inventory record")}},w=S=>{const E=t[S];r({...E}),o(S),h(E._id),f(!0)},O=async S=>{const E=t[S];if(window.confirm("Delete this record?"))try{await De.delete(E._id),await C()}catch(T){alert(T.response?.data?.message||"Error deleting record")}};return e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(kC,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Inventory Record"}),e.jsx("p",{children:"Track household and office inventory items"})]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-primary",onClick:()=>f(!p),children:p?"Lock Form":"Edit Form"}),e.jsxs("button",{className:"btn-success",onClick:()=>{N(),f(!0)},children:[e.jsx(Oe,{})," New Entry"]})]})]}),p&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Pi,{className:"section-icon"}),e.jsx("h3",{children:"Item Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Item Name"}),e.jsx("input",{type:"text",value:a.itemName,onChange:S=>r({...a,itemName:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:a.category,onChange:S=>r({...a,category:S.target.value}),children:[e.jsx("option",{children:"Electronics"}),e.jsx("option",{children:"Furniture"}),e.jsx("option",{children:"Appliances"}),e.jsx("option",{children:"Books"}),e.jsx("option",{children:"Clothing"}),e.jsx("option",{children:"Kitchen"}),e.jsx("option",{children:"Tools"}),e.jsx("option",{children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Quantity"}),e.jsx("input",{type:"number",value:a.quantity,onChange:S=>r({...a,quantity:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purchase Date"}),e.jsx("input",{type:"date",value:a.purchaseDate,onChange:S=>r({...a,purchaseDate:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purchase Price"}),e.jsx("input",{type:"number",value:a.purchasePrice,onChange:S=>r({...a,purchasePrice:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Invoice Number"}),e.jsx("input",{type:"text",value:a.invoiceNumber,onChange:S=>r({...a,invoiceNumber:S.target.value}),placeholder:"Invoice or bill number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vendor Name"}),e.jsx("input",{type:"text",value:a.vendorName,onChange:S=>r({...a,vendorName:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Company"}),e.jsx("input",{type:"text",value:a.companyName,onChange:S=>r({...a,companyName:S.target.value}),placeholder:"e.g., Samsung, LG, Apple"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Model Name"}),e.jsx("input",{type:"text",value:a.modelName,onChange:S=>r({...a,modelName:S.target.value}),placeholder:"e.g., Galaxy S23, iPhone 14"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Value (Auto-calculated)"}),e.jsx("input",{type:"number",value:a.totalValue,readOnly:!0,placeholder:"Total current value",style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vendor Contact Number"}),e.jsx("input",{type:"tel",value:a.vendorContactNumber,onChange:S=>r({...a,vendorContactNumber:S.target.value}),placeholder:"Vendor phone number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Vendor Contact Email"}),e.jsx("input",{type:"email",value:a.vendorContactEmail,onChange:S=>r({...a,vendorContactEmail:S.target.value}),placeholder:"Vendor email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address"}),e.jsx("input",{type:"text",value:a.address,onChange:S=>r({...a,address:S.target.value}),placeholder:"Vendor or service address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Center Number"}),e.jsx("input",{type:"tel",value:a.serviceCenterNumber,onChange:S=>r({...a,serviceCenterNumber:S.target.value}),placeholder:"Authorized service center"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Number"}),e.jsx("input",{type:"tel",value:a.customerCareNumber,onChange:S=>r({...a,customerCareNumber:S.target.value}),placeholder:"Company customer care"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Customer Care Email Id"}),e.jsx("input",{type:"email",value:a.customerCareEmail,onChange:S=>r({...a,customerCareEmail:S.target.value}),placeholder:"Customer support email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Serial Number"}),e.jsx("input",{type:"text",value:a.serialNumber,onChange:S=>r({...a,serialNumber:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Warranty Expiry"}),e.jsx("input",{type:"date",value:a.warrantyExpiry,onChange:S=>r({...a,warrantyExpiry:S.target.value})})]})]}),e.jsxs("div",{className:"form-section",style:{marginTop:"20px",padding:"15px",backgroundColor:"#f8fafc",borderRadius:"8px"},children:[e.jsx("h4",{style:{marginBottom:"15px",color:"#475569"},children:"Service Provider Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Service"}),e.jsx("input",{type:"text",value:a.serviceName,onChange:S=>r({...a,serviceName:S.target.value}),placeholder:"e.g., Installation, Repair, Maintenance"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Person"}),e.jsx("input",{type:"text",value:a.servicePersonName,onChange:S=>r({...a,servicePersonName:S.target.value}),placeholder:"Service provider contact person"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobile Number"}),e.jsx("input",{type:"tel",value:a.serviceMobileNumber,onChange:S=>r({...a,serviceMobileNumber:S.target.value}),placeholder:"Service provider mobile"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:a.serviceCompanyName,onChange:S=>r({...a,serviceCompanyName:S.target.value}),placeholder:"Service provider company"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address"}),e.jsx("input",{type:"text",value:a.serviceAddress,onChange:S=>r({...a,serviceAddress:S.target.value}),placeholder:"Service provider address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Id"}),e.jsx("input",{type:"email",value:a.serviceEmailId,onChange:S=>r({...a,serviceEmailId:S.target.value}),placeholder:"Service provider email"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{type:"url",value:a.serviceWebsite,onChange:S=>r({...a,serviceWebsite:S.target.value}),placeholder:"Service provider website"})]})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:a.notes,onChange:S=>r({...a,notes:S.target.value})})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{type:"submit",className:"btn-success",children:i!==null?"Update":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{N(),f(!1)},children:"Cancel"})]})]})})]}),t.length>0&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(kC,{className:"section-icon"}),e.jsx("h3",{children:"Saved Inventory"})]}),e.jsx("div",{className:"section-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Item"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Qty"}),e.jsx("th",{children:"Unit"}),e.jsx("th",{children:"Vendor"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map((S,E)=>e.jsxs("tr",{children:[e.jsx("td",{children:S.itemName}),e.jsx("td",{children:S.category}),e.jsx("td",{children:S.location}),e.jsx("td",{children:S.quantity}),e.jsx("td",{children:S.unit}),e.jsx("td",{children:S.vendorName}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>w(E),className:"btn-icon",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>O(E),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},E))})]})})})]})]})},u2={nameOfPerson:"",reference:"",serviceProviderOrProductSeller:"",profession:"",industry:"",category:"",primaryProducts:"",nameOfCompany:"",mobileNumber1:"",mobileNumber2:"",emailId:"",website:"",address:"",city:"",state:"",pinCode:"",serviceAreaLocation:"",notes:""},AQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(u2),[i,o]=x.useState(null),[u,h]=x.useState(null),[p,f]=x.useState(!1),d="static-contact-management",v=S=>({category:d,type:"Contact",name:S.name||"Contact",provider:S.company||S.relation||"Contact",amount:0,startDate:new Date().toISOString().slice(0,10),notes:JSON.stringify({...S})}),y=S=>{let E={};try{E=S.notes?JSON.parse(S.notes):{}}catch{E={}}return{_id:S._id,...E}},C=async()=>{try{const E=((await De.getAll(d)).data.investments||[]).map(y);n(E)}catch(S){console.error("Error fetching contacts:",S)}};x.useEffect(()=>{(async()=>{try{const E=((await De.getAll(d)).data.investments||[]).map(y);n(E)}catch(S){console.error("Error fetching contacts:",S)}})()},[]);const N=()=>{r(u2),o(null),h(null)},j=async S=>{S.preventDefault();try{u?await De.update(u,v(a)):await De.create(v(a)),await C(),N()}catch(E){alert(E.response?.data?.message||"Error saving contact")}},w=S=>{const E=t[S];r({...E}),o(S),h(E._id),f(!0)},O=async S=>{const E=t[S];if(window.confirm("Delete this contact?"))try{await De.delete(E._id),await C()}catch(T){alert(T.response?.data?.message||"Error deleting contact")}};return e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(Xr,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Contact Management"}),e.jsx("p",{children:"Maintain comprehensive contact details for family and associates"})]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{className:"btn-primary",onClick:()=>f(!p),children:p?"Lock Form":"Edit Form"}),e.jsxs("button",{className:"btn-success",onClick:()=>{N(),f(!0)},children:[e.jsx(Oe,{})," New Entry"]})]})]}),p&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Lm,{className:"section-icon"}),e.jsx("h3",{children:"Contact Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Person"}),e.jsx("input",{type:"text",value:a.nameOfPerson,onChange:S=>r({...a,nameOfPerson:S.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reference"}),e.jsx("input",{type:"text",value:a.reference,onChange:S=>r({...a,reference:S.target.value}),placeholder:"How you know this person"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Provider / Product Seller"}),e.jsx("input",{type:"text",value:a.serviceProviderOrProductSeller,onChange:S=>r({...a,serviceProviderOrProductSeller:S.target.value}),placeholder:"Service or product type"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Profession"}),e.jsx("input",{type:"text",value:a.profession,onChange:S=>r({...a,profession:S.target.value}),placeholder:"e.g., Engineer, Doctor, Consultant"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Industry"}),e.jsx("input",{type:"text",value:a.industry,onChange:S=>r({...a,industry:S.target.value}),placeholder:"e.g., IT, Healthcare, Education"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsx("input",{type:"text",value:a.category,onChange:S=>r({...a,category:S.target.value}),placeholder:"e.g., Vendor, Client, Partner"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Primary Products"}),e.jsx("input",{type:"text",value:a.primaryProducts,onChange:S=>r({...a,primaryProducts:S.target.value}),placeholder:"Main products or services"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name of Company"}),e.jsx("input",{type:"text",value:a.nameOfCompany,onChange:S=>r({...a,nameOfCompany:S.target.value}),placeholder:"Company or business name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobile Number"}),e.jsx("input",{type:"tel",value:a.mobileNumber1,onChange:S=>r({...a,mobileNumber1:S.target.value}),placeholder:"Primary mobile"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mobile Number"}),e.jsx("input",{type:"tel",value:a.mobileNumber2,onChange:S=>r({...a,mobileNumber2:S.target.value}),placeholder:"Secondary mobile"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Id"}),e.jsx("input",{type:"email",value:a.emailId,onChange:S=>r({...a,emailId:S.target.value}),placeholder:"Email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{type:"url",value:a.website,onChange:S=>r({...a,website:S.target.value}),placeholder:"Website URL"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Address"}),e.jsx("input",{type:"text",value:a.address,onChange:S=>r({...a,address:S.target.value}),placeholder:"Street address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City"}),e.jsx("input",{type:"text",value:a.city,onChange:S=>r({...a,city:S.target.value}),placeholder:"City name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State"}),e.jsx("input",{type:"text",value:a.state,onChange:S=>r({...a,state:S.target.value}),placeholder:"State name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pin Code"}),e.jsx("input",{type:"text",value:a.pinCode,onChange:S=>r({...a,pinCode:S.target.value}),placeholder:"Postal code"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Area Location"}),e.jsx("input",{type:"text",value:a.serviceAreaLocation,onChange:S=>r({...a,serviceAreaLocation:S.target.value}),placeholder:"Areas served"})]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsx("button",{type:"submit",className:"btn-success",children:i!==null?"Update":"Save"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{N(),f(!1)},children:"Cancel"})]})]})})]}),t.length>0&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Mh,{className:"section-icon"}),e.jsx("h3",{children:"Saved Contacts"})]}),e.jsx("div",{className:"section-content",children:e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name of Person"}),e.jsx("th",{children:"Profession"}),e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Mobile Number"}),e.jsx("th",{children:"Email Id"}),e.jsx("th",{children:"City"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map((S,E)=>e.jsxs("tr",{children:[e.jsx("td",{children:S.nameOfPerson}),e.jsx("td",{children:S.profession}),e.jsx("td",{children:S.nameOfCompany}),e.jsx("td",{children:S.mobileNumber1}),e.jsx("td",{children:S.emailId}),e.jsx("td",{children:S.city}),e.jsx("td",{children:S.category}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>w(E),className:"btn-icon",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>O(E),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},E))})]})})})]})]})},d2={projectName:"",purpose:"",projectType:"business",domain:{domainName:"",registrar:"",renewalDate:"",serviceProvider:"",adminId:"",adminPassword:"",nameservers:[],sslStatus:"active",sslExpiry:""},admin:{adminUrl:"",adminId:"",adminPassword:"",twoFactorEnabled:!1,backupCodes:"",recoveryEmail:""},hosting:{serverHosting:"shared",serverType:"",renewalDate:"",serviceProvider:"",userId:"",password:"",controlPanel:"",ftpHost:"",ftpUsername:"",ftpPassword:"",sshAccess:!1,sshKey:"",ipAddresses:[],serverLocation:""},github:{repoName:"",repoUrl:"",accessToken:"",deploymentBranch:"main",ciCdEnabled:!1,collaborators:[],repoVisibility:"private"},database:{type:"mongodb",host:"",port:"",databaseName:"",username:"",password:"",connectionUrl:"",backupEnabled:!0,backupFrequency:"daily",lastBackupDate:""},technology:{frontend:[],backend:[],frameworks:[],libraries:[],apis:[],versionControl:"git",packageManager:"npm"},documentation:{projectDocs:"",apiDocs:"",userManual:"",deploymentGuide:"",architectureDiagrams:"",changeLog:""},environment:{envFile:"",stagingUrl:"",productionUrl:"",testingUrl:"",developmentNotes:""},frontend:{landingPages:[],components:[],themes:[],assets:[],buildTools:[],bundler:"webpack"},backend:{apis:[],services:[],middleware:[],authentication:"jwt",rateLimiting:!0,corsEnabled:!0},security:{sslCertificate:!0,firewallEnabled:!0,monitoringEnabled:!0,analytics:"",errorTracking:"",uptimeMonitoring:"",securityHeaders:!0},maintenance:{lastUpdateDate:"",nextScheduledMaintenance:"",supportContact:"",emergencyContact:"",maintenanceWindow:"",downtimeHistory:[]},development:{developerName:"",developmentCost:"",developmentDuration:"",developmentDurationUnit:"months",totalMonths:""},monitoring:{monitoringProvider:"",monitoringCost:"",monitoringDuration:"",monitoringDurationUnit:"months",totalMonths:""},notes:"",tags:[],status:"active",priority:"medium"},EQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(d2),[i,o]=x.useState(null),[u,h]=x.useState(!1),[p,f]=x.useState(!1),[d,v]=x.useState(!1),[y,C]=x.useState("basic"),[N,j]=x.useState(["business","portfolio","blog","ecommerce","saas","education","healthcare","other"]),[w,O]=x.useState(""),[S,E]=x.useState(!1),[T,k]=x.useState(""),F=["shared","vps","dedicated","cloud","serverless"],P=["mongodb","mysql","postgresql","sqlite","firebase","supabase"],W=["react","vue","angular","svelte","nextjs","gatsby","vanilla"],R=["nodejs","express","django","flask","laravel","spring","rails"],U=["active","inactive","maintenance","development","archived"],J=["low","medium","high","critical"];x.useEffect(()=>{se()},[]);const se=async()=>{try{v(!0);const A=await ze.getDigitalAssets();console.log("Fetched websites from backend:",A.data),n(A.data||[])}catch(A){console.error("Error fetching websites:",A),n([])}finally{v(!1)}},X=()=>{r(d2),o(null),f(!1),C("basic")},le=async A=>{if(A.preventDefault(),!a.projectName.trim()){alert("Project Name is required");return}try{if(v(!0),console.log("Submitting form data:",a),i)await ze.updateDigitalAsset(i,a),await se(),z("Website updated successfully!");else{console.log("Creating new website with data:",a);const K=await ze.createDigitalAsset(a);console.log("Backend response:",K),await se(),z("Website added successfully!")}await Promise.all([Ao(a,"DigitalAssets"),Pf(a,"DigitalAssets"),_u(a,"DigitalAssets")]),X()}catch(K){console.error("Error saving website:",K),alert("Failed to save website record. Please try again.")}finally{v(!1)}},G=A=>{r(A),o(A._id),f(!0),h(!0)},M=async A=>{if(window.confirm("Are you sure you want to delete this website record?"))try{await ze.deleteDigitalAsset(A),n(K=>K.filter(xe=>xe._id!==A))}catch(K){console.error("Error deleting website:",K),alert("Failed to delete website record. Please try again.")}},B=(A,K,xe)=>{r(A?V=>({...V,[A]:{...V[A],[K]:xe}}):V=>({...V,[K]:xe}))},re=(A,K,xe)=>{r(V=>({...V,[A]:{...V[A],[K]:[...V[A]?.[K]||[],xe]}}))},Z=(A,K,xe)=>{r(V=>({...V,[A]:{...V[A],[K]:V[A]?.[K]?.filter((ee,me)=>me!==xe)||[]}}))},te=A=>{O(A),B(null,"projectType",A),A&&!N.includes(A.toLowerCase())&&j([...N,A.toLowerCase()])},_=A=>{navigator.clipboard.writeText(A)},z=A=>{k(A),E(!0),setTimeout(()=>{E(!1)},3e3)},L=A=>{const K=[A.projectName,A.projectType,A.status,A.priority,A.domain?.domainName,A.domain?.registrar,A.domain?.renewalDate,A.domain?.serviceProvider,A.hosting?.serverHosting,A.hosting?.renewalDate,A.hosting?.serviceProvider,A.admin?.adminUrl,A.admin?.adminId,A.admin?.recoveryEmail],xe=K.filter(V=>V!=null&&V!=="").length;return Math.round(xe/K.length*100)},$=[{id:"basic",name:"Basic Info",icon:ba},{id:"domain",name:"Domain",icon:ba},{id:"admin",name:"Admin",icon:Wr},{id:"hosting",name:"Hosting",icon:qs},{id:"github",name:"GitHub",icon:Cc},{id:"database",name:"Database",icon:Pi},{id:"technology",name:"Technology",icon:Fl},{id:"documentation",name:"Documentation",icon:Hl},{id:"environment",name:"Environment",icon:zc},{id:"frontend",name:"Frontend",icon:ex},{id:"backend",name:"Backend",icon:qs},{id:"security",name:"Security",icon:Hs},{id:"development",name:"Development",icon:Fl},{id:"monitoring",name:"Monitoring",icon:Hs}],q={basic:ba,domain:ba,admin:Wr,hosting:qs,github:Cc,database:Pi,technology:Fl,documentation:Hl,environment:zc,frontend:ex,backend:qs,security:Hs,development:Fl,monitoring:Hs};return d&&t.length===0?e.jsxs("div",{className:"static-page-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading website assets..."})]}):e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsxs("div",{className:"header-content",children:[e.jsx("div",{className:"header-icon",children:e.jsx(ba,{})}),e.jsxs("div",{className:"header-text",children:[e.jsx("h1",{children:"Digital Assets - Website Management"}),e.jsx("p",{children:"Manage all your websites, domains, and technical infrastructure"})]})]}),e.jsx("div",{className:"header-actions",children:p?e.jsxs("div",{className:"edit-actions",children:[e.jsx("button",{className:"btn-success",onClick:le,disabled:d,children:d?"Saving...":i?"Update":"Save"}),e.jsx("button",{className:"btn-secondary",onClick:X,children:"Cancel"})]}):e.jsxs("button",{className:"btn-primary",onClick:()=>f(!0),children:[e.jsx(Oe,{})," Add Website"]})})]}),e.jsx("div",{className:"static-content",children:p?e.jsxs("div",{className:"website-form",children:[e.jsx("div",{className:"form-navigation",children:e.jsx("div",{className:"nav-tabs",children:$.map(A=>e.jsxs("button",{className:`nav-tab ${y===A.id?"active":""}`,onClick:()=>C(A.id),children:[(()=>{const K=q[A.id];return K?e.jsx(K,{}):e.jsx(ba,{})})(),A.name]},A.id))})}),e.jsxs("form",{onSubmit:le,children:[e.jsxs("div",{className:"current-section-title",children:[e.jsx("div",{className:"section-title-icon",children:(()=>{const A=q[y];return A?e.jsx(A,{}):e.jsx(ba,{})})()}),e.jsx("h2",{children:$.find(A=>A.id===y)?.name||"Section"})]}),y==="basic"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ba,{className:"section-icon"}),e.jsx("h3",{children:"Basic Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Project Name"}),e.jsx("input",{type:"text",value:a.projectName,onChange:A=>B(null,"projectName",A.target.value),placeholder:"e.g., Tech Solutions Website",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Project Type"}),e.jsxs("select",{value:a.projectType,onChange:A=>te(A.target.value),onInput:A=>te(A.target.value),children:[e.jsx("option",{value:"",children:"Select or type..."}),N.map(A=>e.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A)),w&&!N.includes(w.toLowerCase())&&e.jsx("option",{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Purpose"}),e.jsx("textarea",{value:a.purpose,onChange:A=>B(null,"purpose",A.target.value),placeholder:"Describe the purpose and main functionality of this website",rows:3})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsx("select",{value:a.status,onChange:A=>B(null,"status",A.target.value),children:U.map(A=>e.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Priority"}),e.jsx("select",{value:a.priority,onChange:A=>B(null,"priority",A.target.value),children:J.map(A=>e.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A))})]})]})})]}),y==="domain"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ba,{className:"section-icon"}),e.jsx("h3",{children:"Domain Information"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Domain Name"}),e.jsx("input",{type:"text",value:a.domain?.domainName||"",onChange:A=>B("domain","domainName",A.target.value),placeholder:"example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Registrar"}),e.jsx("input",{type:"text",value:a.domain?.registrar||"",onChange:A=>B("domain","registrar",A.target.value),placeholder:"GoDaddy, Namecheap, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Renewal Date"}),e.jsx("input",{type:"date",value:a.domain?.renewalDate||"",onChange:A=>B("domain","renewalDate",A.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Provider"}),e.jsx("input",{type:"text",value:a.domain?.serviceProvider||"",onChange:A=>B("domain","serviceProvider",A.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Admin ID"}),e.jsx("input",{type:"text",value:a.domain?.adminId||"",onChange:A=>B("domain","adminId",A.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Admin Password"}),e.jsxs("div",{className:"password-input",children:[e.jsx("input",{type:"password",value:a.domain?.adminPassword||"",onChange:A=>B("domain","adminPassword",A.target.value),placeholder:"Enter password"}),e.jsx("button",{type:"button",className:"btn-icon",onClick:()=>_(a.domain?.adminPassword||""),children:e.jsx(Sc,{})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"SSL Status"}),e.jsxs("select",{value:a.domain?.sslStatus||"active",onChange:A=>B("domain","sslStatus",A.target.value),children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"expired",children:"Expired"}),e.jsx("option",{value:"none",children:"None"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"SSL Expiry"}),e.jsx("input",{type:"date",value:a.domain?.sslExpiry||"",onChange:A=>B("domain","sslExpiry",A.target.value)})]})]})})]}),y==="admin"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Wr,{className:"section-icon"}),e.jsx("h3",{children:"Admin Section"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Admin URL"}),e.jsx("input",{type:"url",value:a.admin?.adminUrl||"",onChange:A=>B("admin","adminUrl",A.target.value),placeholder:"https://example.com/admin"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Admin ID"}),e.jsx("input",{type:"text",value:a.admin?.adminId||"",onChange:A=>B("admin","adminId",A.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Admin Password"}),e.jsxs("div",{className:"password-input",children:[e.jsx("input",{type:"password",value:a.admin?.adminPassword||"",onChange:A=>B("admin","adminPassword",A.target.value)}),e.jsx("button",{type:"button",className:"btn-icon",onClick:()=>_(a.admin?.adminPassword||""),children:e.jsx(Sc,{})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Recovery Email"}),e.jsx("input",{type:"email",value:a.admin?.recoveryEmail||"",onChange:A=>B("admin","recoveryEmail",A.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Two-Factor Authentication"}),e.jsxs("select",{value:a.admin?.twoFactorEnabled?"enabled":"disabled",onChange:A=>B("admin","twoFactorEnabled",A.target.value==="enabled"),children:[e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"enabled",children:"Enabled"})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Backup Codes"}),e.jsx("textarea",{value:a.admin?.backupCodes||"",onChange:A=>B("admin","backupCodes",A.target.value),placeholder:"Store 2FA backup codes here (comma separated)",rows:3})]})]})})]}),y==="hosting"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(qs,{className:"section-icon"}),e.jsx("h3",{children:"Hosting Server"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Server Hosting"}),e.jsx("select",{value:a.hosting?.serverHosting||"shared",onChange:A=>B("hosting","serverHosting",A.target.value),children:F.map(A=>e.jsx("option",{value:A,children:A.charAt(0).toUpperCase()+A.slice(1)},A))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Server Type"}),e.jsx("input",{type:"text",value:a.hosting?.serverType||"",onChange:A=>B("hosting","serverType",A.target.value),placeholder:"e.g., Apache, Nginx, IIS"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Renewal Date"}),e.jsx("input",{type:"date",value:a.hosting?.renewalDate||"",onChange:A=>B("hosting","renewalDate",A.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Provider"}),e.jsx("input",{type:"text",value:a.hosting?.serviceProvider||"",onChange:A=>B("hosting","serviceProvider",A.target.value),placeholder:"DigitalOcean, AWS, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User ID"}),e.jsx("input",{type:"text",value:a.hosting?.userId||"",onChange:A=>B("hosting","userId",A.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsxs("div",{className:"password-input",children:[e.jsx("input",{type:"password",value:a.hosting?.password||"",onChange:A=>B("hosting","password",A.target.value)}),e.jsx("button",{type:"button",className:"btn-icon",onClick:()=>_(a.hosting?.password||""),children:e.jsx(Sc,{})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Control Panel"}),e.jsx("input",{type:"text",value:a.hosting?.controlPanel||"",onChange:A=>B("hosting","controlPanel",A.target.value),placeholder:"cPanel, Plesk, Custom"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Server Location"}),e.jsx("input",{type:"text",value:a.hosting?.serverLocation||"",onChange:A=>B("hosting","serverLocation",A.target.value),placeholder:"Mumbai, US East, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"SSH Access"}),e.jsxs("select",{value:a.hosting?.sshAccess?"enabled":"disabled",onChange:A=>B("hosting","sshAccess",A.target.value==="enabled"),children:[e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"enabled",children:"Enabled"})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"SSH Key"}),e.jsx("textarea",{value:a.hosting?.sshKey||"",onChange:A=>B("hosting","sshKey",A.target.value),placeholder:"Paste SSH private key here",rows:4})]})]})})]}),y==="github"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Cc,{className:"section-icon"}),e.jsx("h3",{children:"GitHub Details"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Repository Name"}),e.jsx("input",{type:"text",value:a.github?.repoName||"",onChange:A=>B("github","repoName",A.target.value),placeholder:"username/repository"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Repository URL"}),e.jsx("input",{type:"url",value:a.github?.repoUrl||"",onChange:A=>B("github","repoUrl",A.target.value),placeholder:"https://github.com/username/repository"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Deployment Branch"}),e.jsx("input",{type:"text",value:a.github?.deploymentBranch||"",onChange:A=>B("github","deploymentBranch",A.target.value),placeholder:"main, master, develop"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Repository Visibility"}),e.jsxs("select",{value:a.github?.repoVisibility||"private",onChange:A=>B("github","repoVisibility",A.target.value),children:[e.jsx("option",{value:"private",children:"Private"}),e.jsx("option",{value:"public",children:"Public"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CI/CD Enabled"}),e.jsxs("select",{value:a.github?.ciCdEnabled?"enabled":"disabled",onChange:A=>B("github","ciCdEnabled",A.target.value==="enabled"),children:[e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"enabled",children:"Enabled"})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Access Token"}),e.jsxs("div",{className:"password-input",children:[e.jsx("input",{type:"password",value:a.github?.accessToken||"",onChange:A=>B("github","accessToken",A.target.value),placeholder:"GitHub Personal Access Token"}),e.jsx("button",{type:"button",className:"btn-icon",onClick:()=>_(a.github?.accessToken||""),children:e.jsx(Sc,{})})]})]})]})})]}),y==="database"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Pi,{className:"section-icon"}),e.jsx("h3",{children:"Database Configuration"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Database Type"}),e.jsx("select",{value:a.database?.type||"mongodb",onChange:A=>B("database","type",A.target.value),children:P.map(A=>e.jsx("option",{value:A,children:A.toUpperCase()},A))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Host"}),e.jsx("input",{type:"text",value:a.database?.host||"",onChange:A=>B("database","host",A.target.value),placeholder:"localhost, mongodb://..."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Port"}),e.jsx("input",{type:"text",value:a.database?.port||"",onChange:A=>B("database","port",A.target.value),placeholder:"27017, 3306, 5432"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Database Name"}),e.jsx("input",{type:"text",value:a.database?.databaseName||"",onChange:A=>B("database","databaseName",A.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:a.database?.username||"",onChange:A=>B("database","username",A.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Password"}),e.jsxs("div",{className:"password-input",children:[e.jsx("input",{type:"password",value:a.database?.password||"",onChange:A=>B("database","password",A.target.value)}),e.jsx("button",{type:"button",className:"btn-icon",onClick:()=>_(a.database?.password||""),children:e.jsx(Sc,{})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Backup Enabled"}),e.jsxs("select",{value:a.database?.backupEnabled?"enabled":"disabled",onChange:A=>B("database","backupEnabled",A.target.value==="enabled"),children:[e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"enabled",children:"Enabled"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Backup Frequency"}),e.jsxs("select",{value:a.database?.backupFrequency||"daily",onChange:A=>B("database","backupFrequency",A.target.value),children:[e.jsx("option",{value:"hourly",children:"Hourly"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Connection URL"}),e.jsx("input",{type:"text",value:a.database?.connectionUrl||"",onChange:A=>B("database","connectionUrl",A.target.value),placeholder:"mongodb://username:password@host:port/database"})]})]})})]}),y==="technology"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Fl,{className:"section-icon"}),e.jsx("h3",{children:"Technology Stack"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frontend Technologies"}),e.jsx("div",{className:"tech-tags",children:W.map(A=>e.jsxs("label",{className:"tech-checkbox",children:[e.jsx("input",{type:"checkbox",checked:a.technology?.frontend?.includes(A)||!1,onChange:K=>{K.target.checked?re("technology","frontend",A):Z("technology","frontend",a.technology?.frontend?.indexOf(A)||-1)}}),A]},A))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Backend Technologies"}),e.jsx("div",{className:"tech-tags",children:R.map(A=>e.jsxs("label",{className:"tech-checkbox",children:[e.jsx("input",{type:"checkbox",checked:a.technology?.backend?.includes(A)||!1,onChange:K=>{K.target.checked?re("technology","backend",A):Z("technology","backend",a.technology?.backend?.indexOf(A)||-1)}}),A]},A))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Package Manager"}),e.jsxs("select",{value:a.technology?.packageManager||"npm",onChange:A=>B("technology","packageManager",A.target.value),children:[e.jsx("option",{value:"npm",children:"NPM"}),e.jsx("option",{value:"yarn",children:"Yarn"}),e.jsx("option",{value:"pnpm",children:"PNPM"}),e.jsx("option",{value:"composer",children:"Composer"}),e.jsx("option",{value:"pip",children:"PIP"})]})]})]})})]}),y==="documentation"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Hl,{className:"section-icon"}),e.jsx("h3",{children:"Project Documentation"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Project Documentation"}),e.jsx("input",{type:"url",value:a.documentation?.projectDocs||"",onChange:A=>B("documentation","projectDocs",A.target.value),placeholder:"Link to project documentation"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"API Documentation"}),e.jsx("input",{type:"url",value:a.documentation?.apiDocs||"",onChange:A=>B("documentation","apiDocs",A.target.value),placeholder:"Link to API docs (Swagger, Postman, etc.)"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"User Manual"}),e.jsx("input",{type:"url",value:a.documentation?.userManual||"",onChange:A=>B("documentation","userManual",A.target.value),placeholder:"Link to user manual"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Deployment Guide"}),e.jsx("input",{type:"url",value:a.documentation?.deploymentGuide||"",onChange:A=>B("documentation","deploymentGuide",A.target.value),placeholder:"Link to deployment guide"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Architecture Diagrams"}),e.jsx("input",{type:"url",value:a.documentation?.architectureDiagrams||"",onChange:A=>B("documentation","architectureDiagrams",A.target.value),placeholder:"Link to architecture diagrams"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Change Log"}),e.jsx("input",{type:"url",value:a.documentation?.changeLog||"",onChange:A=>B("documentation","changeLog",A.target.value),placeholder:"Link to change log"})]})]})})]}),y==="environment"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(zc,{className:"section-icon"}),e.jsx("h3",{children:"Environment & Configuration"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:".env File Location"}),e.jsx("input",{type:"text",value:a.environment?.envFile||"",onChange:A=>B("environment","envFile",A.target.value),placeholder:"Path to .env file"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Staging URL"}),e.jsx("input",{type:"url",value:a.environment?.stagingUrl||"",onChange:A=>B("environment","stagingUrl",A.target.value),placeholder:"https://staging.example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Production URL"}),e.jsx("input",{type:"url",value:a.environment?.productionUrl||"",onChange:A=>B("environment","productionUrl",A.target.value),placeholder:"https://example.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Testing URL"}),e.jsx("input",{type:"url",value:a.environment?.testingUrl||"",onChange:A=>B("environment","testingUrl",A.target.value),placeholder:"https://test.example.com"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Development Notes"}),e.jsx("textarea",{value:a.environment?.developmentNotes||"",onChange:A=>B("environment","developmentNotes",A.target.value),placeholder:"Any development-specific notes or instructions",rows:3})]})]})})]}),y==="frontend"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(ex,{className:"section-icon"}),e.jsx("h3",{children:"Frontend Details"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bundler"}),e.jsxs("select",{value:a.frontend?.bundler||"webpack",onChange:A=>B("frontend","bundler",A.target.value),children:[e.jsx("option",{value:"webpack",children:"Webpack"}),e.jsx("option",{value:"vite",children:"Vite"}),e.jsx("option",{value:"rollup",children:"Rollup"}),e.jsx("option",{value:"parcel",children:"Parcel"}),e.jsx("option",{value:"esbuild",children:"ESBuild"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Build Tools"}),e.jsx("input",{type:"text",value:a.frontend?.buildTools?.join(", ")||"",onChange:A=>B("frontend","buildTools",A.target.value.split(", ").filter(Boolean)),placeholder:"Babel, PostCSS, Sass, etc."})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Landing Pages"}),e.jsx("textarea",{value:a.frontend?.landingPages?.join(`
`)||"",onChange:A=>B("frontend","landingPages",A.target.value.split(`
`).filter(Boolean)),placeholder:"List landing pages (one per line)",rows:3})]})]})})]}),y==="backend"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(qs,{className:"section-icon"}),e.jsx("h3",{children:"Backend Services"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Authentication Method"}),e.jsxs("select",{value:a.backend?.authentication||"jwt",onChange:A=>B("backend","authentication",A.target.value),children:[e.jsx("option",{value:"jwt",children:"JWT"}),e.jsx("option",{value:"session",children:"Session"}),e.jsx("option",{value:"oauth",children:"OAuth"}),e.jsx("option",{value:"basic",children:"Basic Auth"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Rate Limiting"}),e.jsxs("select",{value:a.backend?.rateLimiting?"enabled":"disabled",onChange:A=>B("backend","rateLimiting",A.target.value==="enabled"),children:[e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"enabled",children:"Enabled"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CORS Enabled"}),e.jsxs("select",{value:a.backend?.corsEnabled?"enabled":"disabled",onChange:A=>B("backend","corsEnabled",A.target.value==="enabled"),children:[e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"enabled",children:"Enabled"})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"APIs"}),e.jsx("textarea",{value:a.backend?.apis?.join(`
`)||"",onChange:A=>B("backend","apis",A.target.value.split(`
`).filter(Boolean)),placeholder:"List API endpoints or services (one per line)",rows:3})]})]})})]}),y==="security"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Hs,{className:"section-icon"}),e.jsx("h3",{children:"Security & Monitoring"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"SSL Certificate"}),e.jsxs("select",{value:a.security?.sslCertificate?"enabled":"disabled",onChange:A=>B("security","sslCertificate",A.target.value==="enabled"),children:[e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"enabled",children:"Enabled"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Firewall Enabled"}),e.jsxs("select",{value:a.security?.firewallEnabled?"enabled":"disabled",onChange:A=>B("security","firewallEnabled",A.target.value==="enabled"),children:[e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"enabled",children:"Enabled"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Monitoring Enabled"}),e.jsxs("select",{value:a.security?.monitoringEnabled?"enabled":"disabled",onChange:A=>B("security","monitoringEnabled",A.target.value==="enabled"),children:[e.jsx("option",{value:"disabled",children:"Disabled"}),e.jsx("option",{value:"enabled",children:"Enabled"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Analytics Service"}),e.jsx("input",{type:"text",value:a.security?.analytics||"",onChange:A=>B("security","analytics",A.target.value),placeholder:"Google Analytics, Mixpanel, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Error Tracking"}),e.jsx("input",{type:"text",value:a.security?.errorTracking||"",onChange:A=>B("security","errorTracking",A.target.value),placeholder:"Sentry, Bugsnag, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Uptime Monitoring"}),e.jsx("input",{type:"text",value:a.security?.uptimeMonitoring||"",onChange:A=>B("security","uptimeMonitoring",A.target.value),placeholder:"UptimeRobot, Pingdom, etc."})]})]})})]}),y==="development"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Fl,{className:"section-icon"}),e.jsx("h3",{children:"Development Details"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Developer Name"}),e.jsx("input",{type:"text",value:a.development?.developerName||"",onChange:A=>B("development","developerName",A.target.value),placeholder:"Developer/Company Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Development Cost ()"}),e.jsx("input",{type:"number",value:a.development?.developmentCost||"",onChange:A=>B("development","developmentCost",A.target.value),placeholder:"Total development cost"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Development Duration"}),e.jsxs("div",{className:"duration-input",children:[e.jsx("input",{type:"number",value:a.development?.developmentDuration||"",onChange:A=>B("development","developmentDuration",A.target.value),placeholder:"e.g. 3"}),e.jsxs("select",{value:a.development?.developmentDurationUnit||"months",onChange:A=>B("development","developmentDurationUnit",A.target.value),children:[e.jsx("option",{value:"days",children:"Days"}),e.jsx("option",{value:"weeks",children:"Weeks"}),e.jsx("option",{value:"months",children:"Months"}),e.jsx("option",{value:"years",children:"Years"})]})]})]})]})})]}),y==="monitoring"&&e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Hs,{className:"section-icon"}),e.jsx("h3",{children:"Monitoring Details"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Monitoring Provider"}),e.jsx("input",{type:"text",value:a.monitoring?.monitoringProvider||"",onChange:A=>B("monitoring","monitoringProvider",A.target.value),placeholder:"e.g., UptimeRobot, Pingdom"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Monthly Cost ()"}),e.jsx("input",{type:"number",value:a.monitoring?.monitoringCost||"",onChange:A=>B("monitoring","monitoringCost",A.target.value),placeholder:"Monthly monitoring cost"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Billing Cycle"}),e.jsxs("select",{value:a.monitoring?.monitoringDurationUnit||"months",onChange:A=>B("monitoring","monitoringDurationUnit",A.target.value),children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]})]})})]}),e.jsxs("div",{className:"static-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx(Hl,{className:"section-icon"}),e.jsx("h3",{children:"Additional Notes"})]}),e.jsx("div",{className:"section-content",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:a.notes,onChange:A=>B(null,"notes",A.target.value),placeholder:"Any additional information, reminders, or important details about this website",rows:4})]})})]}),e.jsxs("div",{className:"security-warning",children:[e.jsx(kh,{className:"warning-icon"}),e.jsxs("div",{className:"warning-content",children:[e.jsx("h4",{children:"Security Notice"}),e.jsx("p",{children:"This system stores sensitive credentials. Ensure your device is secure and consider using a password manager for critical credentials."})]})]})]})]}):e.jsx("div",{className:"websites-list",children:t.length===0?e.jsx("div",{className:"empty-state-creative",children:e.jsxs("div",{className:"empty-content",children:[e.jsx("div",{className:"empty-illustration",children:e.jsxs("div",{className:"globe-container",children:[e.jsx(ba,{className:"main-globe"}),e.jsxs("div",{className:"orbit-orbit",children:[e.jsx(qs,{className:"orbit-item orbit-1"}),e.jsx(Pi,{className:"orbit-item orbit-2"}),e.jsx(Cc,{className:"orbit-item orbit-3"})]})]})}),e.jsxs("div",{className:"empty-text",children:[e.jsx("h2",{children:"Ready to Launch Your Digital Empire?"}),e.jsx("p",{children:"Start managing your websites, domains, and technical infrastructure all in one place"}),e.jsxs("div",{className:"feature-highlights",children:[e.jsxs("div",{className:"feature-item",children:[e.jsx(ba,{}),e.jsx("span",{children:"Domain Management"})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx(qs,{}),e.jsx("span",{children:"Hosting Control"})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx(Pi,{}),e.jsx("span",{children:"Database Config"})]}),e.jsxs("div",{className:"feature-item",children:[e.jsx(Cc,{}),e.jsx("span",{children:"Git Integration"})]})]}),e.jsxs("button",{className:"btn-primary btn-large",onClick:()=>f(!0),children:[e.jsx(Oe,{})," Add Your First Website"]})]})]})}):e.jsx("div",{className:"websites-table-container",children:e.jsxs("table",{className:"websites-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Domain Name"}),e.jsx("th",{children:"Domain Provider"}),e.jsx("th",{children:"Domain Renewal"}),e.jsx("th",{children:"Server Hosting"}),e.jsx("th",{children:"Service Provider"}),e.jsx("th",{children:"Hosting Renewal Dates"}),e.jsx("th",{children:"Completion %"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(A=>{const K=L(A);return e.jsxs("tr",{children:[e.jsx("td",{children:A.domain?.domainName||"N/A"}),e.jsx("td",{children:A.domain?.registrar||"N/A"}),e.jsx("td",{children:A.domain?.renewalDate?new Date(A.domain.renewalDate).toLocaleDateString():"N/A"}),e.jsx("td",{children:A.hosting?.serverHosting||"N/A"}),e.jsx("td",{children:A.hosting?.serviceProvider||"N/A"}),e.jsx("td",{children:A.hosting?.renewalDate?new Date(A.hosting.renewalDate).toLocaleDateString():"N/A"}),e.jsx("td",{children:e.jsxs("div",{className:"completion-percentage",children:[e.jsx("div",{className:`completion-bar ${K===100?"complete":K>=50?"partial":"low"}`,children:e.jsx("div",{className:"completion-fill",style:{width:`${K}%`}})}),e.jsxs("span",{className:"completion-text",children:[K,"%"]})]})}),e.jsxs("td",{className:"table-actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>G(A),children:e.jsx(ct,{})}),e.jsx("button",{className:"btn-delete",onClick:()=>M(A._id),children:e.jsx(Ze,{})})]})]},A._id)})})]})})})}),S&&e.jsxs("div",{className:"success-popup",children:[e.jsx("div",{className:"success-popup-icon",children:e.jsx(_m,{})}),e.jsx("div",{className:"success-popup-message",children:T}),e.jsx("button",{className:"success-popup-close",onClick:()=>E(!1),children:""})]})]})},h2={type:"Customer Service",companyName:"",serviceCategory:"Technical Support",contactPerson:"",phone:"",email:"",website:"",supportHours:"",notes:""},DQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(!1),[i,o]=x.useState(!1),[u,h]=x.useState(h2),[p,f]=x.useState(null),[d,v]=x.useState(null);x.useEffect(()=>{y()},[]);const y=async()=>{try{const S=await ze.getCustomerSupport();n(S.data||[])}catch(S){console.error("Error fetching customer support:",S)}},C=()=>{h(h2),f(null),v(null)},N=async S=>{S.preventDefault();try{d?await ze.updateCustomerSupport(d,u):await ze.createCustomerSupport(u),await y(),C(),r(!1)}catch(E){alert(E.response?.data?.message||"Error saving record")}},j=S=>{const E=t[S];h({...E}),f(S),v(E._id),r(!0)},w=async S=>{const E=t[S];if(window.confirm("Delete this support record?"))try{await ze.deleteCustomerSupport(E._id),await y()}catch(T){alert(T.response?.data?.message||"Error deleting record")}},O=(S,E)=>{h(T=>({...T,[S]:E}))};return i&&t.length===0?e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsx(FiHeadset,{className:"section-icon"}),e.jsx("h2",{children:"Customer Support"}),e.jsx("p",{children:"Manage customer service and support contacts"})]}),e.jsx("div",{className:"loading",children:"Loading..."})]}):e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsx(Wr,{className:"section-icon"}),e.jsx("h2",{children:"Customer Support"}),e.jsx("p",{children:"Manage customer service and support contacts"})]}),e.jsx("div",{className:"static-content",children:a?e.jsxs("div",{className:"static-form",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h3",{children:d?"Edit Support Record":"Add Support Record"}),e.jsxs("button",{className:"btn-secondary",onClick:()=>{r(!1),C()},children:[e.jsx(Ge,{})," Cancel"]})]}),e.jsxs("form",{onSubmit:N,className:"static-form-content",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Service Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Type"}),e.jsxs("select",{value:u.type,onChange:S=>O("type",S.target.value),required:!0,children:[e.jsx("option",{value:"Customer Service",children:"Customer Service"}),e.jsx("option",{value:"Technical Support",children:"Technical Support"}),e.jsx("option",{value:"Billing Support",children:"Billing Support"}),e.jsx("option",{value:"Product Support",children:"Product Support"}),e.jsx("option",{value:"Emergency Support",children:"Emergency Support"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Company Name"}),e.jsx("input",{type:"text",value:u.companyName,onChange:S=>O("companyName",S.target.value),placeholder:"e.g., Internet Service Provider"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Service Category"}),e.jsxs("select",{value:u.serviceCategory,onChange:S=>O("serviceCategory",S.target.value),required:!0,children:[e.jsx("option",{value:"Technical Support",children:"Technical Support"}),e.jsx("option",{value:"Billing Support",children:"Billing Support"}),e.jsx("option",{value:"Account Support",children:"Account Support"}),e.jsx("option",{value:"Product Support",children:"Product Support"}),e.jsx("option",{value:"Emergency Support",children:"Emergency Support"}),e.jsx("option",{value:"General Inquiry",children:"General Inquiry"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Contact Person"}),e.jsx("input",{type:"text",value:u.contactPerson,onChange:S=>O("contactPerson",S.target.value),placeholder:"Name of contact person"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Contact Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone Number"}),e.jsx("input",{type:"tel",value:u.phone,onChange:S=>O("phone",S.target.value),placeholder:"+91 12345 67890"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email Address"}),e.jsx("input",{type:"email",value:u.email,onChange:S=>O("email",S.target.value),placeholder:"support@company.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{type:"url",value:u.website,onChange:S=>O("website",S.target.value),placeholder:"https://company.com/support"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Support Hours"}),e.jsx("input",{type:"text",value:u.supportHours,onChange:S=>O("supportHours",S.target.value),placeholder:"e.g., 9:00 AM - 6:00 PM, Mon-Fri"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Additional Notes"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Additional Notes"}),e.jsx("textarea",{value:u.notes,onChange:S=>O("notes",S.target.value),placeholder:"Any additional notes or follow-up actions...",rows:3})]})})]}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{type:"button",className:"btn-secondary",onClick:()=>{r(!1),C()},children:[e.jsx(Ge,{})," Cancel"]}),e.jsxs("button",{type:"submit",className:"btn-success",children:[e.jsx(ct,{})," ",d?"Update Record":"Save Record"]})]})]})]}):e.jsx("div",{className:"entries-list",children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:e.jsx(Wr,{})}),e.jsx("h3",{children:"No Support Records"}),e.jsx("p",{children:"Start adding your customer service contacts"}),e.jsxs("button",{className:"btn-primary",onClick:()=>r(!0),children:[e.jsx(Oe,{})," Add First Support Record"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"list-header",children:[e.jsxs("h3",{children:["Support Contacts (",t.length,")"]}),e.jsxs("button",{className:"btn-primary",onClick:()=>r(!0),children:[e.jsx(Oe,{})," Add Support Record"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"companies-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company"}),e.jsx("th",{children:"Service Type"}),e.jsx("th",{children:"Contact Person"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map((S,E)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"company-cell",children:[e.jsx(Wr,{className:"company-icon"}),e.jsx("span",{children:S.companyName||"N/A"})]})}),e.jsx("td",{children:S.serviceCategory}),e.jsx("td",{children:S.contactPerson||"N/A"}),e.jsx("td",{children:S.phone||"N/A"}),e.jsx("td",{children:S.email||"N/A"}),e.jsx("td",{children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>j(E),children:e.jsx(ct,{})}),e.jsx("button",{className:"btn-delete",onClick:()=>w(E),children:e.jsx(Ze,{})})]})})]},S._id))})]})})]})})})]})},vh={propertyType:"Agricultural",surveyNumber:"",area:"",areaUnit:"Acres",location:{village:"",tehsil:"",district:"",state:"",pincode:""},cropName:"",khataNumber:"",projectAffected:"",online7_12:"",form8A:"",map:"",ownershipType:"Individual",owners:[{name:"",sharePercentage:"",relation:""}],purchaseDate:"",purchasePrice:"",currentMarketValue:"",landUse:"Cultivation",irrigationSource:"Well",soilType:"Black Soil",boundaries:{north:"",south:"",east:"",west:""},documents:{titleDeed:"",saleDeed:"",originalSaleDeed:"",mutationCertificate:"",landRecords:"",taxReceipts:"",loanMortgage:"",electricMeter:""},legalStatus:"Clear",disputes:"",developmentStatus:"Undeveloped",notes:""},OQ={propertyType:"Residential Plot",surveyNumber:"",area:"",areaUnit:"Sq Yards",location:{village:"",tehsil:"",district:"",state:"",pincode:""},cropName:"",khataNumber:"",projectAffected:"",online7_12:"",form8A:"",map:"",ownershipType:"Individual",owners:[{name:"",sharePercentage:"",relation:""}],purchaseDate:"",purchasePrice:"",currentMarketValue:"",landUse:"Residential",irrigationSource:"",soilType:"",boundaries:{north:"",south:"",east:"",west:""},documents:{titleDeed:"",saleDeed:"",originalSaleDeed:"",mutationCertificate:"",landRecords:"",taxReceipts:"",loanMortgage:"",electricMeter:""},legalStatus:"Clear",disputes:"",developmentStatus:"Undeveloped",notes:""},PQ={propertyType:"Apartment/Flat",surveyNumber:"",area:"",areaUnit:"Sq Feet",floorNumber:"",totalFloors:"",wing:"",societyName:"",location:{village:"",tehsil:"",district:"",state:"",pincode:""},cropName:"",khataNumber:"",projectAffected:"",online7_12:"",form8A:"",map:"",ownershipType:"Individual",owners:[{name:"",sharePercentage:"",relation:""}],purchaseDate:"",purchasePrice:"",currentMarketValue:"",landUse:"Residential",irrigationSource:"",soilType:"",boundaries:{north:"",south:"",east:"",west:""},documents:{titleDeed:"",saleDeed:"",mutationCertificate:"",landRecords:"",taxReceipts:""},legalStatus:"Clear",disputes:"",developmentStatus:"Constructed",notes:""},kQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(!1),[i,o]=x.useState(!1),[u,h]=x.useState(vh),[p,f]=x.useState(null),[d,v]=x.useState(null),y=()=>{if(d)return"Edit Property Record";switch(a){case"land":return"Add Land Record";case"plot":return"Add Plot Record";case"flat":return"Add Flat Record";default:return"Add Property Record"}};x.useEffect(()=>{C()},[]),x.useEffect(()=>{if(a)switch(a){case"land":h(vh);break;case"plot":h(OQ);break;case"flat":h(PQ);break;default:h(vh)}},[a]);const C=async()=>{try{const P=await ze.getLandRecords();n(P.data||[])}catch(P){console.error("Error fetching land records:",P)}},N=()=>{h(vh),f(null),v(null)},j=async P=>{P.preventDefault();try{d?await ze.updateLandRecord(d,u):await ze.createLandRecord(u),await C(),N(),r(!1)}catch(W){alert(W.response?.data?.message||"Error saving record")}},w=P=>{const W=t[P];h({...W}),f(P),v(W._id),r(W.propertyType?.toLowerCase().includes("flat")?"flat":W.propertyType?.toLowerCase().includes("plot")?"plot":"land")},O=async P=>{const W=t[P];if(window.confirm("Delete this land record?"))try{await ze.deleteLandRecord(W._id),await C()}catch(R){alert(R.response?.data?.message||"Error deleting record")}},S=(P,W)=>{h(R=>({...R,[P]:W}))},E=(P,W)=>{h(R=>({...R,location:{...R.location,[P]:W}}))},T=(P,W,R)=>{h(U=>({...U,owners:U.owners.map((J,se)=>se===P?{...J,[W]:R}:J)}))},k=()=>{h(P=>({...P,owners:[...P.owners,{name:"",sharePercentage:"",relation:""}]}))},F=P=>{h(W=>({...W,owners:W.owners.filter((R,U)=>U!==P)}))};return i&&t.length===0?e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsx(Zd,{className:"section-icon"}),e.jsx("h2",{children:"Land Records"}),e.jsx("p",{children:"Manage your land and property records"})]}),e.jsx("div",{className:"loading",children:"Loading..."})]}):e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsx(Zd,{className:"section-icon"}),e.jsx("h2",{children:"Land Records"}),e.jsx("p",{children:"Manage your land and property records"})]}),e.jsx("div",{className:"static-content",children:a?e.jsxs("div",{className:"static-form",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h3",{children:y()}),e.jsxs("button",{className:"btn-secondary",onClick:()=>{r(!1),N()},children:[e.jsx(Oe,{})," Cancel"]})]}),e.jsxs("form",{onSubmit:j,className:"static-form-content",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Property Type"}),e.jsxs("select",{value:u.propertyType,onChange:P=>S("propertyType",P.target.value),required:!0,children:[e.jsx("option",{value:"Agricultural",children:"Agricultural"}),e.jsx("option",{value:"Residential Plot",children:"Residential Plot"}),e.jsx("option",{value:"Apartment/Flat",children:"Apartment/Flat"}),e.jsx("option",{value:"Commercial",children:"Commercial"}),e.jsx("option",{value:"Industrial",children:"Industrial"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:a==="flat"?"Flat Number":"Survey Number"}),e.jsx("input",{type:"text",value:u.surveyNumber,onChange:P=>S("surveyNumber",P.target.value),placeholder:a==="flat"?"e.g., A-101":"e.g., 123/456",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area"}),e.jsx("input",{type:"number",value:u.area,onChange:P=>S("area",P.target.value),placeholder:"e.g., 2.5",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Area Unit"}),e.jsxs("select",{value:u.areaUnit,onChange:P=>S("areaUnit",P.target.value),required:!0,children:[a==="land"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"Acres",children:"Acres"}),e.jsx("option",{value:"Hectares",children:"Hectares"}),e.jsx("option",{value:"Bigha",children:"Bigha"})]}),a==="plot"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"Sq Yards",children:"Sq Yards"}),e.jsx("option",{value:"Sq. Feet",children:"Sq. Feet"}),e.jsx("option",{value:"Sq. Meters",children:"Sq. Meters"})]}),a==="flat"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"Sq Feet",children:"Sq Feet"}),e.jsx("option",{value:"Sq. Meters",children:"Sq. Meters"})]})]})]}),a==="flat"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Floor Number"}),e.jsx("input",{type:"number",value:u.floorNumber||"",onChange:P=>S("floorNumber",P.target.value),placeholder:"e.g., 3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Floors"}),e.jsx("input",{type:"number",value:u.totalFloors||"",onChange:P=>S("totalFloors",P.target.value),placeholder:"e.g., 10"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Wing/Block"}),e.jsx("input",{type:"text",value:u.wing||"",onChange:P=>S("wing",P.target.value),placeholder:"e.g., A"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Society Name"}),e.jsx("input",{type:"text",value:u.societyName||"",onChange:P=>S("societyName",P.target.value),placeholder:"e.g., XYZ Society"})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Location Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Village/City"}),e.jsx("input",{type:"text",value:u.location.village,onChange:P=>E("village",P.target.value),placeholder:"e.g., Ramnagar",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tehsil/Block"}),e.jsx("input",{type:"text",value:u.location.tehsil,onChange:P=>E("tehsil",P.target.value),placeholder:"e.g., North Block",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"District"}),e.jsx("input",{type:"text",value:u.location.district,onChange:P=>E("district",P.target.value),placeholder:"e.g., Pune",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State"}),e.jsx("input",{type:"text",value:u.location.state,onChange:P=>E("state",P.target.value),placeholder:"e.g., Maharashtra",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pincode"}),e.jsx("input",{type:"text",value:u.location.pincode,onChange:P=>E("pincode",P.target.value),placeholder:"e.g., 411001"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Ownership Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Ownership Type"}),e.jsxs("select",{value:u.ownershipType,onChange:P=>S("ownershipType",P.target.value),required:!0,children:[e.jsx("option",{value:"Individual",children:"Individual"}),e.jsx("option",{value:"Joint",children:"Joint"}),e.jsx("option",{value:"Family",children:"Family"}),e.jsx("option",{value:"Company",children:"Company"}),e.jsx("option",{value:"Trust",children:"Trust"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purchase Date"}),e.jsx("input",{type:"date",value:u.purchaseDate,onChange:P=>S("purchaseDate",P.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Purchase Price"}),e.jsx("input",{type:"number",value:u.purchasePrice,onChange:P=>S("purchasePrice",P.target.value),placeholder:"e.g., 5000000"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Current Market Value"}),e.jsx("input",{type:"text",value:u.currentMarketValue,onChange:P=>S("currentMarketValue",P.target.value),placeholder:"e.g., 7500000"})]})]}),e.jsxs("div",{className:"owners-section",children:[e.jsxs("div",{className:"owners-header",children:[e.jsx("h5",{children:"Owners"}),e.jsxs("button",{type:"button",className:"btn-add-owner",onClick:k,children:[e.jsx(Oe,{})," Add Owner"]})]}),u.owners.map((P,W)=>e.jsx("div",{className:"owner-row",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Owner Name"}),e.jsx("input",{type:"text",value:P.name,onChange:R=>T(W,"name",R.target.value),placeholder:"Owner name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Share %"}),e.jsx("input",{type:"text",value:P.sharePercentage,onChange:R=>T(W,"sharePercentage",R.target.value),placeholder:"e.g., 50"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Relation"}),e.jsx("input",{type:"text",value:P.relation,onChange:R=>T(W,"relation",R.target.value),placeholder:"e.g., Self, Father, etc."})]}),e.jsx("div",{className:"form-group",children:e.jsxs("button",{type:"button",className:"btn-remove-owner",onClick:()=>F(W),disabled:u.owners.length===1,children:[e.jsx(Ze,{})," Remove"]})})]})},W))]})]}),a==="land"&&e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Land Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Crop Name"}),e.jsx("input",{type:"text",value:u.cropName,onChange:P=>S("cropName",P.target.value),placeholder:"e.g., Wheat, Rice, etc."})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Khata Number"}),e.jsx("input",{type:"text",value:u.khataNumber,onChange:P=>S("khataNumber",P.target.value),placeholder:"e.g., 123/456"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Project Affected"}),e.jsx("input",{type:"text",value:u.projectAffected,onChange:P=>S("projectAffected",P.target.value),placeholder:"e.g., Irrigation Dept, Highway Project"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Land Use"}),e.jsxs("select",{value:u.landUse,onChange:P=>S("landUse",P.target.value),children:[e.jsx("option",{value:"Cultivation",children:"Cultivation"}),e.jsx("option",{value:"Residential",children:"Residential"}),e.jsx("option",{value:"Commercial",children:"Commercial"}),e.jsx("option",{value:"Industrial",children:"Industrial"}),e.jsx("option",{value:"Vacant",children:"Vacant"}),e.jsx("option",{value:"Recreational",children:"Recreational"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Irrigation Source"}),e.jsxs("select",{value:u.irrigationSource,onChange:P=>S("irrigationSource",P.target.value),children:[e.jsx("option",{value:"Well",children:"Well"}),e.jsx("option",{value:"Canal",children:"Canal"}),e.jsx("option",{value:"Borewell",children:"Borewell"}),e.jsx("option",{value:"Rain-fed",children:"Rain-fed"}),e.jsx("option",{value:"Drip",children:"Drip Irrigation"}),e.jsx("option",{value:"None",children:"None"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Soil Type"}),e.jsxs("select",{value:u.soilType,onChange:P=>S("soilType",P.target.value),children:[e.jsx("option",{value:"Black Soil",children:"Black Soil"}),e.jsx("option",{value:"Red Soil",children:"Red Soil"}),e.jsx("option",{value:"Clay Soil",children:"Clay Soil"}),e.jsx("option",{value:"Sandy Soil",children:"Sandy Soil"}),e.jsx("option",{value:"Loamy Soil",children:"Loamy Soil"}),e.jsx("option",{value:"Alluvial Soil",children:"Alluvial Soil"})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Land Records & Maps"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Online 7/12"}),e.jsx("input",{type:"text",value:u.online7_12,onChange:P=>S("online7_12",P.target.value),placeholder:"7/12 extract details or URL"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"8-A Form"}),e.jsx("input",{type:"text",value:u.form8A,onChange:P=>S("form8A",P.target.value),placeholder:"8-A form details"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Map"}),e.jsx("input",{type:"text",value:u.map,onChange:P=>S("map",P.target.value),placeholder:"Map reference or URL"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Development Status"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Development Status"}),e.jsxs("select",{value:u.developmentStatus,onChange:P=>S("developmentStatus",P.target.value),children:[e.jsx("option",{value:"Undeveloped",children:"Undeveloped"}),e.jsx("option",{value:"Partially Developed",children:"Partially Developed"}),e.jsx("option",{value:"Fully Developed",children:"Fully Developed"})]})]})})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Boundaries"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"North"}),e.jsx("input",{type:"text",value:u.boundaries.north,onChange:P=>S("boundaries",{...u.boundaries,north:P.target.value}),placeholder:"e.g., Road, Property Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"South"}),e.jsx("input",{type:"text",value:u.boundaries.south,onChange:P=>S("boundaries",{...u.boundaries,south:P.target.value}),placeholder:"e.g., Road, Property Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"East"}),e.jsx("input",{type:"text",value:u.boundaries.east,onChange:P=>S("boundaries",{...u.boundaries,east:P.target.value}),placeholder:"e.g., Road, Property Name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"West"}),e.jsx("input",{type:"text",value:u.boundaries.west,onChange:P=>S("boundaries",{...u.boundaries,west:P.target.value}),placeholder:"e.g., Road, Property Name"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Legal & Documents"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Legal Status"}),e.jsxs("select",{value:u.legalStatus,onChange:P=>S("legalStatus",P.target.value),children:[e.jsx("option",{value:"Clear",children:"Clear"}),e.jsx("option",{value:"Under Litigation",children:"Under Litigation"}),e.jsx("option",{value:"Disputed",children:"Disputed"}),e.jsx("option",{value:"Mortgaged",children:"Mortgaged"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title Deed"}),e.jsx("input",{type:"text",value:u.documents.titleDeed,onChange:P=>S("documents",{...u.documents,titleDeed:P.target.value}),placeholder:"Title deed details"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Sale Deed"}),e.jsx("input",{type:"text",value:u.documents.saleDeed,onChange:P=>S("documents",{...u.documents,saleDeed:P.target.value}),placeholder:"Sale deed details"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Original Sale Deed"}),e.jsx("input",{type:"text",value:u.documents.originalSaleDeed,onChange:P=>S("documents",{...u.documents,originalSaleDeed:P.target.value}),placeholder:"Original sale deed details"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mutation Certificate"}),e.jsx("input",{type:"text",value:u.documents.mutationCertificate,onChange:P=>S("documents",{...u.documents,mutationCertificate:P.target.value}),placeholder:"Mutation certificate details"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Land Records"}),e.jsx("input",{type:"text",value:u.documents.landRecords,onChange:P=>S("documents",{...u.documents,landRecords:P.target.value}),placeholder:"Land record details"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tax Receipts"}),e.jsx("input",{type:"text",value:u.documents.taxReceipts,onChange:P=>S("documents",{...u.documents,taxReceipts:P.target.value}),placeholder:"Tax receipt details"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Loan / Mortgage"}),e.jsx("input",{type:"text",value:u.documents.loanMortgage,onChange:P=>S("documents",{...u.documents,loanMortgage:P.target.value}),placeholder:"Loan or mortgage details"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Electric Meter"}),e.jsx("input",{type:"text",value:u.documents.electricMeter,onChange:P=>S("documents",{...u.documents,electricMeter:P.target.value}),placeholder:"Electric meter details"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Legal Disputes (if any)"}),e.jsx("textarea",{value:u.disputes,onChange:P=>S("disputes",P.target.value),placeholder:"Describe any ongoing or past legal disputes...",rows:3})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Additional Notes"}),e.jsx("textarea",{value:u.notes,onChange:P=>S("notes",P.target.value),placeholder:"Any additional information about the property...",rows:3})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{type:"button",className:"btn-secondary",onClick:()=>{r(!1),N()},children:[e.jsx(Oe,{})," Cancel"]}),e.jsxs("button",{type:"submit",className:"btn-success",children:[e.jsx(ct,{})," ",d?"Update Record":"Save Record"]})]})]})]}):e.jsx("div",{className:"entries-list",children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:e.jsx(Zd,{})}),e.jsx("h3",{children:"No Land Records"}),e.jsx("p",{children:"Start adding your land and property records"}),e.jsxs("div",{className:"empty-actions",children:[e.jsxs("button",{className:"btn-primary",onClick:()=>r("land"),children:[e.jsx(Oe,{})," Add Land Record"]}),e.jsxs("button",{className:"btn-primary",onClick:()=>r("plot"),children:[e.jsx(Oe,{})," Add Plot"]}),e.jsxs("button",{className:"btn-primary",onClick:()=>r("flat"),children:[e.jsx(Oe,{})," Add Flat"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"list-header",children:[e.jsxs("h3",{children:["Land Records (",t.length,")"]}),e.jsxs("div",{className:"header-buttons",children:[e.jsxs("button",{className:"btn-primary",onClick:()=>r("land"),children:[e.jsx(Oe,{})," Add Land Record"]}),e.jsxs("button",{className:"btn-primary",onClick:()=>r("plot"),children:[e.jsx(Oe,{})," Add Plot"]}),e.jsxs("button",{className:"btn-primary",onClick:()=>r("flat"),children:[e.jsx(Oe,{})," Add Flat"]})]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"companies-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Property"}),e.jsx("th",{children:"Survey No."}),e.jsx("th",{children:"Area"}),e.jsx("th",{children:"Location"}),e.jsx("th",{children:"Ownership"}),e.jsx("th",{children:"Market Value"}),e.jsx("th",{children:"Legal Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map((P,W)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"company-cell",children:[e.jsx(Zd,{className:"company-icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"property-name",children:P.propertyType}),e.jsx("div",{className:"property-subtitle",children:P.landUse})]})]})}),e.jsx("td",{children:P.surveyNumber||"N/A"}),e.jsxs("td",{children:[P.area," ",P.areaUnit]}),e.jsx("td",{children:e.jsxs("div",{className:"location-cell",children:[e.jsx(Lm,{}),P.location?.village,", ",P.location?.tehsil]})}),e.jsx("td",{children:P.ownershipType}),e.jsx("td",{children:e.jsxs("div",{className:"value-cell",children:[e.jsx(ua,{}),P.currentMarketValue||"N/A"]})}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-${P.legalStatus?.toLowerCase()}`,children:P.legalStatus})}),e.jsx("td",{children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>w(W),children:e.jsx(ct,{})}),e.jsx("button",{className:"btn-delete",onClick:()=>O(W),children:e.jsx(Ze,{})})]})})]},P._id))})]})})]})})})]})},m2={membershipType:"Gym",organizationName:"",memberName:"",membershipNumber:"",startDate:"",endDate:"",renewalDate:"",status:"Active",paymentFrequency:"Monthly",amount:"",currency:"INR",benefits:[""],contactInfo:{phone:"",email:"",website:""},address:{street:"",city:"",state:"",pincode:""},notes:""},TQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(!1),[i,o]=x.useState(!1),[u,h]=x.useState(m2),[p,f]=x.useState(null),[d,v]=x.useState(null);x.useEffect(()=>{y()},[]);const y=async()=>{try{const P=await ze.getMembershipList();n(P.data||[])}catch(P){console.error("Error fetching membership list:",P)}},C=()=>{h(m2),f(null),v(null)},N=async P=>{P.preventDefault();try{d?await ze.updateMembership(d,u):await ze.createMembership(u),await Promise.all([kf(u,"MembershipList"),_u(u,"MembershipList")]),await y(),C(),r(!1)}catch(W){alert(W.response?.data?.message||"Error saving record")}},j=P=>{const W=t[P];h({...W}),f(P),v(W._id),r(!0)},w=async P=>{const W=t[P];if(window.confirm("Delete this membership?"))try{await ze.deleteMembership(W._id),await y()}catch(R){alert(R.response?.data?.message||"Error deleting record")}},O=(P,W)=>{h(R=>({...R,[P]:W}))},S=(P,W)=>{h(R=>({...R,contactInfo:{...R.contactInfo,[P]:W}}))},E=(P,W)=>{h(R=>({...R,address:{...R.address,[P]:W}}))},T=(P,W)=>{h(R=>({...R,benefits:R.benefits.map((U,J)=>J===P?W:U)}))},k=()=>{h(P=>({...P,benefits:[...P.benefits,""]}))},F=P=>{h(W=>({...W,benefits:W.benefits.filter((R,U)=>U!==P)}))};return i&&t.length===0?e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsx(Xr,{className:"section-icon"}),e.jsx("h2",{children:"Membership List"}),e.jsx("p",{children:"Manage your memberships and subscriptions"})]}),e.jsx("div",{className:"loading",children:"Loading..."})]}):e.jsxs("div",{className:"static-page",children:[e.jsxs("div",{className:"static-header",children:[e.jsx(Xr,{className:"section-icon"}),e.jsx("h2",{children:"Membership List"}),e.jsx("p",{children:"Manage your memberships and subscriptions"})]}),e.jsx("div",{className:"static-content",children:a?e.jsxs("div",{className:"static-form",children:[e.jsxs("div",{className:"form-header",children:[e.jsx("h3",{children:d?"Edit Membership":"Add Membership"}),e.jsxs("button",{className:"btn-secondary",onClick:()=>{r(!1),C()},children:[e.jsx(Oe,{})," Cancel"]})]}),e.jsxs("form",{onSubmit:N,className:"static-form-content",children:[e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Basic Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Membership Type"}),e.jsxs("select",{value:u.membershipType,onChange:P=>O("membershipType",P.target.value),required:!0,children:[e.jsx("option",{value:"Gym",children:"Gym"}),e.jsx("option",{value:"Club",children:"Club"}),e.jsx("option",{value:"Library",children:"Library"}),e.jsx("option",{value:"Professional",children:"Professional"}),e.jsx("option",{value:"Subscription",children:"Subscription"}),e.jsx("option",{value:"Insurance",children:"Insurance"}),e.jsx("option",{value:"Other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Organization Name"}),e.jsx("input",{type:"text",value:u.organizationName,onChange:P=>O("organizationName",P.target.value),placeholder:"e.g., Fitness First Gym",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Member Name"}),e.jsx("input",{type:"text",value:u.memberName,onChange:P=>O("memberName",P.target.value),placeholder:"Your name on the membership"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Membership Number"}),e.jsx("input",{type:"text",value:u.membershipNumber,onChange:P=>O("membershipNumber",P.target.value),placeholder:"e.g., MEM-12345"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Payment Details"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",value:u.amount,onChange:P=>O("amount",P.target.value),placeholder:"e.g., 999",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Currency"}),e.jsxs("select",{value:u.currency,onChange:P=>O("currency",P.target.value),children:[e.jsx("option",{value:"INR",children:"INR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Payment Frequency"}),e.jsxs("select",{value:u.paymentFrequency,onChange:P=>O("paymentFrequency",P.target.value),children:[e.jsx("option",{value:"Daily",children:"Daily"}),e.jsx("option",{value:"Weekly",children:"Weekly"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Quarterly",children:"Quarterly"}),e.jsx("option",{value:"Yearly",children:"Yearly"}),e.jsx("option",{value:"One-time",children:"One-time"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:u.status,onChange:P=>O("status",P.target.value),children:[e.jsx("option",{value:"Active",children:"Active"}),e.jsx("option",{value:"Inactive",children:"Inactive"}),e.jsx("option",{value:"Suspended",children:"Suspended"}),e.jsx("option",{value:"Expired",children:"Expired"})]})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Date Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Date"}),e.jsx("input",{type:"date",value:u.startDate,onChange:P=>O("startDate",P.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Date"}),e.jsx("input",{type:"date",value:u.endDate,onChange:P=>O("endDate",P.target.value),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Renewal Date"}),e.jsx("input",{type:"date",value:u.renewalDate,onChange:P=>O("renewalDate",P.target.value)})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Contact Information"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Phone"}),e.jsx("input",{type:"tel",value:u.contactInfo.phone,onChange:P=>S("phone",P.target.value),placeholder:"e.g., +91 12345 67890"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{type:"email",value:u.contactInfo.email,onChange:P=>S("email",P.target.value),placeholder:"e.g., support@organization.com"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Website"}),e.jsx("input",{type:"url",value:u.contactInfo.website,onChange:P=>S("website",P.target.value),placeholder:"e.g., https://organization.com"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Address"}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Street Address"}),e.jsx("input",{type:"text",value:u.address.street,onChange:P=>E("street",P.target.value),placeholder:"e.g., 123 Main Street"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City"}),e.jsx("input",{type:"text",value:u.address.city,onChange:P=>E("city",P.target.value),placeholder:"e.g., Mumbai"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State"}),e.jsx("input",{type:"text",value:u.address.state,onChange:P=>E("state",P.target.value),placeholder:"e.g., Maharashtra"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pincode"}),e.jsx("input",{type:"text",value:u.address.pincode,onChange:P=>E("pincode",P.target.value),placeholder:"e.g., 400001"})]})]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Benefits"}),e.jsxs("div",{className:"benefits-section",children:[e.jsxs("div",{className:"benefits-header",children:[e.jsx("h5",{children:"Benefits & Features"}),e.jsxs("button",{type:"button",className:"btn-add-benefit",onClick:k,children:[e.jsx(Oe,{})," Add Benefit"]})]}),u.benefits.map((P,W)=>e.jsxs("div",{className:"benefit-row",children:[e.jsx("div",{className:"form-group",children:e.jsx("input",{type:"text",value:P,onChange:R=>T(W,R.target.value),placeholder:"e.g., Free access to all equipment"})}),e.jsx("div",{className:"form-group",children:e.jsxs("button",{type:"button",className:"btn-remove-benefit",onClick:()=>F(W),disabled:u.benefits.length===1,children:[e.jsx(Ze,{})," Remove"]})})]},W))]})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Additional Information"}),e.jsx("div",{className:"form-grid",children:e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:u.notes,onChange:P=>O("notes",P.target.value),placeholder:"Any additional notes about the membership...",rows:3})]})})]}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{type:"button",className:"btn-secondary",onClick:()=>{r(!1),C()},children:[e.jsx(Oe,{})," Cancel"]}),e.jsxs("button",{type:"submit",className:"btn-success",children:[e.jsx(ct,{})," ",d?"Update Membership":"Save Membership"]})]})]})]}):e.jsx("div",{className:"entries-list",children:t.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:e.jsx(Xr,{})}),e.jsx("h3",{children:"No Memberships"}),e.jsx("p",{children:"Start adding your memberships and subscriptions"}),e.jsxs("button",{className:"btn-primary",onClick:()=>r(!0),children:[e.jsx(Oe,{})," Add First Membership"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"list-header",children:[e.jsxs("h3",{children:["Memberships (",t.length,")"]}),e.jsxs("button",{className:"btn-primary",onClick:()=>r(!0),children:[e.jsx(Oe,{})," Add Membership"]})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"companies-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Organization"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Member Name"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Frequency"}),e.jsx("th",{children:"Validity"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map((P,W)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"company-cell",children:[e.jsx(NL,{className:"company-icon"}),e.jsxs("div",{children:[e.jsx("div",{className:"property-name",children:P.organizationName}),e.jsx("div",{className:"property-subtitle",children:P.membershipNumber})]})]})}),e.jsx("td",{children:P.membershipType}),e.jsx("td",{children:P.memberName||"N/A"}),e.jsx("td",{children:e.jsxs("div",{className:"value-cell",children:[e.jsx(ua,{}),P.amount," ",P.currency]})}),e.jsx("td",{children:P.paymentFrequency}),e.jsx("td",{children:e.jsxs("div",{className:"date-cell",children:[e.jsx(Va,{}),P.startDate," - ",P.endDate]})}),e.jsx("td",{children:e.jsx("span",{className:`status-badge status-${P.status?.toLowerCase()}`,children:P.status})}),e.jsx("td",{children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{className:"btn-edit",onClick:()=>j(W),children:e.jsx(ct,{})}),e.jsx("button",{className:"btn-delete",onClick:()=>w(W),children:e.jsx(Ze,{})})]})})]},P._id))})]})})]})})})]})},MQ=({cashRecords:t,cardRecords:n,bankRecords:a,cardTransactions:r,bankTransactions:i})=>{const[o,u]=x.useState("current"),h=()=>{const G=new Date;return`${G.getFullYear()}-${String(G.getMonth()+1).padStart(2,"0")}`};(()=>{const G=new Date().getFullYear(),M=[];for(let B=1;B<=12;B++){const re=`${G}-${String(B).padStart(2,"0")}`,Z=new Date(G,B-1).toLocaleString("default",{month:"long"});M.push({key:re,name:Z})}return M})();const f=h(),v=(()=>{const G=new Set,M=[...t||[],...r||[],...i||[]];return console.log("All transactions for month extraction:",M.length),M.forEach(B=>{const re=B.date||B.createdAt;if(re){const Z=new Date(re);if(!isNaN(Z.getTime())){const te=`${Z.getFullYear()}-${String(Z.getMonth()+1).padStart(2,"0")}`;G.add(te)}}}),console.log("Available months:",Array.from(G)),Array.from(G).sort().reverse()})(),y=G=>{if(o==="all")return G;const M=o==="current"?f:o;return G.filter(B=>{const re=B.date||B.createdAt,Z=new Date(re);return`${Z.getFullYear()}-${String(Z.getMonth()+1).padStart(2,"0")}`===M})},C=y(t),N=y(n),j=y(a),w=y(r),O=y(i),S=()=>{const G={};return C.forEach(M=>{const B=M.currency||"INR";G[B]||(G[B]={cash:0,cards:0,bank:0,bankBalance:0,total:0}),G[B].cash+=parseFloat(M.amount)||0,G[B].total+=parseFloat(M.amount)||0}),N.forEach(M=>{const B=M.currency||"INR";G[B]||(G[B]={cash:0,cards:0,bank:0,bankBalance:0,total:0})}),j.forEach(M=>{const B=M.currency||"INR";G[B]||(G[B]={cash:0,cards:0,bank:0,bankBalance:0,total:0});const re=parseFloat(M.balance)||0;G[B].bankBalance+=re}),w.forEach(M=>{const B=M.currency||"INR";G[B]||(G[B]={cash:0,cards:0,bank:0,bankBalance:0,total:0});const re=parseFloat(M.amount)||0;G[B].cards+=re,G[B].total+=re}),O.forEach(M=>{const B=M.currency||"INR";G[B]||(G[B]={cash:0,cards:0,bank:0,bankBalance:0,total:0});const re=parseFloat(M.amount)||0;G[B].bank+=re,G[B].total-=re}),Object.keys(G).forEach(M=>{const B=G[M];B.total=B.cash+B.cards+B.bank,B.bankBalance=B.bankBalance-B.bank}),Object.entries(G).map(([M,B])=>({currency:M,...B}))},E=()=>{const G={};return a.forEach(M=>{const B=M.currency||"INR";G[B]||(G[B]={bankBalance:0,cardLimits:0,total:0});const re=parseFloat(M.balance)||0;G[B].bankBalance+=re,G[B].total+=re}),n.forEach(M=>{const B=M.currency||"INR";G[B]||(G[B]={bankBalance:0,cardLimits:0,total:0});const re=parseFloat(M.availableCredit)||parseFloat(M.creditLimit)||0;G[B].cardLimits+=re,G[B].total+=re}),Object.entries(G).map(([M,B])=>({currency:M,...B}))},T=()=>{const G={};return t.forEach(M=>{const B=M.type.replace("-"," ");G[B]||(G[B]={name:B,value:0,category:"Cash"}),G[B].value+=parseFloat(M.amount)||0}),n.forEach(M=>{const B=M.type.replace("-"," ");G[B]||(G[B]={name:B,value:0,category:"Cards"}),G[B].value+=parseFloat(M.creditLimit)||0}),a.forEach(M=>{const B=M.type.replace("-"," ");G[B]||(G[B]={name:B,value:0,category:"Bank"}),G[B].value+=parseFloat(M.balance)||0}),Object.values(G)},k=S(),F=E();T();const P=()=>{const G={};return[...C,...N,...j,...w,...O].forEach(B=>{if(B.transactionType){const re=B.transactionType.replace("-"," ").replace(/\b\w/g,te=>te.toUpperCase());G[re]||(G[re]={name:re,value:0});const Z=parseFloat(B.amount)||0;G[re].value+=Z}}),Object.values(G).filter(B=>B.value>0)},W=()=>{const G={};return[...C,...N,...j,...w,...O].forEach(B=>{if(B.expenseType){const re=B.expenseType.replace("-"," ").replace(/\b\w/g,te=>te.toUpperCase());G[re]||(G[re]={name:re,value:0});const Z=parseFloat(B.amount)||0;G[re].value+=Z}}),Object.values(G).filter(B=>B.value>0)};console.log("Chart Data:",k);const R=G=>G>=1e7?`${(G/1e7).toFixed(1)}Cr`:G>=1e5?`${(G/1e5).toFixed(1)}L`:G>=1e3?`${(G/1e3).toFixed(1)}K`:G.toString(),U=["#28a745","#007bff","#6f42c1","#fd7e14","#20c997","#e83e8c","#ffc107","#17a2b8"],J={cash:"#28a745",cards:"#007bff",bank:"#6f42c1"},se=({active:G,payload:M,label:B})=>G&&M&&M.length?e.jsxs("div",{className:"custom-tooltip",children:[e.jsx("p",{className:"tooltip-label",children:`${B}`}),M.map((re,Z)=>e.jsx("p",{className:"tooltip-value",style:{color:re.color},children:`${re.name}: ${re.value.toLocaleString()}`},Z))]}):null,X=({active:G,payload:M})=>{if(G&&M&&M.length){const B=M[0].payload;return e.jsxs("div",{className:"custom-tooltip",children:[e.jsx("p",{className:"tooltip-label",children:B.currency}),e.jsxs("p",{className:"tooltip-detail",children:["Bank Balance: ",B.bankBalance.toLocaleString()]}),e.jsxs("p",{className:"tooltip-detail",children:["Card Limits: ",B.cardLimits.toLocaleString()]}),e.jsxs("p",{className:"tooltip-value",children:["Total: ",B.total.toLocaleString()]})]})}return null},le=k.reduce((G,M)=>G+M.total,0);return e.jsxs("div",{className:"financial-overview-chart",children:[e.jsx("div",{className:"month-selector",children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"20px"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{children:"Select Month:"}),e.jsxs("select",{value:o,onChange:G=>{console.log("Month selected:",G.target.value),u(G.target.value)},style:{width:"100%",padding:"12px 16px",border:"2px solid #e0e0e0",borderRadius:"8px",fontSize:"14px",background:"white",cursor:"pointer",zIndex:"999",position:"relative"},children:[e.jsxs("option",{value:"current",children:["Current Month (",new Date().toLocaleString("default",{month:"long",year:"numeric"}),")"]}),v.length>0?v.map(G=>{const B=new Date(G+"-01").toLocaleString("default",{month:"long",year:"numeric"});return e.jsx("option",{value:G,children:B},G)}):e.jsx("option",{value:"",disabled:!0,children:"No transaction data available"})]})]}),e.jsx("div",{children:e.jsx("button",{className:`month-btn ${o==="all"?"active":""}`,onClick:()=>{console.log("All Time button clicked"),u("all")},style:{padding:"12px 24px",border:"2px solid #e0e0e0",borderRadius:"8px",background:o==="all"?"linear-gradient(135deg, #667eea 0%, #764ba2 100%)":"white",color:o==="all"?"white":"#333",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",whiteSpace:"nowrap",zIndex:"999",position:"relative"},children:"All Time"})})]})}),e.jsxs("div",{className:"chart-header",children:[e.jsx("h2",{children:"Financial Overview"}),e.jsxs("div",{className:"summary-cards",children:[e.jsxs("div",{className:"summary-card cash",children:[e.jsx("h3",{children:"Cash"}),e.jsx("p",{children:k.reduce((G,M)=>G+M.cash,0).toLocaleString()})]}),e.jsxs("div",{className:"summary-card cards",children:[e.jsx("h3",{children:"Card Spending"}),e.jsx("p",{children:k.reduce((G,M)=>G+M.cards,0).toLocaleString()})]}),e.jsxs("div",{className:"summary-card bank",children:[e.jsx("h3",{children:"Bank Transactions"}),e.jsx("p",{children:k.reduce((G,M)=>G+M.bank,0).toLocaleString()})]}),e.jsxs("div",{className:"summary-card bank-balance",children:[e.jsx("h3",{children:"Net Bank Balance"}),e.jsx("p",{children:k.reduce((G,M)=>G+M.bankBalance,0).toLocaleString()})]}),e.jsxs("div",{className:"summary-card net-total",children:[e.jsx("h3",{children:"Net Total Spending"}),e.jsx("p",{children:le.toLocaleString()})]})]})]}),e.jsxs("div",{className:"charts-grid",children:[e.jsxs("div",{className:"chart-container",children:[e.jsx("h3",{children:"Assets by Currency"}),e.jsx(Mt,{width:"100%",height:300,children:e.jsxs(os,{data:k,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(Xn,{strokeDasharray:"3 3"}),e.jsx(Zn,{dataKey:"currency"}),e.jsx(Qn,{tickFormatter:R}),e.jsx(It,{content:e.jsx(se,{})}),e.jsx(pn,{}),e.jsx(Rn,{dataKey:"cash",fill:J.cash,name:"Cash"}),e.jsx(Rn,{dataKey:"cards",fill:J.cards,name:"Card Spending"}),e.jsx(Rn,{dataKey:"bank",fill:J.bank,name:"Bank Transactions"})]})})]}),e.jsxs("div",{className:"chart-container",children:[e.jsx("h3",{children:"Bank Balance & Card Limits"}),e.jsx(Mt,{width:"100%",height:300,children:e.jsxs(os,{data:F,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(Xn,{strokeDasharray:"3 3"}),e.jsx(Zn,{dataKey:"currency"}),e.jsx(Qn,{tickFormatter:R}),e.jsx(It,{content:e.jsx(X,{})}),e.jsx(pn,{}),e.jsx(Rn,{dataKey:"bankBalance",fill:"#ff6b6b",name:"Bank Balance"}),e.jsx(Rn,{dataKey:"cardLimits",fill:"#007bff",name:"Available Card Limits"})]})})]}),e.jsxs("div",{className:"chart-container",children:[e.jsx("h3",{children:"Transaction Type Distribution"}),e.jsx(Mt,{width:"100%",height:300,children:e.jsxs(ur,{children:[e.jsx(Wa,{data:P(),cx:"50%",cy:"50%",labelLine:!1,label:({name:G,percent:M})=>`${G} ${(M*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:P().map((G,M)=>e.jsx(_n,{fill:U[M%U.length]},`cell-${M}`))}),e.jsx(It,{})]})})]}),e.jsxs("div",{className:"chart-container",children:[e.jsx("h3",{children:"Expense Type Distribution"}),e.jsx(Mt,{width:"100%",height:300,children:e.jsxs(ur,{children:[e.jsx(Wa,{data:W(),cx:"50%",cy:"50%",labelLine:!1,label:({name:G,percent:M})=>`${G} ${(M*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:W().map((G,M)=>e.jsx(_n,{fill:U[M%U.length]},`cell-${M}`))}),e.jsx(It,{})]})})]})]})]})},qy=async(t,n="transaction")=>{try{const a=(t.category||"").toLowerCase();if(a!=="inventory")return console.log("Transaction category not inventory:",a),{success:!1,message:"Not an inventory transaction",count:0};const r=t.inventoryCategory||"Other",i={itemName:t.merchant||t.description||"Item",companyName:t.merchant||"Unknown",modelNumber:"",serialNumber:"",purchaseDate:t.date||new Date().toISOString().slice(0,10),purchasePrice:t.amount||0,currency:t.currency||"INR",purchaseFrom:t.merchant||"Store",invoiceNumber:"",category:r,condition:"New",location:"Home",paymentMethod:n==="cash"?"Cash":n==="card"?"Card":"Bank Transfer",notes:`Auto-synced from ${n} transaction
Category: ${r}
Description: ${t.description||"N/A"}`,status:"Active"},o={category:"static-inventory-record",type:"Inventory",name:i.itemName,provider:i.companyName,amount:i.purchasePrice,startDate:i.purchaseDate,frequency:"one-time",notes:JSON.stringify(i)};return await De.create(o),console.log(` Created inventory record for ${i.itemName} from ${n} transaction`),{success:!0,message:"Inventory record created",count:1,item:i.itemName}}catch(a){return console.error("Error syncing inventory from transaction:",a),{success:!1,message:a.message,count:0}}},IQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(null),[i,o]=x.useState([]),[u,h]=x.useState(!1),[p,f]=x.useState(!1),[d,v]=x.useState(null),[y,C]=x.useState(null),[N,j]=x.useState(!0),[w,O]=x.useState({startDate:"",endDate:""}),[S,E]=x.useState({name:"",relation:"self",budget:"",initialBalance:"",currency:"INR",notes:""}),[T,k]=x.useState({memberId:"",type:"expense",amount:"",category:"other",description:"",date:new Date().toISOString().split("T")[0],transactionType:"",expenseType:"",modeOfTransaction:"cash",paymentMethod:"cash",location:"",notes:"",narration:""});x.useEffect(()=>{F()},[]),x.useEffect(()=>{a&&P(a._id)},[a]);const F=async()=>{try{const _=await oe.get("/cash-members");n(_.data),j(!1)}catch(_){console.error("Error fetching members:",_),j(!1)}},P=async _=>{try{const z=await oe.get(`/cash-transactions/member/${_}`);o(z.data)}catch(z){console.error("Error fetching transactions:",z)}},W=async()=>{await F(),a&&await P(a._id)},R=async _=>{_.preventDefault();try{d?await oe.put(`/cash-members/${d._id}`,S):await oe.post("/cash-members",S),F(),G(),h(!1)}catch(z){console.error("Error saving member:",z),alert("Error saving member")}},U=async _=>{_.preventDefault();try{const z={...T,memberId:a._id};if(z.inventoryCategory){const L=`[Inventory: ${z.inventoryCategory}]`;z.description=z.description?`${L} ${z.description}`:L,delete z.inventoryCategory}y?await oe.put(`/cash-transactions/${y._id}`,z):(await oe.post("/cash-transactions",z),await qy(T,"cash")),f(!1),C(null),M(),W()}catch(z){console.error("Error saving transaction:",z),alert("Error saving transaction")}},J=_=>{v(_),E({name:_.name,relation:_.relation,budget:_.budget,initialBalance:_.initialBalance,currency:_.currency,notes:_.notes||""}),h(!0)},se=async _=>{if(window.confirm("Are you sure you want to delete this member?"))try{await oe.delete(`/cash-members/${_}`),a&&a._id===_&&(r(null),o([])),F()}catch(z){console.error("Error deleting member:",z),alert("Error deleting member")}},X=_=>{C(_),k({memberId:_.memberId._id,type:_.type,amount:_.amount,category:_.category,description:_.description,date:new Date(_.date).toISOString().split("T")[0],transactionType:_.transactionType||"",expenseType:_.expenseType||"",modeOfTransaction:_.modeOfTransaction||"cash",paymentMethod:_.paymentMethod||"cash",location:_.location||"",notes:_.notes||"",narration:_.narration||""}),f(!0)},le=async _=>{if(window.confirm("Are you sure you want to delete this transaction?"))try{await oe.delete(`/cash-transactions/${_}`),P(a._id),F()}catch(z){console.error("Error deleting transaction:",z),alert("Error deleting transaction")}},G=()=>{E({name:"",relation:"self",budget:"",initialBalance:"",currency:"INR",notes:""}),v(null)},M=()=>{k({memberId:"",type:"expense",amount:"",category:"other",description:"",date:new Date().toISOString().split("T")[0],transactionType:"",expenseType:"",modeOfTransaction:"cash",paymentMethod:"cash",location:"",notes:"",narration:""}),C(null)},B=_=>_.initialBalance-_.currentBalance,re=_=>_.budget===0?0:(B(_)/_.budget*100).toFixed(1),Z=i.filter(_=>{const z=new Date(_.date),L=w.startDate?new Date(w.startDate):null,$=w.endDate?new Date(w.endDate):null;return!(L&&z<L||$&&z>$)}),te=()=>{O({startDate:"",endDate:""})};return N?e.jsx("div",{className:"loading",children:"Loading..."}):e.jsx("div",{className:"cash-member-management",children:a?e.jsxs("div",{className:"transactions-view",children:[e.jsx("button",{className:"back-btn",onClick:()=>r(null),children:" Back to Members"}),e.jsxs("div",{className:"member-detail-header",children:[e.jsxs("div",{children:[e.jsxs("h2",{children:[a.name,"'s Transactions"]}),e.jsxs("p",{className:"member-info",children:["Budget: ",a.currency," ",a.budget.toLocaleString("en-IN")," | Current Balance: ",a.currency," ",a.currentBalance.toLocaleString("en-IN")," | Spent: ",a.currency," ",B(a).toLocaleString("en-IN")]})]}),e.jsx("button",{className:"add-btn",onClick:()=>{M(),f(!0)},children:"Add Transaction"})]}),e.jsxs("div",{className:"date-filter-section",style:{margin:"20px 0",padding:"15px",border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"#f9f9f9"},children:[e.jsx("h4",{style:{margin:"0 0 15px 0",color:"#333"},children:"Filter by Date Range"}),e.jsxs("div",{style:{display:"flex",gap:"15px",alignItems:"center",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("label",{style:{fontWeight:"500",minWidth:"80px"},children:"Start Date:"}),e.jsx("input",{type:"date",value:w.startDate,onChange:_=>O({...w,startDate:_.target.value}),style:{padding:"6px 10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("label",{style:{fontWeight:"500",minWidth:"70px"},children:"End Date:"}),e.jsx("input",{type:"date",value:w.endDate,onChange:_=>O({...w,endDate:_.target.value}),style:{padding:"6px 10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px"}})]}),e.jsx("button",{onClick:te,style:{padding:"6px 15px",backgroundColor:"#f44336",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"Clear Filter"}),e.jsxs("span",{style:{color:"#666",fontSize:"14px"},children:["Showing ",Z.length," of ",i.length," transactions"]})]})]}),e.jsx("div",{className:"transactions-table",children:Z.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:'No transactions yet. Click "Add Transaction" to record an expense or income.'})}):e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sr. No."}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Mode of Transaction"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Type of Transaction"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Relevance/Expense Type"}),e.jsx("th",{children:"Details (Narration)"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:(()=>{let _=a.initialBalance;return Z.map((z,L)=>{const $=z.type==="expense",q=$?z.amount:0,A=$?0:z.amount;return $?_-=z.amount:_+=z.amount,e.jsxs("tr",{children:[e.jsx("td",{children:L+1}),e.jsx("td",{children:new Date(z.date).toLocaleDateString("en-IN")}),e.jsx("td",{children:e.jsx("span",{className:"mode-badge",children:z.modeOfTransaction?z.modeOfTransaction.toUpperCase().replace("-"," "):"CASH"})}),e.jsx("td",{children:z.description}),e.jsx("td",{className:"debit-amount",children:q>0?`${a.currency} ${q.toLocaleString("en-IN")}`:"-"}),e.jsx("td",{className:"credit-amount",children:A>0?`${a.currency} ${A.toLocaleString("en-IN")}`:"-"}),e.jsxs("td",{className:`balance-amount ${_<0?"negative":""}`,children:[a.currency," ",_.toLocaleString("en-IN")]}),e.jsx("td",{children:z.transactionType?z.transactionType.replace(/-/g," ").replace(/\b\w/g,K=>K.toUpperCase()):"-"}),e.jsx("td",{children:z.category?z.category.replace(/-/g," ").replace(/\b\w/g,K=>K.toUpperCase()):"-"}),e.jsx("td",{children:z.expenseType?z.expenseType.replace(/-/g," ").replace(/\b\w/g,K=>K.toUpperCase()):"-"}),e.jsx("td",{children:z.narration||z.notes||"-"}),e.jsx("td",{children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{onClick:()=>X(z),className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>le(z._id),className:"delete-btn",children:"Delete"})]})})]},z._id)})})()})]})}),p&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[e.jsxs("h3",{children:[y?"Edit":"Add"," Transaction"]}),e.jsxs("form",{onSubmit:U,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type *"}),e.jsxs("select",{value:T.type,onChange:_=>k({...T,type:_.target.value}),required:!0,children:[e.jsx("option",{value:"expense",children:"Expense"}),e.jsx("option",{value:"income",children:"Income"}),e.jsx("option",{value:"transfer",children:"Transfer"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amount *"}),e.jsx("input",{type:"number",step:"0.01",value:T.amount,onChange:_=>k({...T,amount:_.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category:"}),e.jsxs("select",{value:T.category,onChange:_=>k({...T,category:_.target.value}),children:[e.jsx("option",{value:"",children:"Select category..."}),e.jsx("option",{value:"food",children:"Food & Dining"}),e.jsx("option",{value:"shopping",children:"Shopping"}),e.jsx("option",{value:"transport",children:"Transportation"}),e.jsx("option",{value:"entertainment",children:"Entertainment"}),e.jsx("option",{value:"utilities",children:"Utilities"}),e.jsx("option",{value:"healthcare",children:"Healthcare"}),e.jsx("option",{value:"education",children:"Education"}),e.jsx("option",{value:"inventory",children:" Inventory"}),e.jsx("option",{value:"other",children:"Other"})]})]}),T.category==="inventory"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Inventory Category:"}),e.jsxs("select",{value:T.inventoryCategory||"",onChange:_=>k({...T,inventoryCategory:_.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select inventory type..."}),e.jsx("option",{value:"Electronics",children:" Electronics"}),e.jsx("option",{value:"Appliances",children:" Appliances"}),e.jsx("option",{value:"Furniture",children:" Furniture"}),e.jsx("option",{value:"Vehicles",children:" Vehicles"}),e.jsx("option",{value:"Tools",children:" Tools & Equipment"}),e.jsx("option",{value:"Books",children:" Books & Media"}),e.jsx("option",{value:"Clothing",children:" Clothing & Accessories"}),e.jsx("option",{value:"Jewelry",children:" Jewelry"}),e.jsx("option",{value:"Sports",children:" Sports Equipment"}),e.jsx("option",{value:"Other",children:" Other Items"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date *"}),e.jsx("input",{type:"date",value:T.date,onChange:_=>k({...T,date:_.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mode of Transaction *"}),e.jsxs("select",{value:T.modeOfTransaction,onChange:_=>k({...T,modeOfTransaction:_.target.value}),required:!0,children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"credit-card",children:"Credit Card"}),e.jsx("option",{value:"debit-card",children:"Debit Card"}),e.jsx("option",{value:"upi",children:"UPI"}),e.jsx("option",{value:"neft",children:"NEFT"}),e.jsx("option",{value:"rtgs",children:"RTGS"}),e.jsx("option",{value:"imps",children:"IMPS"}),e.jsx("option",{value:"cheque",children:"Cheque"}),e.jsx("option",{value:"dd",children:"DD (Demand Draft)"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Transaction Type"}),e.jsxs("select",{value:T.transactionType,onChange:_=>k({...T,transactionType:_.target.value}),children:[e.jsx("option",{value:"",children:"Select type..."}),e.jsx("option",{value:"expense",children:"Expense"}),e.jsx("option",{value:"transfer",children:"Transfer"}),e.jsx("option",{value:"loan-give",children:"Loan Give"}),e.jsx("option",{value:"loan-take",children:"Loan Take"}),e.jsx("option",{value:"udhar-give",children:"Udhar Give"}),e.jsx("option",{value:"udhar-receive",children:"Udhar Receive"}),e.jsx("option",{value:"on-behalf-in",children:"On-behalf - Amount In"}),e.jsx("option",{value:"on-behalf-out",children:"On-behalf - Amount Out"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expense Type"}),e.jsxs("select",{value:T.expenseType,onChange:_=>k({...T,expenseType:_.target.value}),children:[e.jsx("option",{value:"",children:"Select type..."}),e.jsx("option",{value:"important-necessary",children:"Important & Necessary"}),e.jsx("option",{value:"less-important",children:"Less Important"}),e.jsx("option",{value:"avoidable-loss",children:"Avoidable & Loss"}),e.jsx("option",{value:"unnecessary",children:"Un-necessary"}),e.jsx("option",{value:"basic-necessity",children:"Basic Necessity"})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Description *"}),e.jsx("textarea",{value:T.description,onChange:_=>k({...T,description:_.target.value}),rows:"2",required:!0,placeholder:"Brief description of transaction"})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Details of Transaction (Narration)"}),e.jsx("textarea",{value:T.narration,onChange:_=>k({...T,narration:_.target.value}),rows:"2",placeholder:"Detailed narration or notes about this transaction"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{f(!1),M()},children:"Cancel"}),e.jsxs("button",{type:"submit",children:[y?"Update":"Add"," Transaction"]})]})]})]})})]}):e.jsxs("div",{className:"members-view",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Family Cash Management"}),e.jsx("button",{className:"add-btn",onClick:()=>{G(),h(!0)},children:"Add Family Member"})]}),e.jsx("div",{className:"members-table-container",children:t.length===0?e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:'No family members added yet. Click "Add Family Member" to get started!'})}):e.jsxs("table",{className:"members-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Relation"}),e.jsx("th",{children:"Budget"}),e.jsx("th",{children:"Initial Balance"}),e.jsx("th",{children:"Current Balance"}),e.jsx("th",{children:"Spent"}),e.jsx("th",{children:"Budget Usage"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(_=>{const z=B(_),L=re(_),$=z>_.budget;return e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{onClick:()=>r(_),className:"member-name-link",children:_.name})}),e.jsx("td",{children:e.jsx("span",{className:"relation-badge",children:_.relation})}),e.jsxs("td",{className:"amount-col",children:[_.currency," ",_.budget.toLocaleString("en-IN")]}),e.jsxs("td",{className:"amount-col",children:[_.currency," ",_.initialBalance.toLocaleString("en-IN")]}),e.jsxs("td",{className:`amount-col ${_.currentBalance<0?"negative":""}`,children:[_.currency," ",_.currentBalance.toLocaleString("en-IN")]}),e.jsxs("td",{className:`amount-col ${$?"over-budget":""}`,children:[_.currency," ",z.toLocaleString("en-IN")]}),e.jsx("td",{children:e.jsxs("div",{className:"budget-progress",children:[e.jsx("div",{className:"budget-bar-inline",children:e.jsx("div",{className:`budget-fill-inline ${$?"over":""}`,style:{width:`${Math.min(L,100)}%`}})}),e.jsxs("span",{className:`percentage-text ${$?"over-budget":""}`,children:[L,"%"]})]})}),e.jsx("td",{children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{onClick:()=>J(_),className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>se(_._id),className:"delete-btn",children:"Delete"}),e.jsx("button",{onClick:()=>r(_),className:"view-btn",children:"View"})]})})]},_._id)})})]})}),u&&e.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"modal-content",onClick:_=>_.stopPropagation(),children:[e.jsxs("h3",{children:[d?"Edit":"Add"," Family Member"]}),e.jsxs("form",{onSubmit:R,children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name *"}),e.jsx("input",{type:"text",value:S.name,onChange:_=>E({...S,name:_.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Relation *"}),e.jsxs("select",{value:S.relation,onChange:_=>E({...S,relation:_.target.value}),required:!0,children:[e.jsx("option",{value:"self",children:"Self"}),e.jsx("option",{value:"spouse",children:"Spouse"}),e.jsx("option",{value:"son",children:"Son"}),e.jsx("option",{value:"daughter",children:"Daughter"}),e.jsx("option",{value:"father",children:"Father"}),e.jsx("option",{value:"mother",children:"Mother"}),e.jsx("option",{value:"brother",children:"Brother"}),e.jsx("option",{value:"sister",children:"Sister"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Budget *"}),e.jsx("input",{type:"number",step:"0.01",value:S.budget,onChange:_=>E({...S,budget:_.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Initial Balance *"}),e.jsx("input",{type:"number",step:"0.01",value:S.initialBalance,onChange:_=>E({...S,initialBalance:_.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Currency"}),e.jsxs("select",{value:S.currency,onChange:_=>E({...S,currency:_.target.value}),children:[e.jsx("option",{value:"INR",children:"INR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"}),e.jsx("option",{value:"JPY",children:"JPY"})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Notes"}),e.jsx("textarea",{value:S.notes,onChange:_=>E({...S,notes:_.target.value}),rows:"3"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{h(!1),G()},children:"Cancel"}),e.jsxs("button",{type:"submit",children:[d?"Update":"Add"," Member"]})]})]})]})})]})})},f2=({transactions:t,currency:n="INR",initialBalance:a=0,onEdit:r,onDelete:i})=>{if(t.length===0)return e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:'No transactions yet. Click "Add Transaction" to record an expense or income.'})});let o=a;return e.jsx("div",{className:"transaction-table-wrapper",children:e.jsxs("table",{className:"transaction-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Sr. No."}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Mode of Transaction"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Type of Transaction"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Relevance/Expense Type"}),e.jsx("th",{children:"Details (Narration)"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map((u,h)=>{const p=u.type==="withdrawal"||u.type==="purchase"||u.type==="payment"||u.type==="fee"||u.type==="expense",f=u.type==="deposit"||u.type==="refund"||u.type==="income"||u.type==="interest",d=p?u.amount:0,v=f?u.amount:0;return p?o-=u.amount:f&&(o+=u.amount),e.jsxs("tr",{children:[e.jsx("td",{className:"sr-no",children:h+1}),e.jsx("td",{className:"date-col",children:new Date(u.date).toLocaleDateString("en-IN")}),e.jsx("td",{className:"mode-col",children:e.jsx("span",{className:"mode-badge",children:u.modeOfTransaction?u.modeOfTransaction.toUpperCase().replace(/-/g," "):u.type==="purchase"||u.type==="payment"?"CARD":"NEFT"})}),e.jsx("td",{className:"description-col",children:u.merchant||u.description||"-"}),e.jsx("td",{className:"debit-amount",children:d>0?`${n} ${d.toLocaleString("en-IN")}`:"-"}),e.jsx("td",{className:"credit-amount",children:v>0?`${n} ${v.toLocaleString("en-IN")}`:"-"}),e.jsxs("td",{className:`balance-amount ${o<0?"negative":""}`,children:[n," ",o.toLocaleString("en-IN")]}),e.jsx("td",{className:"transaction-type-col",children:u.transactionType?u.transactionType.replace(/-/g," ").replace(/\b\w/g,y=>y.toUpperCase()):"-"}),e.jsx("td",{className:"category-col",children:u.category?u.category.replace(/-/g," ").replace(/\b\w/g,y=>y.toUpperCase()):"-"}),e.jsx("td",{className:"expense-type-col",children:u.expenseType?u.expenseType.replace(/-/g," ").replace(/\b\w/g,y=>y.toUpperCase()):"-"}),e.jsx("td",{className:"narration-col",children:u.narration||u.notes||u.description||"-"}),e.jsx("td",{className:"actions-col",children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{onClick:()=>r&&r(u),className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>i&&i(u._id),className:"delete-btn",children:"Delete"})]})})]},u._id)})})]})})},xh=({children:t})=>typeof document>"u"?null:O_.createPortal(t,document.body),RQ=()=>{const[t,n]=x.useState("cash"),[a,r]=x.useState([]),[i,o]=x.useState([]),[u,h]=x.useState([]),[p,f]=x.useState(!1),[d,v]=x.useState(!1),[y,C]=x.useState(!1),[N,j]=x.useState([]),[w,O]=x.useState({accountId:"",type:"withdrawal",amount:"",merchant:"",category:"other",description:"",date:new Date().toISOString().split("T")[0],currency:"INR",transactionType:"",expenseType:""}),[S,E]=x.useState(!1),[T,k]=x.useState(null),[F,P]=x.useState([]),[W,R]=x.useState(null),[U,J]=x.useState(!1),[se,X]=x.useState(null),[le,G]=x.useState(!0),[M,B]=x.useState(!0),[re,Z]=x.useState("all"),[te,_]=x.useState("all"),[z,L]=x.useState(null),[$,q]=x.useState(null),[A,K]=x.useState(""),[xe,V]=x.useState(""),[ee,me]=x.useState(""),[ue,H]=x.useState(""),[de,D]=x.useState("all"),[ne,be]=x.useState(""),[Ce,Ae]=x.useState(""),[_e,wt]=x.useState("all"),[qt,li]=x.useState(""),[dn,ce]=x.useState(""),[Ue,Ht]=x.useState({type:"cash",amount:"",currency:"INR",description:"",date:new Date().toISOString().slice(0,10),location:"",transactionType:"",expenseType:"",walletProvider:"",walletNumber:"",walletType:"prepaid",cryptoType:"",exchange:"",walletAddress:"",notes:""}),[Re,Dt]=x.useState({type:"credit-card",name:"",issuer:"",cardNumber:"",cardholderName:"",expiryDate:"",cvv:"",creditLimit:"",availableCredit:"",interestRate:"",minimumPayment:"",billingCycle:"monthly",dueDate:"",linkedAccount:"",bankName:"",currency:"INR",isInternational:!1,contactless:!1,transactionType:"",expenseType:"",description:"",notes:""}),[Ee,Je]=x.useState({type:"savings",name:"",bankName:"",accountNumber:"",accountHolderName:"",currency:"INR",balance:"0",depositAmount:"",interestRate:"",tenure:"",maturityDate:"",autoRenewal:!1,jointHolders:[],ifscCode:"",micrCode:"",branchName:"",branchAddress:"",city:"",state:"",pincode:"",netBankingEnabled:!1,mobileBankingEnabled:!1,upiEnabled:!1,upiId:"",nomineeName:"",nomineeRelationship:"",nomineeAge:"",nomineeContact:"",transactionType:"",expenseType:"",description:"",notes:""}),[bt,hn]=x.useState({cardId:"",type:"purchase",amount:"",merchant:"",category:"",description:"",date:new Date().toISOString().split("T")[0],currency:"INR",transactionType:"",expenseType:""});x.useEffect(()=>{Vt()},[]);const Vt=async()=>{try{const[Q,Ke,rt,mt,gs]=await Promise.all([oe.get("/cash"),oe.get("/cards"),oe.get("/bank"),oe.get("/transactions"),oe.get("/bank-transactions")]);r(Q.data),o(Ke.data),h(rt.data),j(mt.data),P(gs.data),G(!1)}catch(Q){console.error("Error fetching data:",Q),G(!1)}},Za=()=>{Dt({type:"credit-card",name:"",issuer:"",cardNumber:"",cardholderName:"",expiryDate:"",cvv:"",creditLimit:"",availableCredit:"",interestRate:"",minimumPayment:"",billingCycle:"monthly",dueDate:"",linkedAccount:"",bankName:"",currency:"INR",isInternational:!1,contactless:!1,transactionType:"",expenseType:"",description:"",notes:""})},Bn=()=>{Je({type:"savings",name:"",bankName:"",accountNumber:"",accountHolderName:"",currency:"INR",balance:"0",depositAmount:"",interestRate:"",tenure:"",maturityDate:"",autoRenewal:!1,jointHolders:[],ifscCode:"",micrCode:"",branchName:"",branchAddress:"",city:"",state:"",pincode:"",netBankingEnabled:!1,mobileBankingEnabled:!1,upiEnabled:!1,upiId:"",nomineeName:"",nomineeRelationship:"",nomineeAge:"",nomineeContact:"",transactionType:"",expenseType:"",description:"",notes:""})},Eo=()=>{hn({cardId:"",type:"purchase",amount:"",merchant:"",category:"",description:"",date:new Date().toISOString().split("T")[0],currency:"INR",transactionType:"",expenseType:""})},Do=()=>{O({accountId:"",type:"withdrawal",amount:"",merchant:"",category:"other",description:"",date:new Date().toISOString().split("T")[0],currency:"INR",transactionType:"",expenseType:""})},Tf=async Q=>{Q.preventDefault();try{se?await oe.put(`/cards/${se._id}`,Re):await oe.post("/cards",Re),Za(),v(!1),X(null),Vt()}catch(Ke){console.error("Error saving card:",Ke),alert("Error saving card")}},Zi=async Q=>{Q.preventDefault();try{se?await oe.put(`/bank/${se._id}`,Ee):await oe.post("/bank",Ee),Bn(),J(!1),X(null),Vt()}catch(Ke){console.error("Error saving bank account:",Ke),alert("Error saving bank account")}},Qi=async Q=>{Q.preventDefault();try{let Ke;const rt={...bt};if(rt.inventoryCategory){const mt=`[Inventory: ${rt.inventoryCategory}]`;rt.description=rt.description?`${mt} ${rt.description}`:mt,delete rt.inventoryCategory}if(W)Ke=await oe.put(`/transactions/${W._id}`,rt),j(N.map(mt=>mt._id===W._id?Ke.data:mt));else{Ke=await oe.post("/transactions",rt);const mt=Ke.data;j([...N,mt]),await qy(bt,"card")}Eo(),C(!1),R(null),Vt()}catch(Ke){console.error("Error saving transaction:",Ke),alert("Error saving transaction")}},Ji=async Q=>{Q.preventDefault();try{let Ke;const rt={...w};if(rt.inventoryCategory){const mt=`[Inventory: ${rt.inventoryCategory}]`;rt.description=rt.description?`${mt} ${rt.description}`:mt,delete rt.inventoryCategory}if(T)Ke=await oe.put(`/bank-transactions/${T._id}`,rt),P(F.map(mt=>mt._id===T._id?Ke.data:mt));else{Ke=await oe.post("/bank-transactions",rt);const mt=Ke.data;P([...F,mt]),await qy(w,"bank")}Do(),E(!1),k(null),Vt()}catch(Ke){console.error("Error saving bank transaction:",Ke),alert("Error saving bank transaction")}},Qa=(Q,Ke)=>{if(X(Q),Ke==="cash"){const rt={...Q,date:Q.date?Q.date.split("T")[0]:new Date(Q.createdAt).toISOString().split("T")[0]};Ht(rt),f(!0),n("cash")}else Ke==="card"?(console.log("Editing card:",Q),Dt(Q),v(!0),n("cards"),console.log("showCardForm set to true, current value:",d)):Ke==="bank"?(Je(Q),J(!0),n("bank")):Ke==="transaction"&&(hn({cardId:Q.cardId._id||Q.cardId,type:Q.type,amount:Q.amount,merchant:Q.merchant,category:Q.category,description:Q.description,date:new Date(Q.date).toISOString().split("T")[0],currency:Q.currency,transactionType:Q.transactionType||"",expenseType:Q.expenseType||""}),R(Q),C(!0),n("cards"))},oi=async(Q,Ke)=>{if(window.confirm("Are you sure you want to delete this item?"))try{await oe.delete(`/${Ke}/${Q}`),Vt()}catch(rt){console.error("Error deleting item:",rt),alert("Error deleting item")}},ci=Q=>{Qa(Q,"transaction")},Mf=async Q=>{if(window.confirm("Are you sure you want to delete this transaction?"))try{await oe.delete(`/transactions/${Q}`),j(N.filter(Ke=>Ke._id!==Q)),Vt()}catch(Ke){console.error("Error deleting transaction:",Ke),alert("Error deleting transaction")}},Bu=Q=>{O({accountId:Q.accountId._id||Q.accountId,type:Q.type,amount:Q.amount,merchant:Q.merchant,category:Q.category,description:Q.description,date:new Date(Q.date).toISOString().split("T")[0],currency:Q.currency,transactionType:Q.transactionType||"",expenseType:Q.expenseType||""}),k(Q),E(!0),n("bank")},Oo=async Q=>{if(window.confirm("Are you sure you want to delete this bank transaction?"))try{await oe.delete(`/bank-transactions/${Q}`),P(F.filter(Ke=>Ke._id!==Q)),Vt()}catch(Ke){console.error("Error deleting bank transaction:",Ke),alert("Error deleting bank transaction")}};if(le)return e.jsx("div",{className:"loading",children:"Loading..."});const xs=Q=>{let Ke=parseFloat(Q.balance||0);console.log("Account:",Q),console.log("All bank transactions:",F);const rt=F.filter(Da=>{const Ja=typeof Da.accountId=="object"&&Da.accountId._id||Da.accountId;return console.log("Comparing:",Ja,"with",Q._id),Ja===Q._id});console.log("Account transactions:",rt);const mt=rt.reduce((Da,Ja)=>{const Po=parseFloat(Ja.amount||0);return Ja.type==="deposit"?Da+Po:Ja.type==="withdrawal"||Ja.type==="payment"||Ja.type==="transfer"?Da-Po:Da},0),gs=Ke+mt;return console.log("Original balance:",Ke,"Net transactions:",mt,"Final balance:",gs),gs};return e.jsxs("div",{className:"cash-cards-bank",children:[e.jsx("h1",{children:"Cash, Cards & Bank Transactions"}),e.jsxs("div",{className:"tabs",children:[e.jsxs("button",{className:`tab ${t==="cash"?"active":""}`,onClick:()=>n("cash"),children:["Cash (",a.length,")"]}),e.jsxs("button",{className:`tab ${t==="cards"?"active":""}`,onClick:()=>n("cards"),children:["Cards (",i.length,")"]}),e.jsxs("button",{className:`tab ${t==="bank"?"active":""}`,onClick:()=>n("bank"),children:["Bank (",u.length,")"]}),e.jsx("button",{className:`tab chart-toggle ${M?"active":""}`,onClick:()=>B(!M),children:M?"Hide Chart":"Show Chart"})]}),t==="cash"&&e.jsx(IQ,{}),t==="cards"&&e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Card Management"}),e.jsxs("div",{className:"header-buttons",children:[e.jsx("button",{className:"add-btn card-btn",onClick:()=>{Za(),X(null),v(!0)},children:"Add Card"}),e.jsx("button",{className:"add-btn transaction-btn",onClick:()=>{Eo(),C(!0)},children:"Add Transaction"})]})]}),d&&e.jsx(xh,{children:e.jsx("div",{className:"ccb-modal",children:e.jsxs("div",{className:"ccb-modal-content",children:[e.jsxs("h3",{children:[se?"Edit":"Add"," Card"]}),e.jsxs("form",{onSubmit:Tf,autoComplete:"off",children:[e.jsxs("div",{className:"form-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type:"}),e.jsxs("select",{value:Re.type,onChange:Q=>Dt({...Re,type:Q.target.value}),children:[e.jsx("option",{value:"credit-card",children:"Credit Card"}),e.jsx("option",{value:"debit-card",children:"Debit Card"}),e.jsx("option",{value:"prepaid-card",children:"Prepaid Card"}),e.jsx("option",{value:"gift-card",children:"Gift Card"}),e.jsx("option",{value:"loyalty-card",children:"Loyalty Card"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name:"}),e.jsx("input",{type:"text",value:Re.name,onChange:Q=>Dt({...Re,name:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Issuer:"}),e.jsx("input",{type:"text",value:Re.issuer,onChange:Q=>Dt({...Re,issuer:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Card Number:"}),e.jsx("input",{type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",value:Re.cardNumber,onChange:Q=>Dt({...Re,cardNumber:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cardholder Name:"}),e.jsx("input",{type:"text",value:Re.cardholderName,onChange:Q=>Dt({...Re,cardholderName:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expiry Date (MM/YY):"}),e.jsx("input",{type:"text",placeholder:"MM/YY",value:Re.expiryDate,onChange:Q=>Dt({...Re,expiryDate:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"CVV:"}),e.jsx("input",{type:"text",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",value:Re.cvv,onChange:Q=>Dt({...Re,cvv:Q.target.value}),required:!0})]}),Re.type==="credit-card"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Credit Limit:"}),e.jsx("input",{type:"number",step:"0.01",value:Re.creditLimit,onChange:Q=>Dt({...Re,creditLimit:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Interest Rate (%):"}),e.jsx("input",{type:"number",step:"0.01",value:Re.interestRate,onChange:Q=>Dt({...Re,interestRate:Q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Minimum Payment:"}),e.jsx("input",{type:"number",step:"0.01",value:Re.minimumPayment,onChange:Q=>Dt({...Re,minimumPayment:Q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Due Date:"}),e.jsx("input",{type:"number",min:"1",max:"31",value:Re.dueDate,onChange:Q=>Dt({...Re,dueDate:Q.target.value})})]})]}),Re.type==="debit-card"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Linked Account:"}),e.jsx("input",{type:"text",value:Re.linkedAccount,onChange:Q=>Dt({...Re,linkedAccount:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name:"}),e.jsx("input",{type:"text",value:Re.bankName,onChange:Q=>Dt({...Re,bankName:Q.target.value})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Currency:"}),e.jsxs("select",{value:Re.currency,onChange:Q=>Dt({...Re,currency:Q.target.value}),children:[e.jsx("option",{value:"INR",children:"INR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"}),e.jsx("option",{value:"JPY",children:"JPY"})]})]}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Re.isInternational,onChange:Q=>Dt({...Re,isInternational:Q.target.checked})}),"International Card"]})}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Re.contactless,onChange:Q=>Dt({...Re,contactless:Q.target.checked})}),"Contactless Enabled"]})}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Description:"}),e.jsx("textarea",{value:Re.description,onChange:Q=>Dt({...Re,description:Q.target.value}),rows:2})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Notes:"}),e.jsx("textarea",{value:Re.notes,onChange:Q=>Dt({...Re,notes:Q.target.value}),rows:2})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>v(!1),children:"Cancel"}),e.jsx("button",{type:"submit",children:se?"Update":"Save"})]})]})]})})}),y&&e.jsx(xh,{children:e.jsx("div",{className:"ccb-modal",children:e.jsxs("div",{className:"ccb-modal-content",children:[e.jsxs("h3",{children:[W?"Edit":"Add"," Card Transaction"]}),e.jsxs("form",{onSubmit:Qi,autoComplete:"off",children:[e.jsxs("div",{className:"form-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Select Card:"}),e.jsxs("select",{value:bt.cardId,onChange:Q=>hn({...bt,cardId:Q.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Choose a card..."}),i.map(Q=>e.jsxs("option",{value:Q._id,children:[Q.name," - ",Q.issuer]},Q._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Transaction Type:"}),e.jsxs("select",{value:bt.type,onChange:Q=>hn({...bt,type:Q.target.value}),children:[e.jsx("option",{value:"purchase",children:"Purchase"}),e.jsx("option",{value:"payment",children:"Payment"}),e.jsx("option",{value:"withdrawal",children:"Cash Withdrawal"}),e.jsx("option",{value:"refund",children:"Refund"}),e.jsx("option",{value:"fee",children:"Fee/Charge"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amount:"}),e.jsx("input",{type:"number",step:"0.01",value:bt.amount,onChange:Q=>hn({...bt,amount:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Currency:"}),e.jsxs("select",{value:bt.currency,onChange:Q=>hn({...bt,currency:Q.target.value}),children:[e.jsx("option",{value:"INR",children:"INR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Merchant/Description:"}),e.jsx("input",{type:"text",value:bt.merchant,onChange:Q=>hn({...bt,merchant:Q.target.value}),placeholder:"e.g., Amazon, Grocery Store",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category:"}),e.jsxs("select",{value:bt.category,onChange:Q=>hn({...bt,category:Q.target.value}),children:[e.jsx("option",{value:"",children:"Select category..."}),e.jsx("option",{value:"food",children:"Food & Dining"}),e.jsx("option",{value:"shopping",children:"Shopping"}),e.jsx("option",{value:"transport",children:"Transportation"}),e.jsx("option",{value:"entertainment",children:"Entertainment"}),e.jsx("option",{value:"utilities",children:"Utilities"}),e.jsx("option",{value:"healthcare",children:"Healthcare"}),e.jsx("option",{value:"education",children:"Education"}),e.jsx("option",{value:"inventory",children:" Inventory"}),e.jsx("option",{value:"other",children:"Other"})]})]}),bt.category==="inventory"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Inventory Category:"}),e.jsxs("select",{value:bt.inventoryCategory||"",onChange:Q=>hn({...bt,inventoryCategory:Q.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select inventory type..."}),e.jsx("option",{value:"Electronics",children:" Electronics"}),e.jsx("option",{value:"Appliances",children:" Appliances"}),e.jsx("option",{value:"Furniture",children:" Furniture"}),e.jsx("option",{value:"Vehicles",children:" Vehicles"}),e.jsx("option",{value:"Tools",children:" Tools & Equipment"}),e.jsx("option",{value:"Books",children:" Books & Media"}),e.jsx("option",{value:"Clothing",children:" Clothing & Accessories"}),e.jsx("option",{value:"Jewelry",children:" Jewelry"}),e.jsx("option",{value:"Sports",children:" Sports Equipment"}),e.jsx("option",{value:"Other",children:" Other Items"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date:"}),e.jsx("input",{type:"date",value:bt.date,onChange:Q=>hn({...bt,date:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type of Transaction:"}),e.jsxs("select",{value:bt.transactionType,onChange:Q=>hn({...bt,transactionType:Q.target.value}),children:[e.jsx("option",{value:"",children:"Select type..."}),e.jsx("option",{value:"expense",children:"Expense"}),e.jsx("option",{value:"transfer",children:"Transfer"}),e.jsx("option",{value:"loan-give",children:"Loan Give"}),e.jsx("option",{value:"loan-take",children:"Loan Take"}),e.jsx("option",{value:"on-behalf-in",children:"On-behalf - Amount In"}),e.jsx("option",{value:"on-behalf-out",children:"On-behalf - Amount Out"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expense Type:"}),e.jsxs("select",{value:bt.expenseType,onChange:Q=>hn({...bt,expenseType:Q.target.value}),children:[e.jsx("option",{value:"",children:"Select type..."}),e.jsx("option",{value:"important-necessary",children:"Important & Necessary"}),e.jsx("option",{value:"less-important",children:"Less Important"}),e.jsx("option",{value:"avoidable-loss",children:"Avoidable & Loss"}),e.jsx("option",{value:"unnecessary",children:"Un-necessary"}),e.jsx("option",{value:"basic-necessity",children:"Basic Necessity"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description (Optional):"}),e.jsx("textarea",{value:bt.description,onChange:Q=>hn({...bt,description:Q.target.value}),placeholder:"Additional notes...",rows:"3"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{C(!1),R(null),Eo()},children:"Cancel"}),e.jsxs("button",{type:"submit",children:[W?"Update":"Add"," Transaction"]})]})]})]})})}),z?e.jsxs("div",{children:[e.jsx("button",{onClick:()=>L(null),className:"add-btn",style:{marginBottom:"20px"},children:" Back to All Cards"}),e.jsx("div",{className:"selected-card-info",style:{background:"linear-gradient(135deg, #1a1a2e, #16213e)",borderRadius:"12px",padding:"20px",color:"white",marginBottom:"20px"},children:e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"16px",alignItems:"center",fontSize:"15px",fontWeight:500},children:[e.jsxs("span",{children:["Card: ",z.name]}),e.jsxs("span",{children:["Type: ",z.type.replace("-"," ").toUpperCase()]}),e.jsxs("span",{children:["Issuer: ",z.issuer]}),e.jsxs("span",{children:["Card Number: ****-****-****-",z.cardNumber.slice(-4)]})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-dropdown",style:{marginBottom:"20px"},children:[e.jsx("label",{children:"Card Name:"}),e.jsx("input",{type:"text",placeholder:"Search by card name...",value:A,onChange:Q=>K(Q.target.value),style:{padding:"8px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",minWidth:"200px"}}),e.jsx("label",{children:"Cardholder Name:"}),e.jsx("input",{type:"text",placeholder:"Search by cardholder...",value:xe,onChange:Q=>V(Q.target.value),style:{padding:"8px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",minWidth:"200px"}})]}),e.jsxs("div",{className:"records-table",children:[e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Cardholder Name"}),e.jsx("th",{children:"Card Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Issuer"}),e.jsx("th",{children:"Card Number"}),e.jsx("th",{children:"Expiry"}),e.jsx("th",{children:"Credit Limit"}),e.jsx("th",{children:"Currency"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:i.filter(Q=>!(A&&!Q.name.toLowerCase().includes(A.toLowerCase())||xe&&!Q.cardholderName.toLowerCase().includes(xe.toLowerCase()))).map(Q=>e.jsxs("tr",{children:[e.jsx("td",{children:Q.cardholderName}),e.jsx("td",{children:e.jsx("span",{onClick:()=>L(Q),style:{color:"#007bff",cursor:"pointer",fontWeight:"600",textDecoration:"underline"},children:Q.name})}),e.jsx("td",{children:e.jsx("span",{className:`record-type-badge ${Q.type.split("-").join(" ")}`,children:Q.type.replace("-"," ")})}),e.jsx("td",{children:Q.issuer}),e.jsxs("td",{children:["****-****-****-",Q.cardNumber.slice(-4)]}),e.jsx("td",{children:Q.expiryDate}),e.jsx("td",{children:Q.creditLimit?`${Q.currency} ${Q.creditLimit}`:"-"}),e.jsx("td",{children:Q.currency}),e.jsx("td",{children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{onClick:()=>Qa(Q,"card"),className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>oi(Q._id,"cards"),className:"delete-btn",children:"Delete"})]})})]},Q._id))})]}),i.filter(Q=>!(A&&!Q.name.toLowerCase().includes(A.toLowerCase())||xe&&!Q.cardholderName.toLowerCase().includes(xe.toLowerCase()))).length===0&&e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:A||xe?"No cards found matching the filters.":"No cards added yet. Add your first card to get started!"})})]})]}),z&&e.jsxs("div",{className:"transactions-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("h3",{children:["Transactions for ",z.name]}),e.jsxs("div",{className:"filter-dropdown",children:[e.jsx("label",{children:"Expense Type:"}),e.jsxs("select",{value:de,onChange:Q=>D(Q.target.value),children:[e.jsx("option",{value:"all",children:"All Expense Types"}),e.jsx("option",{value:"important-necessary",children:"Important & Necessary"}),e.jsx("option",{value:"less-important",children:"Less Important"}),e.jsx("option",{value:"avoidable-loss",children:"Avoidable & Loss"}),e.jsx("option",{value:"unnecessary",children:"Un-necessary"}),e.jsx("option",{value:"basic-necessity",children:"Basic Necessity"})]}),e.jsx("label",{children:"From Date:"}),e.jsx("input",{type:"date",value:ne,onChange:Q=>be(Q.target.value),style:{padding:"8px 12px",border:"2px solid #e5e7eb",borderRadius:"8px"}}),e.jsx("label",{children:"To Date:"}),e.jsx("input",{type:"date",value:Ce,onChange:Q=>Ae(Q.target.value),style:{padding:"8px 12px",border:"2px solid #e5e7eb",borderRadius:"8px"}})]})]}),e.jsx(f2,{transactions:N.filter(Q=>{if((typeof Q.cardId=="object"&&Q.cardId._id||Q.cardId)!==z._id||de!=="all"&&Q.expenseType!==de)return!1;const rt=new Date(Q.date);if(ne&&rt<new Date(ne))return!1;if(Ce){const mt=new Date(Ce);if(mt.setHours(23,59,59,999),rt>mt)return!1}return!0}),currency:z.currency||"INR",initialBalance:z.creditLimit||0,onEdit:ci,onDelete:Mf})]})]}),t==="bank"&&e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Bank Accounts"}),e.jsxs("div",{className:"header-buttons",children:[e.jsx("button",{className:"add-btn",onClick:()=>{Bn(),X(null),J(!0)},children:"Add Bank Account"}),e.jsx("button",{className:"add-btn transaction-btn",onClick:()=>{Do(),E(!0)},children:"Add Bank Transaction"})]})]}),U&&e.jsx(xh,{children:e.jsx("div",{className:"ccb-modal",children:e.jsxs("div",{className:"ccb-modal-content",children:[e.jsxs("h3",{children:[se?"Edit":"Add"," Bank Account"]}),e.jsxs("form",{onSubmit:Zi,autoComplete:"off",children:[e.jsxs("div",{className:"form-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Type:"}),e.jsxs("select",{value:Ee.type,onChange:Q=>Je({...Ee,type:Q.target.value}),children:[e.jsx("option",{value:"savings",children:"Savings"}),e.jsx("option",{value:"current",children:"Current"}),e.jsx("option",{value:"fixed-deposit",children:"Fixed Deposit"}),e.jsx("option",{value:"recurring-deposit",children:"Recurring Deposit"}),e.jsx("option",{value:"nri-account",children:"NRI Account"}),e.jsx("option",{value:"joint-account",children:"Joint Account"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Name:"}),e.jsx("input",{type:"text",value:Ee.name,onChange:Q=>Je({...Ee,name:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Name:"}),e.jsx("input",{type:"text",value:Ee.bankName,onChange:Q=>Je({...Ee,bankName:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Number:"}),e.jsx("input",{type:"text",value:Ee.accountNumber,onChange:Q=>Je({...Ee,accountNumber:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Holder Name:"}),e.jsx("input",{type:"text",value:Ee.accountHolderName,onChange:Q=>Je({...Ee,accountHolderName:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Currency:"}),e.jsxs("select",{value:Ee.currency,onChange:Q=>Je({...Ee,currency:Q.target.value}),children:[e.jsx("option",{value:"INR",children:"INR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"}),e.jsx("option",{value:"JPY",children:"JPY"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Balance:"}),e.jsx("input",{type:"number",step:"0.01",value:Ee.balance,onChange:Q=>Je({...Ee,balance:Q.target.value}),required:!0})]}),(Ee.type==="fixed-deposit"||Ee.type==="recurring-deposit")&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Deposit Amount:"}),e.jsx("input",{type:"number",step:"0.01",value:Ee.depositAmount,onChange:Q=>Je({...Ee,depositAmount:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Interest Rate (%):"}),e.jsx("input",{type:"number",step:"0.01",value:Ee.interestRate,onChange:Q=>Je({...Ee,interestRate:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tenure (months):"}),e.jsx("input",{type:"number",value:Ee.tenure,onChange:Q=>Je({...Ee,tenure:Q.target.value}),required:!0})]}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Ee.autoRenewal,onChange:Q=>Je({...Ee,autoRenewal:Q.target.checked})}),"Auto Renewal"]})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"IFSC Code:"}),e.jsx("input",{type:"text",value:Ee.ifscCode,onChange:Q=>Je({...Ee,ifscCode:Q.target.value.toUpperCase()}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"MICR Code:"}),e.jsx("input",{type:"text",value:Ee.micrCode,onChange:Q=>Je({...Ee,micrCode:Q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Branch Name:"}),e.jsx("input",{type:"text",value:Ee.branchName,onChange:Q=>Je({...Ee,branchName:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Branch Address:"}),e.jsx("input",{type:"text",value:Ee.branchAddress,onChange:Q=>Je({...Ee,branchAddress:Q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"City:"}),e.jsx("input",{type:"text",value:Ee.city,onChange:Q=>Je({...Ee,city:Q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"State:"}),e.jsx("input",{type:"text",value:Ee.state,onChange:Q=>Je({...Ee,state:Q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Pincode:"}),e.jsx("input",{type:"text",value:Ee.pincode,onChange:Q=>Je({...Ee,pincode:Q.target.value})})]}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Ee.netBankingEnabled,onChange:Q=>Je({...Ee,netBankingEnabled:Q.target.checked})}),"Net Banking Enabled"]})}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Ee.mobileBankingEnabled,onChange:Q=>Je({...Ee,mobileBankingEnabled:Q.target.checked})}),"Mobile Banking Enabled"]})}),e.jsx("div",{className:"form-group checkbox-group",children:e.jsxs("label",{children:[e.jsx("input",{type:"checkbox",checked:Ee.upiEnabled,onChange:Q=>Je({...Ee,upiEnabled:Q.target.checked})}),"UPI Enabled"]})}),Ee.upiEnabled&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"UPI ID:"}),e.jsx("input",{type:"text",value:Ee.upiId,onChange:Q=>Je({...Ee,upiId:Q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nominee Name:"}),e.jsx("input",{type:"text",value:Ee.nomineeName,onChange:Q=>Je({...Ee,nomineeName:Q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nominee Relationship:"}),e.jsx("input",{type:"text",value:Ee.nomineeRelationship,onChange:Q=>Je({...Ee,nomineeRelationship:Q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nominee Age:"}),e.jsx("input",{type:"number",value:Ee.nomineeAge,onChange:Q=>Je({...Ee,nomineeAge:Q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Nominee Contact:"}),e.jsx("input",{type:"text",value:Ee.nomineeContact,onChange:Q=>Je({...Ee,nomineeContact:Q.target.value})})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Description:"}),e.jsx("textarea",{value:Ee.description,onChange:Q=>Je({...Ee,description:Q.target.value}),rows:2})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Notes:"}),e.jsx("textarea",{value:Ee.notes,onChange:Q=>Je({...Ee,notes:Q.target.value}),rows:2})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>J(!1),children:"Cancel"}),e.jsx("button",{type:"submit",children:se?"Update":"Save"})]})]})]})})}),S&&e.jsx(xh,{children:e.jsx("div",{className:"ccb-modal",children:e.jsxs("div",{className:"ccb-modal-content",children:[e.jsxs("h3",{children:[T?"Edit":"Add"," Bank Transaction"]}),e.jsxs("form",{onSubmit:Ji,autoComplete:"off",children:[e.jsxs("div",{className:"form-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Select Account:"}),e.jsxs("select",{value:w.accountId,onChange:Q=>O({...w,accountId:Q.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Choose an account..."}),u.map(Q=>e.jsxs("option",{value:Q._id,children:[Q.name," - ",Q.bankName]},Q._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Transaction Type:"}),e.jsxs("select",{value:w.type,onChange:Q=>O({...w,type:Q.target.value}),required:!0,children:[e.jsx("option",{value:"withdrawal",children:"Withdrawal"}),e.jsx("option",{value:"deposit",children:"Deposit"}),e.jsx("option",{value:"transfer",children:"Transfer"}),e.jsx("option",{value:"payment",children:"Payment"}),e.jsx("option",{value:"fee",children:"Fee"}),e.jsx("option",{value:"interest",children:"Interest"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amount:"}),e.jsx("input",{type:"number",step:"0.01",value:w.amount,onChange:Q=>O({...w,amount:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Merchant/Payee:"}),e.jsx("input",{type:"text",value:w.merchant,onChange:Q=>O({...w,merchant:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category:"}),e.jsxs("select",{value:w.category,onChange:Q=>O({...w,category:Q.target.value}),children:[e.jsx("option",{value:"",children:"Select category..."}),e.jsx("option",{value:"food",children:"Food & Dining"}),e.jsx("option",{value:"shopping",children:"Shopping"}),e.jsx("option",{value:"transportation",children:"Transportation"}),e.jsx("option",{value:"entertainment",children:"Entertainment"}),e.jsx("option",{value:"utilities",children:"Utilities"}),e.jsx("option",{value:"healthcare",children:"Healthcare"}),e.jsx("option",{value:"education",children:"Education"}),e.jsx("option",{value:"salary",children:"Salary"}),e.jsx("option",{value:"rent",children:"Rent"}),e.jsx("option",{value:"inventory",children:" Inventory"}),e.jsx("option",{value:"other",children:"Other"})]})]}),w.category==="inventory"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Inventory Category:"}),e.jsxs("select",{value:w.inventoryCategory||"",onChange:Q=>O({...w,inventoryCategory:Q.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select inventory type..."}),e.jsx("option",{value:"Electronics",children:" Electronics"}),e.jsx("option",{value:"Appliances",children:" Appliances"}),e.jsx("option",{value:"Furniture",children:" Furniture"}),e.jsx("option",{value:"Vehicles",children:" Vehicles"}),e.jsx("option",{value:"Tools",children:" Tools & Equipment"}),e.jsx("option",{value:"Books",children:" Books & Media"}),e.jsx("option",{value:"Clothing",children:" Clothing & Accessories"}),e.jsx("option",{value:"Jewelry",children:" Jewelry"}),e.jsx("option",{value:"Sports",children:" Sports Equipment"}),e.jsx("option",{value:"Other",children:" Other Items"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date:"}),e.jsx("input",{type:"date",value:w.date,onChange:Q=>O({...w,date:Q.target.value}),required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type of Transaction:"}),e.jsxs("select",{value:w.transactionType,onChange:Q=>O({...w,transactionType:Q.target.value}),children:[e.jsx("option",{value:"",children:"Select type..."}),e.jsx("option",{value:"expense",children:"Expense"}),e.jsx("option",{value:"transfer",children:"Transfer"}),e.jsx("option",{value:"loan-give",children:"Loan Give"}),e.jsx("option",{value:"loan-take",children:"Loan Take"}),e.jsx("option",{value:"on-behalf-in",children:"On-behalf - Amount In"}),e.jsx("option",{value:"on-behalf-out",children:"On-behalf - Amount Out"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Expense Type:"}),e.jsxs("select",{value:w.expenseType,onChange:Q=>O({...w,expenseType:Q.target.value}),children:[e.jsx("option",{value:"",children:"Select type..."}),e.jsx("option",{value:"important-necessary",children:"Important & Necessary"}),e.jsx("option",{value:"less-important",children:"Less Important"}),e.jsx("option",{value:"avoidable-loss",children:"Avoidable & Loss"}),e.jsx("option",{value:"unnecessary",children:"Un-necessary"}),e.jsx("option",{value:"basic-necessity",children:"Basic Necessity"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description (Optional):"}),e.jsx("textarea",{value:w.description,onChange:Q=>O({...w,description:Q.target.value}),placeholder:"Additional notes...",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Currency:"}),e.jsxs("select",{value:w.currency,onChange:Q=>O({...w,currency:Q.target.value}),children:[e.jsx("option",{value:"INR",children:"INR"}),e.jsx("option",{value:"USD",children:"USD"}),e.jsx("option",{value:"EUR",children:"EUR"}),e.jsx("option",{value:"GBP",children:"GBP"}),e.jsx("option",{value:"JPY",children:"JPY"})]})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",onClick:()=>{E(!1),k(null),Do()},children:"Cancel"}),e.jsxs("button",{type:"submit",children:[T?"Update":"Add"," Transaction"]})]})]})]})})}),$&&e.jsxs("div",{className:"transactions-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsxs("h3",{children:["Transactions for ",$.name]}),e.jsxs("div",{className:"filter-dropdown",children:[e.jsx("label",{children:"Expense Type:"}),e.jsxs("select",{value:_e,onChange:Q=>wt(Q.target.value),children:[e.jsx("option",{value:"all",children:"All Expense Types"}),e.jsx("option",{value:"important-necessary",children:"Important & Necessary"}),e.jsx("option",{value:"less-important",children:"Less Important"}),e.jsx("option",{value:"avoidable-loss",children:"Avoidable & Loss"}),e.jsx("option",{value:"unnecessary",children:"Un-necessary"}),e.jsx("option",{value:"basic-necessity",children:"Basic Necessity"})]}),e.jsx("label",{children:"From Date:"}),e.jsx("input",{type:"date",value:qt,onChange:Q=>li(Q.target.value),style:{padding:"8px 12px",border:"2px solid #e5e7eb",borderRadius:"8px"}}),e.jsx("label",{children:"To Date:"}),e.jsx("input",{type:"date",value:dn,onChange:Q=>ce(Q.target.value),style:{padding:"8px 12px",border:"2px solid #e5e7eb",borderRadius:"8px"}})]})]}),e.jsx(f2,{transactions:F.filter(Q=>{if((typeof Q.accountId=="object"&&Q.accountId._id||Q.accountId)!==$._id||_e!=="all"&&Q.expenseType!==_e)return!1;const rt=new Date(Q.date);if(qt&&rt<new Date(qt))return!1;if(dn){const mt=new Date(dn);if(mt.setHours(23,59,59,999),rt>mt)return!1}return!0}),currency:$.currency||"INR",initialBalance:parseFloat($.balance)||0,onEdit:Bu,onDelete:Oo})]}),$?e.jsxs("div",{children:[e.jsx("button",{onClick:()=>q(null),className:"add-btn",style:{marginBottom:"20px"},children:" Back to All Banks"}),e.jsxs("div",{className:"selected-card-info",style:{background:"linear-gradient(135deg, #1e3c72, #2a5298)",borderRadius:"12px",padding:"20px",color:"white",marginBottom:"20px"},children:[e.jsxs("h3",{style:{marginTop:0},children:["Bank Account: ",$.name]}),e.jsxs("p",{style:{margin:"5px 0"},children:["Type: ",$.type.replace("-"," ").toUpperCase()]}),e.jsxs("p",{style:{margin:"5px 0"},children:["Bank: ",$.bankName]}),e.jsxs("p",{style:{margin:"5px 0"},children:["Account Number: ****-****-",$.accountNumber?$.accountNumber.slice(-4):"****"]}),e.jsxs("p",{style:{margin:"5px 0"},children:["Balance: ",$.currency," ",xs($).toLocaleString()]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"filter-dropdown",style:{marginBottom:"20px"},children:[e.jsx("label",{children:"Account Name:"}),e.jsx("input",{type:"text",placeholder:"Search by account name...",value:ee,onChange:Q=>me(Q.target.value),style:{padding:"8px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",minWidth:"200px"}}),e.jsx("label",{children:"Account Holder:"}),e.jsx("input",{type:"text",placeholder:"Search by account holder...",value:ue,onChange:Q=>H(Q.target.value),style:{padding:"8px 12px",border:"2px solid #e5e7eb",borderRadius:"8px",minWidth:"200px"}})]}),e.jsxs("div",{className:"records-table",children:[e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Account Holder"}),e.jsx("th",{children:"Account Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Bank Name"}),e.jsx("th",{children:"Account Number"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"IFSC Code"}),e.jsx("th",{children:"Branch"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:u.filter(Q=>!(ee&&!Q.name.toLowerCase().includes(ee.toLowerCase())||ue&&!Q.accountHolderName.toLowerCase().includes(ue.toLowerCase()))).map(Q=>e.jsxs("tr",{children:[e.jsx("td",{children:Q.accountHolderName}),e.jsx("td",{children:e.jsx("span",{onClick:()=>q(Q),style:{color:"#007bff",cursor:"pointer",fontWeight:"600",textDecoration:"underline"},children:Q.name})}),e.jsx("td",{children:e.jsx("span",{className:`record-type-badge ${Q.type.split("-").join(" ")}`,children:Q.type.replace("-"," ")})}),e.jsx("td",{children:Q.bankName}),e.jsxs("td",{children:["****-****-",Q.accountNumber?Q.accountNumber.slice(-4):"****"]}),e.jsxs("td",{className:"amount",children:[Q.currency," ",xs(Q).toLocaleString()]}),e.jsx("td",{children:Q.ifscCode}),e.jsx("td",{children:Q.branchName||"-"}),e.jsx("td",{children:e.jsxs("div",{className:"table-actions",children:[e.jsx("button",{onClick:()=>Qa(Q,"bank"),className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>oi(Q._id,"bank"),className:"delete-btn",children:"Delete"})]})})]},Q._id))})]}),u.filter(Q=>!(ee&&!Q.name.toLowerCase().includes(ee.toLowerCase())||ue&&!Q.accountHolderName.toLowerCase().includes(ue.toLowerCase()))).length===0&&e.jsx("div",{className:"empty-state",children:e.jsx("p",{children:ee||ue?"No bank accounts found matching the filters.":"No bank accounts added yet. Add your first bank account to get started!"})})]})]})]}),M&&(a.length>0||i.length>0||u.length>0||N.length>0||F.length>0)&&e.jsx(MQ,{cashRecords:a,cardRecords:i,bankRecords:u,cardTransactions:N,bankTransactions:F})]})},_Q=()=>{const[t,n]=x.useState(!1),[a,r]=x.useState(!1),[i,o]=x.useState(!1),u=x.useRef(null),[h,p]=x.useState([]),[f,d]=x.useState([]),[v,y]=x.useState([]),[C,N]=x.useState(!1),[j,w]=x.useState(!1),[O,S]=x.useState(null),[E,T]=x.useState(""),[k,F]=x.useState(!1),[P,W]=x.useState(null),[R,U]=x.useState(!1),[J,se]=x.useState(""),[X,le]=x.useState({date:new Date().toISOString().slice(0,10),loanType:"Lent",nameOfPerson:"",forPurpose:"",amount:"",finalDateOfReturn:"",paymentDetails:"",comments:""}),[G,M]=x.useState({dateOfReturn:new Date().toISOString().slice(0,10),amountReturned:"",paymentDetails:"",comments:""}),[B,re]=x.useState({date:new Date().toISOString().slice(0,10),paidOnBehalfOf:"",amountPaid:"",forPurpose:"",paymentDetails:"",receivedAmount:"",dateOfReceipt:new Date().toISOString().slice(0,10),receiptPaymentDetails:"",comments:""}),[Z,te]=x.useState({dateOfReceipt:new Date().toISOString().slice(0,10),amountReceived:"",receiptPaymentDetails:"",comments:""});x.useEffect(()=>{(t||a||i||R)&&u.current&&setTimeout(()=>{u.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},[t,a,i,R]),x.useEffect(()=>{_()},[]);const _=async()=>{try{N(!0);const ee=((await De.getAll("loan-ledger")).data.investments||[]).map(H=>{const de=JSON.parse(H.notes||"{}");return{_id:H._id,date:H.startDate,loanType:H.type||"Lent",nameOfPerson:H.name,forPurpose:de.forPurpose||"",amount:H.amount,finalDateOfReturn:H.maturityDate,paymentDetails:H.source||"",comments:de.comments||"",totalPaid:de.totalPaid||0,balanceAmount:de.balanceAmount||H.amount,payments:de.payments||[],notes:H.notes}});p(ee);const ue=((await De.getAll("on-behalf")).data.investments||[]).map(H=>{const de=JSON.parse(H.notes||"{}");return{_id:H._id,date:H.startDate,paidOnBehalfOf:H.name,amountPaid:H.amount,forPurpose:de.forPurpose||"",paymentDetails:H.source||"",receivedAmount:de.receivedAmount||0,totalReceived:de.totalReceived||de.receivedAmount||0,balanceToReceive:H.amount-(de.totalReceived||de.receivedAmount||0),dateOfReceipt:de.dateOfReceipt||H.maturityDate,receiptPaymentDetails:de.receiptPaymentDetails||"",comments:de.comments||"",receipts:de.receipts||[],notes:H.notes}});y(ue)}catch(V){console.error("Error fetching data:",V),p([]),y([])}finally{N(!1)}},z=x.useMemo(()=>{const V=h.filter(Ae=>Ae.loanType==="Lent"),ee=h.filter(Ae=>Ae.loanType==="Borrowed"),me=V.reduce((Ae,_e)=>Ae+Number(_e.amount||0),0),ue=V.reduce((Ae,_e)=>Ae+Number(_e.totalPaid||0),0),H=me-ue,de=ee.reduce((Ae,_e)=>Ae+Number(_e.amount||0),0),D=ee.reduce((Ae,_e)=>Ae+Number(_e.totalPaid||0),0),ne=de-D,be=v.reduce((Ae,_e)=>Ae+Number(_e.amountPaid||0),0),Ce=v.reduce((Ae,_e)=>Ae+Number(_e.receivedAmount||0),0);return{totalLentAmount:me,totalLentPaid:ue,totalLentBalance:H,totalBorrowedAmount:de,totalBorrowedPaid:D,totalBorrowedBalance:ne,totalOnBehalf:be,totalReceived:Ce,lentCount:V.length,borrowedCount:ee.length,count:h.length}},[h,v]),L=async V=>{V.preventDefault();try{w(!0);const ee={category:"loan-ledger",type:X.loanType,name:X.nameOfPerson,amount:Number(X.amount),startDate:X.date,maturityDate:X.finalDateOfReturn||X.date,frequency:"one-time",source:X.paymentDetails,notes:JSON.stringify({forPurpose:X.forPurpose,comments:X.comments,totalPaid:0,balanceAmount:Number(X.amount),payments:[]})};await De.create(ee),await _(),le({date:new Date().toISOString().slice(0,10),loanType:"Lent",nameOfPerson:"",forPurpose:"",amount:"",finalDateOfReturn:"",paymentDetails:"",comments:""}),n(!1),alert("Loan record saved successfully!")}catch(ee){console.error("Error saving loan:",ee),alert("Error saving loan record: "+(ee.response?.data?.message||ee.message))}finally{w(!1)}},$=async V=>{V.preventDefault();try{w(!0);const ee=Number(G.amountReturned),me=h.find(be=>be._id===E);if(!me){alert("Loan not found");return}const ue=JSON.parse(me.notes||"{}"),H=(ue.totalPaid||0)+ee,de=me.amount-H,D=[...ue.payments||[],{date:G.dateOfReturn,amount:ee,paymentDetails:G.paymentDetails,comments:G.comments}],ne={...ue,totalPaid:H,balanceAmount:de,payments:D};await De.update(E,{notes:JSON.stringify(ne)}),await _(),M({dateOfReturn:new Date().toISOString().slice(0,10),amountReturned:"",paymentDetails:"",comments:""}),T(""),r(!1),alert("Payment recorded successfully!")}catch(ee){console.error("Error saving payment:",ee),alert("Error saving payment record: "+(ee.response?.data?.message||ee.message))}finally{w(!1)}},q=async V=>{V.preventDefault();try{w(!0);const ee={category:"on-behalf",type:"On Behalf",name:B.paidOnBehalfOf,amount:Number(B.amountPaid),startDate:B.date,maturityDate:B.dateOfReceipt||B.date,frequency:"one-time",source:B.paymentDetails,notes:JSON.stringify({forPurpose:B.forPurpose,receivedAmount:Number(B.receivedAmount||0),dateOfReceipt:B.dateOfReceipt,receiptPaymentDetails:B.receiptPaymentDetails,comments:B.comments})};await De.create(ee),await _(),re({date:new Date().toISOString().slice(0,10),paidOnBehalfOf:"",amountPaid:"",forPurpose:"",paymentDetails:"",receivedAmount:"",dateOfReceipt:new Date().toISOString().slice(0,10),receiptPaymentDetails:"",comments:""}),o(!1),alert("On behalf record saved successfully!")}catch(ee){console.error("Error saving on behalf record:",ee),alert("Error saving on behalf record: "+(ee.response?.data?.message||ee.message))}finally{w(!1)}},A=async(V,ee)=>{if(window.confirm("Delete this record?"))try{await De.delete(ee),await _(),alert("Record deleted successfully!")}catch(me){console.error("Error deleting record:",me),alert("Error deleting record: "+(me.response?.data?.message||me.message))}},K=V=>{W(V),F(!0)},xe=async V=>{V.preventDefault();try{w(!0);const ee=Number(Z.amountReceived),me=v.find(be=>be._id===J);if(!me){alert("On behalf entry not found");return}const ue=JSON.parse(me.notes||"{}"),H=(ue.totalReceived||ue.receivedAmount||0)+ee,de=me.amountPaid-H,D=[...ue.receipts||[],{date:Z.dateOfReceipt,amount:ee,paymentDetails:Z.receiptPaymentDetails,comments:Z.comments}],ne={...ue,totalReceived:H,balanceToReceive:de,receipts:D,receivedAmount:H};await De.update(J,{notes:JSON.stringify(ne)}),await _(),te({dateOfReceipt:new Date().toISOString().slice(0,10),amountReceived:"",receiptPaymentDetails:"",comments:""}),se(""),U(!1),alert("Receipt recorded successfully!")}catch(ee){console.error("Error saving receipt:",ee),alert("Error saving receipt record: "+(ee.response?.data?.message||ee.message))}finally{w(!1)}};return e.jsxs("div",{className:"investment-container",children:[e.jsxs("div",{className:"investment-header",children:[e.jsx("h1",{children:"Udhar Lena/Dena"}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{className:"btn-primary",onClick:()=>n(!t),children:[e.jsx(Oe,{})," ",t?"Cancel":"Add Loan"]}),e.jsxs("button",{className:"btn-primary",onClick:()=>o(!i),children:[e.jsx(Jy,{})," ",i?"Cancel":"On Behalf"]})]})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:e.jsx(bL,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Udhaar Dia (Lent)"}),e.jsxs("h3",{className:"stat-value",children:["",Math.round(z.totalLentAmount).toLocaleString("en-IN")]}),e.jsxs("p",{style:{fontSize:"11px",color:"#64748b",margin:"4px 0 0 0"},children:["Received: ",Math.round(z.totalLentPaid).toLocaleString("en-IN")," | Balance: ",Math.round(z.totalLentBalance).toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)"},children:e.jsx(OC,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Udhaar Lia (Borrowed)"}),e.jsxs("h3",{className:"stat-value",children:["",Math.round(z.totalBorrowedAmount).toLocaleString("en-IN")]}),e.jsxs("p",{style:{fontSize:"11px",color:"#64748b",margin:"4px 0 0 0"},children:["Paid: ",Math.round(z.totalBorrowedPaid).toLocaleString("en-IN")," | Balance: ",Math.round(z.totalBorrowedBalance).toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%)"},children:e.jsx(Jr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Net Position"}),e.jsxs("h3",{className:"stat-value",style:{color:z.totalLentBalance-z.totalBorrowedBalance>=0?"#10B981":"#EF4444"},children:["",Math.round(Math.abs(z.totalLentBalance-z.totalBorrowedBalance)).toLocaleString("en-IN")]}),e.jsx("p",{style:{fontSize:"11px",color:"#64748b",margin:"4px 0 0 0"},children:z.totalLentBalance-z.totalBorrowedBalance>=0?"To Receive":"To Pay"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},children:e.jsx(Xr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Active Loans"}),e.jsx("h3",{className:"stat-value",children:z.count}),e.jsxs("p",{style:{fontSize:"11px",color:"#64748b",margin:"4px 0 0 0"},children:["Lent: ",z.lentCount," | Borrowed: ",z.borrowedCount]})]})]})]}),e.jsxs("div",{className:"investments-table-card",children:[e.jsx("div",{className:"table-header",children:e.jsx("h2",{children:"Loan Records"})}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{minWidth:"140px",width:"140px"},children:"Type"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Person"}),e.jsx("th",{children:"Purpose"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{children:"Total Paid"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Payment Details"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:h.map(V=>e.jsxs("tr",{children:[e.jsx("td",{style:{minWidth:"140px",width:"140px"},children:e.jsx("span",{className:"investment-type-badge",style:{background:V.loanType==="Lent"?"linear-gradient(135deg, #10B981 0%, #059669 100%)":"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",fontSize:"12px",padding:"6px 12px",whiteSpace:"nowrap",display:"inline-block",borderRadius:"20px",minWidth:"100px",textAlign:"center"},children:V.loanType==="Lent"?"Udhaar Dia":"Udhaar Lia"})}),e.jsx("td",{children:new Date(V.date).toLocaleDateString("en-IN")}),e.jsx("td",{children:e.jsx("button",{onClick:()=>K(V),style:{background:"none",border:"none",color:"#2563EB",cursor:"pointer",textDecoration:"underline",fontSize:"14px",fontWeight:"500"},title:"View Payment History",children:V.nameOfPerson})}),e.jsx("td",{children:V.forPurpose}),e.jsxs("td",{children:["",Math.round(V.amount).toLocaleString("en-IN")]}),e.jsx("td",{children:V.finalDateOfReturn?new Date(V.finalDateOfReturn).toLocaleDateString("en-IN"):"-"}),e.jsxs("td",{children:["",Math.round(V.totalPaid||0).toLocaleString("en-IN")]}),e.jsxs("td",{style:{color:V.balanceAmount>0?"#EF4444":"#10B981"},children:["",Math.round(V.balanceAmount).toLocaleString("en-IN")]}),e.jsx("td",{children:V.paymentDetails}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>{T(V._id),r(!0)},className:"btn-icon",title:"Add Payment",children:e.jsx(OC,{})}),e.jsx("button",{onClick:()=>A("loan",V._id),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},V._id))})]})})]}),v.length>0&&e.jsxs("div",{className:"investments-table-card",children:[e.jsx("div",{className:"table-header",children:e.jsx("h2",{children:"On Behalf Records"})}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Paid For"}),e.jsx("th",{children:"Amount Paid"}),e.jsx("th",{children:"Purpose"}),e.jsx("th",{children:"Total Received"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Comments"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:v.map(V=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(V.date).toLocaleDateString("en-IN")}),e.jsx("td",{children:e.jsx("button",{onClick:()=>K(V),style:{background:"none",border:"none",color:"#2563EB",cursor:"pointer",textDecoration:"underline",fontSize:"14px",fontWeight:"500"},title:"View Receipt History",children:V.paidOnBehalfOf})}),e.jsxs("td",{children:["",Math.round(V.amountPaid).toLocaleString("en-IN")]}),e.jsx("td",{children:V.forPurpose}),e.jsxs("td",{children:["",Math.round(V.totalReceived||0).toLocaleString("en-IN")]}),e.jsxs("td",{style:{color:V.balanceToReceive>0?"#EF4444":"#10B981"},children:["",Math.round(V.balanceToReceive||0).toLocaleString("en-IN")]}),e.jsx("td",{children:V.comments}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>{se(V._id),U(!0)},className:"btn-icon",title:"Add Receipt",children:e.jsx(ua,{})}),e.jsx("button",{onClick:()=>A("onBehalf",V._id),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},V._id))})]})})]}),t&&e.jsxs("div",{ref:u,className:"investment-form-card",children:[e.jsx("h2",{children:"Add Loan Entry"}),e.jsxs("form",{className:"investment-form",onSubmit:L,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Loan Type *"}),e.jsxs("select",{value:X.loanType,onChange:V=>le({...X,loanType:V.target.value}),required:!0,style:{padding:"12px",borderRadius:"8px",border:"2px solid #e5e7eb",fontSize:"14px",fontWeight:"500",backgroundColor:"white"},children:[e.jsx("option",{value:"Lent",children:"Udhaar Dia (Lent)"}),e.jsx("option",{value:"Borrowed",children:"Udhaar Lia (Borrowed)"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Date *"}),e.jsx("input",{type:"date",value:X.date,onChange:V=>le({...X,date:V.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Name of Person *"}),e.jsx("input",{type:"text",value:X.nameOfPerson,onChange:V=>le({...X,nameOfPerson:V.target.value}),required:!0})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"For Purpose *"}),e.jsx("input",{type:"text",value:X.forPurpose,onChange:V=>le({...X,forPurpose:V.target.value}),required:!0})]})}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Amount () *"}),e.jsx("input",{type:"number",value:X.amount,onChange:V=>le({...X,amount:V.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Final Date of Return"}),e.jsx("input",{type:"date",value:X.finalDateOfReturn,onChange:V=>le({...X,finalDateOfReturn:V.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Payment Details"}),e.jsxs("select",{value:X.paymentDetails,onChange:V=>le({...X,paymentDetails:V.target.value}),children:[e.jsx("option",{value:"",children:"Select Payment Method"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Card",children:"Card"})]})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Comments"}),e.jsx("textarea",{value:X.comments,onChange:V=>le({...X,comments:V.target.value}),rows:"3"})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"btn-success",type:"submit",disabled:j,children:j?"Saving...":"Add Loan"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>n(!1),children:"Cancel"})]})]})]}),a&&e.jsxs("div",{ref:u,className:"investment-form-card",children:[e.jsx("h2",{children:"Add Payment Entry"}),e.jsxs("form",{className:"investment-form",onSubmit:$,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Select Loan *"}),e.jsxs("select",{value:E,onChange:V=>T(V.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Loan"}),h.map(V=>e.jsxs("option",{value:V._id,children:[V.nameOfPerson," - ",Math.round(V.balanceAmount).toLocaleString("en-IN")," pending"]},V._id))]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Date of Return *"}),e.jsx("input",{type:"date",value:G.dateOfReturn,onChange:V=>M({...G,dateOfReturn:V.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Amount Returned () *"}),e.jsx("input",{type:"number",value:G.amountReturned,onChange:V=>M({...G,amountReturned:V.target.value}),required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Payment Details"}),e.jsxs("select",{value:G.paymentDetails,onChange:V=>M({...G,paymentDetails:V.target.value}),children:[e.jsx("option",{value:"",children:"Select Payment Method"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Card",children:"Card"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Comments"}),e.jsx("textarea",{value:G.comments,onChange:V=>M({...G,comments:V.target.value}),rows:"3"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"btn-success",type:"submit",disabled:j,children:j?"Saving...":"Add Payment"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>r(!1),children:"Cancel"})]})]})]}),i&&e.jsxs("div",{ref:u,className:"investment-form-card",children:[e.jsx("h2",{children:"On Behalf Payment Entry"}),e.jsxs("form",{className:"investment-form",onSubmit:q,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Date *"}),e.jsx("input",{type:"date",value:B.date,onChange:V=>re({...B,date:V.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Paid on Behalf of *"}),e.jsx("input",{type:"text",value:B.paidOnBehalfOf,onChange:V=>re({...B,paidOnBehalfOf:V.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Amount Paid () *"}),e.jsx("input",{type:"number",value:B.amountPaid,onChange:V=>re({...B,amountPaid:V.target.value}),required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"For Purpose *"}),e.jsx("input",{type:"text",value:B.forPurpose,onChange:V=>re({...B,forPurpose:V.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Payment Details"}),e.jsxs("select",{value:B.paymentDetails,onChange:V=>re({...B,paymentDetails:V.target.value}),children:[e.jsx("option",{value:"",children:"Select Payment Method"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Card",children:"Card"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Received Amount ()"}),e.jsx("input",{type:"number",value:B.receivedAmount,onChange:V=>re({...B,receivedAmount:V.target.value})})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Date of Receipt"}),e.jsx("input",{type:"date",value:B.dateOfReceipt,onChange:V=>re({...B,dateOfReceipt:V.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Receipt Payment Details"}),e.jsxs("select",{value:B.receiptPaymentDetails,onChange:V=>re({...B,receiptPaymentDetails:V.target.value}),children:[e.jsx("option",{value:"",children:"Select Payment Method"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Card",children:"Card"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Comments"}),e.jsx("textarea",{value:B.comments,onChange:V=>re({...B,comments:V.target.value}),rows:"3"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"btn-success",type:"submit",disabled:j,children:j?"Saving...":"Add On Behalf Entry"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>o(!1),children:"Cancel"})]})]})]}),R&&e.jsxs("div",{ref:u,className:"investment-form-card",children:[e.jsx("h2",{children:"Add Receipt Entry"}),e.jsxs("form",{className:"investment-form",onSubmit:xe,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Select On Behalf Entry *"}),e.jsxs("select",{value:J,onChange:V=>se(V.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Entry"}),v.map(V=>e.jsxs("option",{value:V._id,children:[V.paidOnBehalfOf," - ",Math.round(V.balanceToReceive||0).toLocaleString("en-IN")," pending"]},V._id))]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Date of Receipt *"}),e.jsx("input",{type:"date",value:Z.dateOfReceipt,onChange:V=>te({...Z,dateOfReceipt:V.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Amount Received () *"}),e.jsx("input",{type:"number",value:Z.amountReceived,onChange:V=>te({...Z,amountReceived:V.target.value}),required:!0})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Receipt Payment Details"}),e.jsxs("select",{value:Z.receiptPaymentDetails,onChange:V=>te({...Z,receiptPaymentDetails:V.target.value}),children:[e.jsx("option",{value:"",children:"Select Payment Method"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Bank Transfer",children:"Bank Transfer"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"Cheque",children:"Cheque"}),e.jsx("option",{value:"Card",children:"Card"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Comments"}),e.jsx("textarea",{value:Z.comments,onChange:V=>te({...Z,comments:V.target.value}),rows:"3"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"btn-success",type:"submit",disabled:j,children:j?"Saving...":"Add Receipt"}),e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>U(!1),children:"Cancel"})]})]})]}),k&&P&&e.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:e.jsxs("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",maxWidth:"800px",maxHeight:"80vh",overflow:"auto",width:"90%"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",borderBottom:"2px solid #e5e7eb",paddingBottom:"16px"},children:[e.jsx("h2",{style:{margin:0,color:"#1f2937"},children:P.nameOfPerson?`Payment History - ${P.nameOfPerson}`:`Receipt History - ${P.paidOnBehalfOf}`}),e.jsx("button",{onClick:()=>F(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6b7280"},children:""})]}),e.jsx("div",{style:{backgroundColor:"#f9fafb",padding:"16px",borderRadius:"8px",marginBottom:"20px"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",fontSize:"14px"},children:P.nameOfPerson?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Loan Type:"}),e.jsx("br",{}),e.jsx("span",{style:{color:P.loanType==="Lent"?"#10B981":"#EF4444"},children:P.loanType==="Lent"?"Udhaar Dia":"Udhaar Lia"})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Total Amount:"}),e.jsx("br",{}),"",Math.round(P.amount).toLocaleString("en-IN")]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Total Paid:"}),e.jsx("br",{}),"",Math.round(P.totalPaid||0).toLocaleString("en-IN")]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Balance:"}),e.jsx("br",{}),e.jsxs("span",{style:{color:P.balanceAmount>0?"#EF4444":"#10B981"},children:["",Math.round(P.balanceAmount).toLocaleString("en-IN")]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Entry Type:"}),e.jsx("br",{}),e.jsx("span",{style:{color:"#8B5CF6"},children:"On Behalf Payment"})]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Amount Paid:"}),e.jsx("br",{}),"",Math.round(P.amountPaid).toLocaleString("en-IN")]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Total Received:"}),e.jsx("br",{}),"",Math.round(P.totalReceived||0).toLocaleString("en-IN")]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Balance to Receive:"}),e.jsx("br",{}),e.jsxs("span",{style:{color:P.balanceToReceive>0?"#EF4444":"#10B981"},children:["",Math.round(P.balanceToReceive||0).toLocaleString("en-IN")]})]})]})})}),e.jsx("h3",{style:{marginBottom:"16px",color:"#374151"},children:P.nameOfPerson?"Payment Records":"Receipt Records"}),P.payments&&P.payments.length>0||P.receipts&&P.receipts.length>0?e.jsx("div",{style:{overflowX:"auto"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",backgroundColor:"white",borderRadius:"8px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{backgroundColor:"#f3f4f6"},children:[e.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"Date"}),e.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"Amount"}),e.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"Payment Method"}),e.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600"},children:"Comments"})]})}),e.jsx("tbody",{children:(P.payments||P.receipts||[]).map((V,ee)=>e.jsxs("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[e.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:new Date(V.date).toLocaleDateString("en-IN")}),e.jsxs("td",{style:{padding:"12px",fontSize:"14px",color:"#10B981",fontWeight:"500"},children:["",Math.round(V.amount).toLocaleString("en-IN")]}),e.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:V.paymentDetails||"-"}),e.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:V.comments||"-"})]},ee))})]})}):e.jsx("div",{style:{textAlign:"center",padding:"32px",color:"#6b7280",backgroundColor:"#f9fafb",borderRadius:"8px",fontSize:"16px"},children:P.nameOfPerson?"No payments recorded yet":"No receipts recorded yet"}),(P.payments&&P.payments.length>0||P.receipts&&P.receipts.length>0)&&e.jsx("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#f0f9ff",borderRadius:"8px",borderLeft:"4px solid #2563EB"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",fontSize:"14px"},children:P.nameOfPerson?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Total Payments:"}),e.jsx("br",{}),P.payments?.length||0," transactions"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Last Payment:"}),e.jsx("br",{}),P.payments&&P.payments.length>0?new Date(Math.max(...P.payments.map(V=>new Date(V.date)))).toLocaleDateString("en-IN"):"No payments yet"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Payment Progress:"}),e.jsx("br",{}),Math.round(P.totalPaid/P.amount*100),"% completed"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Total Receipts:"}),e.jsx("br",{}),P.receipts?.length||0," transactions"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Last Receipt:"}),e.jsx("br",{}),P.receipts&&P.receipts.length>0?new Date(Math.max(...P.receipts.map(V=>new Date(V.date)))).toLocaleDateString("en-IN"):"No receipts yet"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Receipt Progress:"}),e.jsx("br",{}),Math.round(P.totalReceived/P.amountPaid*100),"% completed"]})]})})}),e.jsx("div",{style:{textAlign:"center",marginTop:"24px"},children:e.jsx("button",{onClick:()=>F(!1),style:{backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"8px",padding:"12px 24px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Close"})})]})})]})},BQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState([{name:"Household",bills:["Mortgage/Rent","Electricity","Gas","Water","Alarm/security system","Garden services","Cleaning services","Other"]},{name:"Insurance",bills:["Car","Life","Household","Health","Other"]},{name:"Loans, credit & overdrafts",bills:["Car","Student","Personal","Credit card","Other"]},{name:"Savings",bills:["Personal","Retirement","Holiday","Other"]},{name:"Other",bills:["School fees","Mobile & telephone","Internet","Netflix or similar"]}]),[i,o]=x.useState(null),[u,h]=x.useState({show:!1,category:null}),[p,f]=x.useState(!1),[d,v]=x.useState(null),[y,C]=x.useState(""),[N,j]=x.useState({billName:"",dueDate:"",discountedPaymentDate:"",onlinePaymentUrl:"",username:"",password:"",modeOfPayment:"",amount:0}),[w,O]=x.useState(new Date().getFullYear()),S=["January","February","March","April","May","June","July","August","September","October","November","December"],E="daily-bill-checklist-new",T="bill-checklist-categories",k=x.useMemo(()=>{const te=new Date,_=te.getMonth(),z=te.getFullYear(),L=`${z}-${String(_+1).padStart(2,"0")}`;let $=0,q=0,A=0,K=0,xe=0,V=0,ee=0;const me={},ue=[],H={paid:0,unpaid:0,overdue:0};a.forEach(D=>{me[D.name]={count:0,amount:0,paid:0}});for(let D=5;D>=0;D--){const ne=new Date(z,_-D,1),be=`${ne.getFullYear()}-${String(ne.getMonth()+1).padStart(2,"0")}`,Ce=ne.toLocaleString("en-US",{month:"short"});let Ae=0,_e=0;t.forEach(wt=>{const qt=wt.payments?.[be];qt&&(_e+=Number(qt.amount)||Number(wt.amount)||0,qt.done&&(Ae+=Number(qt.amount)||Number(wt.amount)||0))}),ue.push({month:Ce,paid:Ae,unpaid:_e-Ae,total:_e})}t.forEach(D=>{$++,q+=Number(D.amount)||0;const ne=D.category||"Other";me[ne]||(me[ne]={count:0,amount:0,paid:0}),me[ne].count++,me[ne].amount+=Number(D.amount)||0;const be=D.payments?.[L];if(be)if(be.done)A++,V+=Number(be.amount)||Number(D.amount)||0,me[ne].paid++,H.paid++;else{K++,ee+=Number(be.amount)||Number(D.amount)||0,H.unpaid++;const Ce=Number(D.dueDate),Ae=te.getDate();Ce&&Ae>Ce&&(xe++,H.overdue++)}else{K++,ee+=Number(D.amount)||0,H.unpaid++;const Ce=Number(D.dueDate),Ae=te.getDate();Ce&&Ae>Ce&&(xe++,H.overdue++)}});const de=$>0?Math.round(A/$*100):0;return{totalBills:$,totalAmount:q,paidThisMonth:A,unpaidThisMonth:K,overdueThisMonth:xe,paidAmount:V,unpaidAmount:ee,completionRate:de,categoryStats:Object.entries(me).map(([D,ne])=>({name:D,...ne,completion:ne.count>0?Math.round(ne.paid/ne.count*100):0})),monthlyTrend:ue,paymentStatus:H}},[t,a]),F=["#10B981","#F59E0B","#EF4444","#3B82F6","#8B5CF6","#EC4899"];x.useEffect(()=>{W(),P()},[]);const P=async()=>{try{const te=await De.getAll(T);if(te.data.investments&&te.data.investments.length>0){const _=JSON.parse(te.data.investments[0].notes||"{}");_.categories&&Array.isArray(_.categories)&&r(_.categories)}}catch{console.log("Using default categories")}},W=async()=>{try{const _=((await De.getAll(E)).data.investments||[]).map(z=>{const L=z.notes?JSON.parse(z.notes):{};return{_id:z._id,category:L.category||"Other",billName:L.billName||z.name,dueDate:L.dueDate||"",discountedPaymentDate:L.discountedPaymentDate||"",onlinePaymentUrl:L.onlinePaymentUrl||"",username:L.username||"",password:L.password||"",modeOfPayment:L.modeOfPayment||"",amount:z.amount||0,payments:L.payments||{}}});n(_)}catch(te){console.error("Error fetching bills:",te)}},R=async(te,_=!1)=>{try{const z={category:E,type:"Bill",name:te.billName,amount:te.amount||0,startDate:new Date().toISOString().slice(0,10),notes:JSON.stringify(te)};te._id?await De.update(te._id,z):await De.create(z),_||await W()}catch(z){alert("Error saving bill: "+(z.response?.data?.message||z.message))}},U=async te=>{if(window.confirm("Delete this bill?"))try{await De.delete(te),await W()}catch{alert("Error deleting bill")}},J=async(te,_,z,L)=>{const $=t.find(xe=>xe._id===te);if(!$)return;const q={...$.payments};q[_]||(q[_]={amount:"",datePaid:"",done:!1}),q[_][z]=L,z==="done"&&L===!0&&(q[_].amount=$.amount||0,q[_].datePaid=new Date().toISOString().slice(0,10));const A={...$,payments:q},K=t.map(xe=>xe._id===te?A:xe);n(K),await R(A,!0)},se=te=>{if(!N.billName.trim())return;const _={category:te,...N,payments:{}};R(_),j({billName:"",dueDate:"",discountedPaymentDate:"",onlinePaymentUrl:"",username:"",password:"",modeOfPayment:"",amount:0}),h({show:!1,category:null})},X=te=>t.filter(_=>_.category===te),le=async()=>{if(!y.trim())return;if(a.find(_=>_.name===y)){alert("Category already exists!");return}const te=[...a,{name:y,bills:[]}];r(te),C(""),await G(te)},G=async te=>{try{const _={category:T,type:"Categories",name:"Bill Categories",amount:0,startDate:new Date().toISOString().slice(0,10),notes:JSON.stringify({categories:te})},z=await De.getAll(T);z.data.investments&&z.data.investments.length>0?await De.update(z.data.investments[0]._id,_):await De.create(_)}catch(_){console.error("Error saving categories:",_)}},M=async(te,_)=>{if(!_.trim()||_===te)return;if(a.find($=>$.name===_&&$.name!==te)){alert("Category name already exists!");return}const z=a.map($=>$.name===te?{...$,name:_}:$);r(z);const L=X(te);for(const $ of L)await R({...$,category:_});v(null),await G(z)},B=async te=>{const _=X(te);if(_.length>0){if(!window.confirm(`This category has ${_.length} bill(s). Delete anyway?`))return;for(const L of _)await U(L._id)}const z=a.filter(L=>L.name!==te);r(z),await G(z)},re=()=>e.jsx("div",{className:"spreadsheet-container",children:e.jsxs("table",{className:"bill-spreadsheet",children:[e.jsxs("thead",{children:[e.jsxs("tr",{children:[e.jsx("th",{className:"category-col",children:"Category"}),e.jsx("th",{className:"bill-col",children:"Bill (Due Date)"}),e.jsx("th",{className:"details-header",colSpan:"5",children:"Details"}),S.map((te,_)=>e.jsx("th",{className:"month-header",colSpan:"3",children:te},te))]}),e.jsxs("tr",{children:[e.jsx("th",{}),e.jsx("th",{}),e.jsx("th",{className:"detail-col",children:"Online payment Site URL"}),e.jsx("th",{className:"detail-col",children:"Username"}),e.jsx("th",{className:"detail-col",children:"Password"}),e.jsx("th",{className:"detail-col",children:"Mode of Payment"}),e.jsx("th",{className:"detail-col",children:"Amount"}),S.map(te=>e.jsxs(wa.Fragment,{children:[e.jsx("th",{className:"month-sub",children:"Amount"},`${te}-amt`),e.jsx("th",{className:"month-sub",children:"Date paid"},`${te}-date`),e.jsx("th",{className:"month-sub",children:"Done"},`${te}-done`)]},te))]})]}),e.jsx("tbody",{children:a.map((te,_)=>{const z=X(te.name);return e.jsxs(wa.Fragment,{children:[e.jsx("tr",{className:"category-row",children:e.jsx("td",{className:"category-name",rowSpan:z.length+2,children:e.jsxs("div",{className:"category-name-content",children:[e.jsx("span",{children:te.name}),e.jsxs("div",{className:"category-actions",children:[e.jsx("button",{onClick:()=>v(te.name),className:"category-action-btn",title:"Edit Category",children:e.jsx(ct,{size:12})}),e.jsx("button",{onClick:()=>B(te.name),className:"category-action-btn delete",title:"Delete Category",children:e.jsx(Ze,{size:12})})]})]})})},`cat-${_}`),z.map((L,$)=>e.jsxs("tr",{className:"bill-row",children:[e.jsxs("td",{className:"bill-name",children:[i===L._id?e.jsx("input",{type:"text",value:L.billName,onChange:q=>{const A=t.map(K=>K._id===L._id?{...K,billName:q.target.value}:K);n(A)},className:"inline-edit"}):e.jsxs("span",{children:[L.billName,L.dueDate&&` - Due: ${String(L.dueDate).padStart(2,"0")}`,L.discountedPaymentDate&&` | Discount: ${L.discountedPaymentDate}`]}),e.jsxs("div",{className:"bill-meta",children:[i===L._id?e.jsxs("div",{className:"inline-meta",children:[e.jsx("select",{value:L.category,onChange:q=>{const A=t.map(K=>K._id===L._id?{...K,category:q.target.value}:K);n(A)},className:"inline-edit",children:a.map(q=>e.jsx("option",{value:q.name,children:q.name},q.name))}),e.jsx("input",{type:"number",min:1,max:31,value:L.dueDate,onChange:q=>{const A=t.map(K=>K._id===L._id?{...K,dueDate:q.target.value}:K);n(A)},className:"inline-edit",placeholder:"Due day (e.g., 07)"}),e.jsx("input",{type:"date",value:L.discountedPaymentDate,onChange:q=>{const A=t.map(K=>K._id===L._id?{...K,discountedPaymentDate:q.target.value}:K);n(A)},className:"inline-edit",placeholder:"Discount date"})]}):e.jsx("div",{className:"inline-meta readonly",children:L.category}),e.jsx("div",{className:"bill-actions",children:i===L._id?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>{R(L),o(null)},className:"action-btn save",children:e.jsx(cs,{})}),e.jsx("button",{onClick:()=>o(null),className:"action-btn cancel",children:e.jsx(Ge,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>o(L._id),className:"action-btn",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>U(L._id),className:"action-btn delete",children:e.jsx(Ze,{})})]})})]})]}),e.jsx("td",{className:"detail-cell",children:i===L._id?e.jsx("input",{type:"text",value:L.onlinePaymentUrl,onChange:q=>{const A=t.map(K=>K._id===L._id?{...K,onlinePaymentUrl:q.target.value}:K);n(A)},className:"inline-edit"}):e.jsx("span",{children:L.onlinePaymentUrl})}),e.jsx("td",{className:"detail-cell",children:i===L._id?e.jsx("input",{type:"text",value:L.username,onChange:q=>{const A=t.map(K=>K._id===L._id?{...K,username:q.target.value}:K);n(A)},className:"inline-edit"}):e.jsx("span",{children:L.username})}),e.jsx("td",{className:"detail-cell password-cell",children:i===L._id?e.jsx("input",{type:"password",value:L.password,onChange:q=>{const A=t.map(K=>K._id===L._id?{...K,password:q.target.value}:K);n(A)},className:"inline-edit"}):e.jsx("span",{children:"".repeat(L.password?.length||0)})}),e.jsx("td",{className:"detail-cell",children:i===L._id?e.jsxs("select",{value:L.modeOfPayment,onChange:q=>{const A=t.map(K=>K._id===L._id?{...K,modeOfPayment:q.target.value}:K);n(A)},className:"inline-edit",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"NetBanking",children:"NetBanking"}),e.jsx("option",{value:"Card",children:"Card"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Auto-Debit",children:"Auto-Debit"})]}):e.jsx("span",{children:L.modeOfPayment})}),e.jsx("td",{className:"detail-cell",children:i===L._id?e.jsx("input",{type:"number",value:L.amount,onChange:q=>{const A=t.map(K=>K._id===L._id?{...K,amount:Number(q.target.value)}:K);n(A)},className:"inline-edit"}):e.jsxs("span",{children:["",L.amount]})}),S.map((q,A)=>{const K=`${w}-${String(A+1).padStart(2,"0")}`,xe=L.payments?.[K]||{amount:"",datePaid:"",done:!1};return e.jsxs(wa.Fragment,{children:[e.jsx("td",{className:"month-cell",children:e.jsx("input",{type:"number",value:xe.amount,onChange:V=>J(L._id,K,"amount",V.target.value),placeholder:"",className:"month-input"})},`${L._id}-${K}-amt`),e.jsx("td",{className:"month-cell",children:e.jsx("input",{type:"date",value:xe.datePaid,onChange:V=>J(L._id,K,"datePaid",V.target.value),className:"month-input"})},`${L._id}-${K}-date`),e.jsx("td",{className:"month-cell checkbox-cell",children:e.jsx("input",{type:"checkbox",checked:xe.done,onChange:V=>J(L._id,K,"done",V.target.checked),className:"month-checkbox"})},`${L._id}-${K}-done`)]},`${L._id}-${K}`)})]},L._id)),e.jsx("tr",{className:"add-bill-row",children:e.jsx("td",{colSpan:"17",children:e.jsxs("button",{onClick:()=>h({show:!0,category:te.name}),className:"btn-add-bill",children:[e.jsx(Oe,{})," Add Bill to ",te.name]})})})]},`category-${_}`)})})]})}),Z=()=>e.jsxs("div",{className:"bill-summary-section",children:[e.jsxs("div",{className:"summary-header",children:[e.jsxs("h2",{children:[e.jsx(es,{})," Bill Payment Summary"]}),e.jsx("p",{children:"Track your monthly bill payments and financial overview"})]}),e.jsxs("div",{className:"metrics-grid",children:[e.jsxs("div",{className:"metric-card primary",children:[e.jsx("div",{className:"metric-icon",children:e.jsx(ua,{})}),e.jsxs("div",{className:"metric-content",children:[e.jsxs("h3",{children:["",k.totalAmount.toLocaleString()]}),e.jsx("p",{children:"Total Monthly Bills"})]})]}),e.jsxs("div",{className:"metric-card success",children:[e.jsx("div",{className:"metric-icon",children:e.jsx(_m,{})}),e.jsxs("div",{className:"metric-content",children:[e.jsxs("h3",{children:[k.completionRate,"%"]}),e.jsx("p",{children:"Completion Rate"})]}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${k.completionRate}%`}})})]}),e.jsxs("div",{className:"metric-card warning",children:[e.jsx("div",{className:"metric-icon",children:e.jsx(lr,{})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{children:k.unpaidThisMonth}),e.jsx("p",{children:"Pending Bills"})]})]}),e.jsxs("div",{className:"metric-card danger",children:[e.jsx("div",{className:"metric-icon",children:e.jsx(Jr,{})}),e.jsxs("div",{className:"metric-content",children:[e.jsx("h3",{children:k.overdueThisMonth}),e.jsx("p",{children:"Overdue Bills"})]})]})]}),e.jsxs("div",{className:"charts-row",children:[e.jsxs("div",{className:"chart-card",children:[e.jsx("h3",{children:"Payment Status"}),e.jsx(Mt,{width:"100%",height:250,children:e.jsxs(ur,{children:[e.jsxs(Wa,{data:[{name:"Paid",value:k.paymentStatus.paid},{name:"Unpaid",value:k.paymentStatus.unpaid},{name:"Overdue",value:k.paymentStatus.overdue}],cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:[e.jsx(_n,{fill:"#10B981"}),e.jsx(_n,{fill:"#F59E0B"}),e.jsx(_n,{fill:"#EF4444"})]}),e.jsx(It,{formatter:te=>[`${te} bills`,""]}),e.jsx(pn,{})]})})]}),e.jsxs("div",{className:"chart-card",children:[e.jsx("h3",{children:"6-Month Payment Trend"}),e.jsx(Mt,{width:"100%",height:250,children:e.jsxs(os,{data:k.monthlyTrend,children:[e.jsx(Xn,{strokeDasharray:"3 3"}),e.jsx(Zn,{dataKey:"month"}),e.jsx(Qn,{}),e.jsx(It,{formatter:te=>[`${te.toLocaleString()}`,""]}),e.jsx(pn,{}),e.jsx(Rn,{dataKey:"paid",stackId:"a",fill:"#10B981",name:"Paid"}),e.jsx(Rn,{dataKey:"unpaid",stackId:"a",fill:"#F59E0B",name:"Unpaid"})]})})]})]}),e.jsxs("div",{className:"category-breakdown",children:[e.jsx("h3",{children:"Category Performance"}),e.jsx("div",{className:"category-cards",children:k.categoryStats.map((te,_)=>e.jsxs("div",{className:"category-card",children:[e.jsxs("div",{className:"category-header",children:[e.jsx("h4",{children:te.name}),e.jsxs("span",{className:"category-count",children:[te.count," bills"]})]}),e.jsxs("div",{className:"category-amount",children:["",te.amount.toLocaleString()]}),e.jsxs("div",{className:"category-progress",children:[e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${te.completion}%`,backgroundColor:F[_%F.length]}})}),e.jsxs("span",{className:"progress-text",children:[te.completion,"% paid"]})]}),e.jsxs("div",{className:"category-stats",children:[e.jsxs("span",{className:"stat paid",children:[te.paid," paid"]}),e.jsxs("span",{className:"stat unpaid",children:[te.count-te.paid," pending"]})]})]},te.name))})]})]});return e.jsxs("div",{className:"bill-checklist-new",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{children:"Bill Paying Checklist"}),e.jsxs("div",{className:"header-controls",children:[e.jsxs("div",{className:"year-selector",children:[e.jsx("button",{onClick:()=>O(w-1),className:"year-nav-btn",children:""}),e.jsx("span",{className:"current-year",children:w}),e.jsx("button",{onClick:()=>O(w+1),className:"year-nav-btn",children:""})]}),e.jsxs("button",{onClick:()=>f(!0),className:"btn-manage-categories",children:[e.jsx(ct,{})," Manage Categories"]})]})]}),re(),Z(),p&&e.jsx("div",{className:"modal-overlay",onClick:()=>f(!1),children:e.jsxs("div",{className:"modal-content",onClick:te=>te.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Manage Categories"}),e.jsx("button",{onClick:()=>f(!1),className:"modal-close",children:e.jsx(Ge,{})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsx("div",{className:"categories-list",children:a.map((te,_)=>e.jsx("div",{className:"category-item",children:d===te.name?e.jsxs("div",{className:"category-edit-row",children:[e.jsx("input",{type:"text",defaultValue:te.name,onKeyPress:z=>{z.key==="Enter"&&M(te.name,z.target.value)},onBlur:z=>M(te.name,z.target.value),autoFocus:!0,className:"category-edit-input"}),e.jsx("button",{onClick:()=>v(null),className:"btn-cancel-small",children:e.jsx(Ge,{})})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"category-item-name",children:te.name}),e.jsxs("span",{className:"category-item-count",children:["(",X(te.name).length," bills)"]}),e.jsxs("div",{className:"category-item-actions",children:[e.jsx("button",{onClick:()=>v(te.name),className:"btn-icon-small",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>B(te.name),className:"btn-icon-small delete",children:e.jsx(Ze,{})})]})]})},_))}),e.jsxs("div",{className:"add-category-section",children:[e.jsx("h3",{children:"Add New Category"}),e.jsxs("div",{className:"add-category-row",children:[e.jsx("input",{type:"text",value:y,onChange:te=>C(te.target.value),onKeyPress:te=>te.key==="Enter"&&le(),placeholder:"Enter category name...",className:"category-input"}),e.jsxs("button",{onClick:le,className:"btn-add",disabled:!y.trim(),children:[e.jsx(Oe,{})," Add"]})]})]})]}),e.jsx("div",{className:"modal-footer",children:e.jsxs("button",{onClick:()=>f(!1),className:"btn-add",children:[e.jsx(Th,{})," Done"]})})]})}),u.show&&e.jsx("div",{className:"modal-overlay",onClick:()=>h({show:!1,category:null}),children:e.jsxs("div",{className:"modal-content",onClick:te=>te.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:["Add Bill to ",u.category]}),e.jsx("button",{onClick:()=>h({show:!1,category:null}),className:"modal-close",children:e.jsx(Ge,{})})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Bill Name *"}),e.jsx("input",{type:"text",value:N.billName,onChange:te=>j({...N,billName:te.target.value}),placeholder:"e.g., Electricity, Water, etc.",required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Due Date (Day of Month)"}),e.jsx("input",{type:"number",min:"1",max:"31",value:N.dueDate,onChange:te=>j({...N,dueDate:te.target.value}),placeholder:"e.g., 07, 15, 28"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Discounted Payment Date"}),e.jsx("input",{type:"date",value:N.discountedPaymentDate,onChange:te=>j({...N,discountedPaymentDate:te.target.value}),placeholder:"Date when discount is available"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Amount ()"}),e.jsx("input",{type:"number",value:N.amount,onChange:te=>j({...N,amount:Number(te.target.value)}),placeholder:"Default amount"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Mode of Payment"}),e.jsxs("select",{value:N.modeOfPayment,onChange:te=>j({...N,modeOfPayment:te.target.value}),children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"NetBanking",children:"NetBanking"}),e.jsx("option",{value:"Card",children:"Card"}),e.jsx("option",{value:"Cash",children:"Cash"}),e.jsx("option",{value:"Auto-Debit",children:"Auto-Debit"})]})]}),e.jsxs("div",{className:"form-field full-width",children:[e.jsx("label",{children:"Online Payment URL"}),e.jsx("input",{type:"url",value:N.onlinePaymentUrl,onChange:te=>j({...N,onlinePaymentUrl:te.target.value}),placeholder:"https://..."})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Username"}),e.jsx("input",{type:"text",value:N.username,onChange:te=>j({...N,username:te.target.value}),placeholder:"Login username"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Password"}),e.jsx("input",{type:"password",value:N.password,onChange:te=>j({...N,password:te.target.value}),placeholder:"Login password"})]})]})}),e.jsxs("div",{className:"modal-footer",children:[e.jsxs("button",{onClick:()=>h({show:!1,category:null}),className:"btn-cancel",children:[e.jsx(Ge,{})," Cancel"]}),e.jsxs("button",{onClick:()=>se(u.category),className:"btn-add",disabled:!N.billName.trim(),children:[e.jsx(Th,{})," Add Bill"]})]})]})})]})},LQ=()=>{const[t,n]=x.useState(!1),a=x.useRef(null),[r,i]=x.useState([]),[o,u]=x.useState(!1),[h,p]=x.useState(!1),[f,d]=x.useState(null),[v,y]=x.useState({contactName:"",phoneNumber:"",callType:"Outgoing",dateTime:new Date().toISOString().slice(0,16),durationMinutes:5,topic:"",summary:"",actionItems:[""],status:"open",priority:"medium",followUpDate:"",tags:"",notes:"",ticketNumber:"",ticketPriority:"Medium",resolutionStatus:"Pending",avgResponseTime:"",lastContactDate:"",issueDescription:""}),[C,N]=x.useState(!0),[j,w]=x.useState("contacts"),[O,S]=x.useState([]),[E,T]=x.useState([]),[k,F]=x.useState([]);x.useEffect(()=>{t&&a.current&&setTimeout(()=>{a.current.scrollIntoView({behavior:"smooth",block:"start"})},100)},[t]);const P="daily-telephone-conversation",W=L=>({category:P,type:"Call",name:`${L.callType} - ${L.contactName||"Unknown"}`,provider:L.phoneNumber||L.contactName||"Contact",amount:0,startDate:(L.dateTime?new Date(L.dateTime):new Date).toISOString().slice(0,10),maturityDate:L.followUpDate||void 0,frequency:"one-time",notes:JSON.stringify({...L})}),R=L=>{let $={};try{$=L.notes?JSON.parse(L.notes):{}}catch{$={}}return{_id:L._id,contactName:$.contactName||"",phoneNumber:L.provider||$.phoneNumber||"",callType:$.callType||"Outgoing",dateTime:$.dateTime||(L.startDate?new Date(L.startDate).toISOString().slice(0,16):""),durationMinutes:$.durationMinutes||0,topic:$.topic||"",summary:$.summary||"",actionItems:Array.isArray($.actionItems)?$.actionItems:$.actionItems?[$.actionItems]:[],status:$.status||"open",priority:$.priority||"medium",followUpDate:L.maturityDate?.slice(0,10)||$.followUpDate||"",tags:$.tags||"",notes:$.notes||"",ticketNumber:$.ticketNumber||"",ticketPriority:$.ticketPriority||"Medium",resolutionStatus:$.resolutionStatus||"Pending",avgResponseTime:$.avgResponseTime||"",lastContactDate:$.lastContactDate||"",issueDescription:$.issueDescription||""}},U=async()=>{try{u(!0);const $=((await De.getAll(P)).data.investments||[]).map(R);i($)}catch(L){console.error("Error fetching calls:",L)}finally{u(!1)}};x.useEffect(()=>{U(),J()},[]);const J=async()=>{try{const $=((await De.getAll("static-contact-management")).data.investments||[]).map(V=>{let ee={};try{ee=V.notes?JSON.parse(V.notes):{}}catch{ee={}}return{name:ee.nameOfPerson||V.name||"",phone:ee.mobileNumber1||"",email:ee.emailId||"",company:ee.nameOfCompany||V.provider||"",category:ee.category||""}});S($.filter(V=>V.name||V.phone));const A=((await ze.getCustomerSupport()).data||[]).map(V=>({company:V.companyName||"",phone:V.phone||"",email:V.email||"",type:V.serviceCategory||"",website:V.website||""}));T(A.filter(V=>V.company||V.phone));const xe=((await De.getAll("static-online-access")).data.investments||[]).map(V=>{let ee={};try{ee=V.notes?JSON.parse(V.notes):{}}catch{ee={}}return{service:ee.serviceName||V.name||"",category:ee.category||V.provider||"",phone:ee.recoveryPhone||"",email:ee.recoveryEmail||"",url:ee.url||""}});F(xe.filter(V=>V.service))}catch(L){console.error("Error fetching reference data:",L)}},se=x.useMemo(()=>{const L=r.filter(K=>K.status==="open").length,$=r.filter(K=>K.status==="closed").length,q=r.filter(K=>K.callType==="Outgoing").length,A=r.filter(K=>K.callType==="Incoming").length;return{open:L,closed:$,outgoing:q,incoming:A,count:r.length}},[r]),X=x.useMemo(()=>[{name:"Open",value:r.filter(L=>L.status==="open").length},{name:"Closed",value:r.filter(L=>L.status==="closed").length}],[r]),le=x.useMemo(()=>{const L=new Map;for(const $ of r){const q=$.contactName||$.phoneNumber||"Unknown",A=L.get(q)||{name:q,calls:0};A.calls+=1,L.set(q,A)}return Array.from(L.values()).sort(($,q)=>q.calls-$.calls).slice(0,10)},[r]),G=x.useMemo(()=>{const L=new Map;for(const $ of r){const q=$.dateTime?$.dateTime.slice(0,10):$.followUpDate||"";if(!q)continue;const A=L.get(q)||{name:q,count:0};A.count+=1,L.set(q,A)}return Array.from(L.values()).sort(($,q)=>$.name>q.name?1:-1).slice(-30)},[r]),M=["#2563EB","#10B981","#EF4444","#8B5CF6"],B=async L=>{L.preventDefault();try{p(!0),f?await De.update(f,W(v)):await De.create(W(v)),await U(),d(null),y({contactName:"",phoneNumber:"",callType:"Outgoing",dateTime:new Date().toISOString().slice(0,16),durationMinutes:5,topic:"",summary:"",actionItems:[""],status:"open",priority:"medium",followUpDate:"",tags:"",notes:"",ticketNumber:"",ticketPriority:"Medium",resolutionStatus:"Pending",avgResponseTime:"",lastContactDate:"",issueDescription:""}),n(!1)}catch($){alert($.response?.data?.message||"Error saving call")}finally{p(!1)}},re=L=>{const $=r[L];y({contactName:$.contactName||"",phoneNumber:$.phoneNumber||"",callType:$.callType||"Outgoing",dateTime:$.dateTime||new Date().toISOString().slice(0,16),durationMinutes:$.durationMinutes||0,topic:$.topic||"",summary:$.summary||"",actionItems:$.actionItems?.length?$.actionItems:[""],status:$.status||"open",priority:$.priority||"medium",followUpDate:$.followUpDate||"",tags:$.tags||"",notes:$.notes||"",ticketNumber:$.ticketNumber||"",ticketPriority:$.ticketPriority||"Medium",resolutionStatus:$.resolutionStatus||"Pending",avgResponseTime:$.avgResponseTime||"",lastContactDate:$.lastContactDate||"",issueDescription:$.issueDescription||""}),d($._id),n(!0)},Z=async L=>{const $=r[L];if(window.confirm("Delete this call?"))try{await De.delete($._id),await U()}catch(q){alert(q.response?.data?.message||"Error deleting call")}},te=(L,$)=>{const q=[...v.actionItems];q[L]=$,y({...v,actionItems:q})},_=()=>y({...v,actionItems:[...v.actionItems,""]}),z=L=>y({...v,actionItems:v.actionItems.filter(($,q)=>q!==L)});return o&&r.length===0?e.jsx("div",{className:"investment-container",children:e.jsx("div",{className:"loading",children:"Loading..."})}):e.jsxs("div",{className:"investment-container",style:{display:"flex",gap:"20px"},children:[e.jsxs("div",{style:{flex:C?"1 1 70%":"1 1 100%",transition:"all 0.3s"},children:[e.jsxs("div",{className:"investment-header",children:[e.jsx("h1",{children:"Telephone Conversation"}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{className:"btn-secondary",onClick:()=>N(!C),style:{marginRight:"10px"},children:[e.jsx(SL,{})," ",C?"Hide":"Show"," Reference"]}),e.jsxs("button",{className:"btn-primary",onClick:()=>n(!t),children:[e.jsx(Oe,{})," ",t?"Cancel":"Add Call"]})]})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%)"},children:e.jsx(DL,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total Calls"}),e.jsx("h3",{className:"stat-value",children:se.count})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:e.jsx(_m,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Closed"}),e.jsx("h3",{className:"stat-value",children:se.closed})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)"},children:e.jsx(yL,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Open"}),e.jsx("h3",{className:"stat-value",children:se.open})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},children:e.jsx(Wr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Outgoing/Incoming"}),e.jsxs("h3",{className:"stat-value",children:[se.outgoing,"/",se.incoming]})]})]})]}),e.jsxs("div",{className:"charts-section",children:[e.jsxs("div",{className:"charts-header",children:[e.jsx("h2",{children:"Call Analytics"}),e.jsx("p",{children:"Status distribution, trending by date, and top contacts"})]}),e.jsxs("div",{className:"charts-grid",children:[e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(es,{className:"chart-icon"}),e.jsx("h3",{children:"Status"})]}),e.jsx("div",{className:"chart-subtitle",children:"Open vs Closed"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(ur,{children:[e.jsx(Wa,{data:X,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:X.map((L,$)=>e.jsx(_n,{fill:M[$%M.length],stroke:"#fff",strokeWidth:2},`cell-${$}`))}),e.jsx(It,{formatter:(L,$)=>[L,$]}),e.jsx(pn,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})]}),e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(lr,{className:"chart-icon"}),e.jsx("h3",{children:"Last 30 Days"})]}),e.jsx("div",{className:"chart-subtitle",children:"Calls per day"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(Ru,{data:G,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"callArea",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#2563EB",stopOpacity:.8}),e.jsx("stop",{offset:"95%",stopColor:"#2563EB",stopOpacity:.2})]})}),e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.3}),e.jsx(Zn,{dataKey:"name",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(It,{formatter:L=>[L,"Calls"]}),e.jsx(wo,{type:"monotone",dataKey:"count",stroke:"#2563EB",strokeWidth:3,fill:"url(#callArea)"})]})})})]}),e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(Kr,{className:"chart-icon"}),e.jsx("h3",{children:"Top Contacts"})]}),e.jsx("div",{className:"chart-subtitle",children:"Most interactions"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(os,{data:le,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.3}),e.jsx(Zn,{dataKey:"name",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(It,{formatter:L=>[L,"Calls"]}),e.jsx(pn,{}),e.jsx(Rn,{dataKey:"calls",fill:"#8B5CF6",name:"Calls",radius:[8,8,0,0]})]})})})]})]})]}),e.jsxs("div",{className:"investments-table-card",children:[e.jsxs("div",{className:"table-header",children:[e.jsx("h2",{children:"Calls & Reference Contacts"}),e.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"5px"},children:"Your calls + quick reference from Contact Management, Customer Support & Online Access"})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Contact"}),e.jsx("th",{children:"Phone"}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Type/Source"}),e.jsx("th",{children:"Date/Time"}),e.jsx("th",{children:"Duration (min)"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsxs("tbody",{children:[r.map((L,$)=>e.jsxs("tr",{style:{background:"#fff"},children:[e.jsx("td",{children:e.jsx("strong",{children:L.contactName||"-"})}),e.jsx("td",{children:L.phoneNumber||"-"}),e.jsx("td",{children:"-"}),e.jsx("td",{children:e.jsx("span",{style:{background:L.callType==="Outgoing"?"#dbeafe":"#fef3c7",color:L.callType==="Outgoing"?"#1e40af":"#92400e",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:L.callType})}),e.jsx("td",{children:L.dateTime?.replace("T"," ")||"-"}),e.jsx("td",{children:L.durationMinutes||0}),e.jsx("td",{children:e.jsx("span",{style:{background:L.status==="open"?"#fef3c7":"#d1fae5",color:L.status==="open"?"#92400e":"#065f46",padding:"4px 8px",borderRadius:"4px",fontSize:"12px"},children:L.status})}),e.jsx("td",{children:e.jsxs("div",{className:"investment-actions",children:[e.jsx("button",{onClick:()=>re($),className:"btn-icon",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>Z($),className:"btn-icon btn-danger",children:e.jsx(Ze,{})})]})})]},`call-${L._id||$}`)),r.length>0&&(O.length>0||E.length>0||k.length>0)&&e.jsx("tr",{style:{background:"#f1f5f9"},children:e.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"12px",fontWeight:"600",color:"#475569"},children:" Reference Contacts Below (Click to Use)"})}),O.map((L,$)=>e.jsxs("tr",{style:{background:"#f0fdf4",cursor:"pointer"},onClick:()=>{y(q=>({...q,contactName:L.name,phoneNumber:L.phone})),t||n(!0)},children:[e.jsx("td",{children:L.name||"-"}),e.jsx("td",{children:L.phone||"-"}),e.jsx("td",{children:L.email||"-"}),e.jsxs("td",{children:[e.jsx("span",{style:{background:"#dcfce7",color:"#166534",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:" Contact"}),L.company&&e.jsx("div",{style:{fontSize:"11px",color:"#64748b",marginTop:"2px"},children:L.company})]}),e.jsx("td",{colSpan:"3",style:{fontSize:"12px",color:"#64748b",fontStyle:"italic"},children:"Click to add call"}),e.jsx("td",{children:e.jsx("button",{className:"btn-icon",onClick:q=>{q.stopPropagation(),y(A=>({...A,contactName:L.name,phoneNumber:L.phone})),t||n(!0)},children:e.jsx(Oe,{})})})]},`contact-${$}`)),E.map((L,$)=>e.jsxs("tr",{style:{background:"#fef3c7",cursor:"pointer"},onClick:()=>{y(q=>({...q,contactName:L.company,phoneNumber:L.phone,topic:L.type})),t||n(!0)},children:[e.jsx("td",{children:L.company||"-"}),e.jsx("td",{children:L.phone||"-"}),e.jsx("td",{children:L.email||"-"}),e.jsxs("td",{children:[e.jsx("span",{style:{background:"#fde68a",color:"#713f12",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:" Support"}),L.type&&e.jsx("div",{style:{fontSize:"11px",color:"#64748b",marginTop:"2px"},children:L.type})]}),e.jsx("td",{colSpan:"3",style:{fontSize:"12px",color:"#64748b",fontStyle:"italic"},children:"Click to add call"}),e.jsx("td",{children:e.jsx("button",{className:"btn-icon",onClick:q=>{q.stopPropagation(),y(A=>({...A,contactName:L.company,phoneNumber:L.phone,topic:L.type})),t||n(!0)},children:e.jsx(Oe,{})})})]},`support-${$}`)),k.map((L,$)=>e.jsxs("tr",{style:{background:"#e0e7ff",cursor:"pointer"},onClick:()=>{y(q=>({...q,contactName:L.service,phoneNumber:L.phone,topic:"Account Support"})),t||n(!0)},children:[e.jsx("td",{children:L.service||"-"}),e.jsx("td",{children:L.phone||"-"}),e.jsx("td",{children:L.email||"-"}),e.jsxs("td",{children:[e.jsx("span",{style:{background:"#c7d2fe",color:"#3730a3",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:" Online"}),L.category&&e.jsx("div",{style:{fontSize:"11px",color:"#64748b",marginTop:"2px"},children:L.category})]}),e.jsx("td",{colSpan:"3",style:{fontSize:"12px",color:"#64748b",fontStyle:"italic"},children:"Click to add call"}),e.jsx("td",{children:e.jsx("button",{className:"btn-icon",onClick:q=>{q.stopPropagation(),y(A=>({...A,contactName:L.service,phoneNumber:L.phone,topic:"Account Support"})),t||n(!0)},children:e.jsx(Oe,{})})})]},`online-${$}`)),r.length===0&&O.length===0&&E.length===0&&k.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:"8",style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:"No calls or reference contacts available"})})]})]})})]}),t&&e.jsxs("div",{ref:a,className:"investment-form-card",children:[e.jsx("h2",{children:"Add / Edit Call"}),e.jsxs("form",{className:"investment-form",onSubmit:B,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Contact Name *"}),e.jsx("input",{type:"text",value:v.contactName,onChange:L=>y({...v,contactName:L.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Phone Number *"}),e.jsx("input",{type:"tel",value:v.phoneNumber,onChange:L=>y({...v,phoneNumber:L.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Call Type *"}),e.jsxs("select",{value:v.callType,onChange:L=>y({...v,callType:L.target.value}),required:!0,children:[e.jsx("option",{children:"Outgoing"}),e.jsx("option",{children:"Incoming"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Date & Time *"}),e.jsx("input",{type:"datetime-local",value:v.dateTime,onChange:L=>y({...v,dateTime:L.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Duration (minutes)"}),e.jsx("input",{type:"number",value:v.durationMinutes,onChange:L=>y({...v,durationMinutes:Number(L.target.value)})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Priority"}),e.jsxs("select",{value:v.priority,onChange:L=>y({...v,priority:L.target.value}),children:[e.jsx("option",{children:"low"}),e.jsx("option",{children:"medium"}),e.jsx("option",{children:"high"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Topic"}),e.jsx("input",{type:"text",value:v.topic,onChange:L=>y({...v,topic:L.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Follow-up Date"}),e.jsx("input",{type:"date",value:v.followUpDate,onChange:L=>y({...v,followUpDate:L.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:v.status,onChange:L=>y({...v,status:L.target.value}),children:[e.jsx("option",{children:"open"}),e.jsx("option",{children:"closed"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Tags"}),e.jsx("input",{type:"text",value:v.tags,onChange:L=>y({...v,tags:L.target.value}),placeholder:"comma separated"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:v.notes,onChange:L=>y({...v,notes:L.target.value})})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field full",children:[e.jsx("label",{children:"Action Items"}),v.actionItems.map((L,$)=>e.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[e.jsx("input",{type:"text",value:L,onChange:q=>te($,q.target.value)}),e.jsx("button",{type:"button",className:"btn-danger",onClick:()=>z($),disabled:v.actionItems.length===1,children:"Remove"})]},$)),e.jsxs("button",{type:"button",className:"btn-primary",onClick:_,children:[e.jsx(Oe,{})," Add Item"]})]})}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field full",children:[e.jsx("label",{children:"Summary"}),e.jsx("textarea",{value:v.summary,onChange:L=>y({...v,summary:L.target.value}),placeholder:"Call summary...",rows:"3"})]})}),e.jsxs("div",{className:"form-section",children:[e.jsx("h4",{children:"Ticket Information"}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Ticket Number (if any)"}),e.jsx("input",{type:"text",value:v.ticketNumber,onChange:L=>y({...v,ticketNumber:L.target.value}),placeholder:"e.g., TK-12345"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Priority"}),e.jsxs("select",{value:v.ticketPriority,onChange:L=>y({...v,ticketPriority:L.target.value}),children:[e.jsx("option",{value:"Low",children:"Low"}),e.jsx("option",{value:"Medium",children:"Medium"}),e.jsx("option",{value:"High",children:"High"}),e.jsx("option",{value:"Urgent",children:"Urgent"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Resolution Status"}),e.jsxs("select",{value:v.resolutionStatus,onChange:L=>y({...v,resolutionStatus:L.target.value}),children:[e.jsx("option",{value:"Pending",children:"Pending"}),e.jsx("option",{value:"In Progress",children:"In Progress"}),e.jsx("option",{value:"Resolved",children:"Resolved"}),e.jsx("option",{value:"Escalated",children:"Escalated"}),e.jsx("option",{value:"Closed",children:"Closed"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Average Response Time"}),e.jsx("input",{type:"text",value:v.avgResponseTime,onChange:L=>y({...v,avgResponseTime:L.target.value}),placeholder:"e.g., 24 hours, 2 business days"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Last Contact Date"}),e.jsx("input",{type:"date",value:v.lastContactDate,onChange:L=>y({...v,lastContactDate:L.target.value})})]})]}),e.jsx("div",{className:"form-row",children:e.jsxs("div",{className:"form-field full",children:[e.jsx("label",{children:"Issue Description"}),e.jsx("textarea",{value:v.issueDescription,onChange:L=>y({...v,issueDescription:L.target.value}),placeholder:"Describe the issue or reason for contact...",rows:4})]})})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{className:"btn-success",type:"submit",disabled:h,children:h?"Saving...":"Save"})})]})]})]}),C&&e.jsxs("div",{style:{flex:"0 0 350px",background:"#f8fafc",borderRadius:"12px",padding:"20px",maxHeight:"calc(100vh - 100px)",overflowY:"auto",position:"sticky",top:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"15px"},children:[e.jsx("h3",{style:{margin:0,fontSize:"18px"},children:"Quick Reference"}),e.jsx("button",{onClick:()=>N(!1),style:{background:"none",border:"none",cursor:"pointer",padding:"5px",fontSize:"20px"},children:e.jsx(Ge,{})})]}),e.jsxs("div",{style:{display:"flex",gap:"5px",marginBottom:"15px",borderBottom:"2px solid #e2e8f0"},children:[e.jsxs("button",{onClick:()=>w("contacts"),style:{flex:1,padding:"10px",background:j==="contacts"?"#2563EB":"transparent",color:j==="contacts"?"white":"#64748b",border:"none",borderRadius:"6px 6px 0 0",cursor:"pointer",fontWeight:"500",fontSize:"13px"},children:["Contacts (",O.length,")"]}),e.jsxs("button",{onClick:()=>w("support"),style:{flex:1,padding:"10px",background:j==="support"?"#2563EB":"transparent",color:j==="support"?"white":"#64748b",border:"none",borderRadius:"6px 6px 0 0",cursor:"pointer",fontWeight:"500",fontSize:"13px"},children:["Support (",E.length,")"]}),e.jsxs("button",{onClick:()=>w("online"),style:{flex:1,padding:"10px",background:j==="online"?"#2563EB":"transparent",color:j==="online"?"white":"#64748b",border:"none",borderRadius:"6px 6px 0 0",cursor:"pointer",fontWeight:"500",fontSize:"13px"},children:["Online (",k.length,")"]})]}),j==="contacts"&&e.jsx("div",{children:O.length===0?e.jsx("p",{style:{textAlign:"center",color:"#94a3b8",fontSize:"14px"},children:"No contacts available"}):O.map((L,$)=>e.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"12px",marginBottom:"10px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",cursor:"pointer",transition:"transform 0.2s"},onClick:()=>{y(q=>({...q,contactName:L.name,phoneNumber:L.phone})),t||n(!0)},onMouseEnter:q=>q.currentTarget.style.transform="translateY(-2px)",onMouseLeave:q=>q.currentTarget.style.transform="translateY(0)",children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"4px"},children:L.name}),L.phone&&e.jsxs("div",{style:{fontSize:"12px",color:"#64748b"},children:[" ",L.phone]}),L.email&&e.jsxs("div",{style:{fontSize:"12px",color:"#64748b"},children:[" ",L.email]}),L.company&&e.jsxs("div",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"4px"},children:[" ",L.company]})]},$))}),j==="support"&&e.jsx("div",{children:E.length===0?e.jsx("p",{style:{textAlign:"center",color:"#94a3b8",fontSize:"14px"},children:"No support contacts"}):E.map((L,$)=>e.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"12px",marginBottom:"10px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",cursor:"pointer",transition:"transform 0.2s"},onClick:()=>{y(q=>({...q,contactName:L.company,phoneNumber:L.phone,topic:L.type})),t||n(!0)},onMouseEnter:q=>q.currentTarget.style.transform="translateY(-2px)",onMouseLeave:q=>q.currentTarget.style.transform="translateY(0)",children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"4px"},children:L.company}),L.type&&e.jsx("div",{style:{fontSize:"11px",background:"#dbeafe",color:"#1e40af",padding:"2px 8px",borderRadius:"4px",display:"inline-block",marginBottom:"4px"},children:L.type}),L.phone&&e.jsxs("div",{style:{fontSize:"12px",color:"#64748b"},children:[" ",L.phone]}),L.email&&e.jsxs("div",{style:{fontSize:"12px",color:"#64748b"},children:[" ",L.email]}),L.website&&e.jsxs("div",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"4px"},children:[" ",L.website]})]},$))}),j==="online"&&e.jsx("div",{children:k.length===0?e.jsx("p",{style:{textAlign:"center",color:"#94a3b8",fontSize:"14px"},children:"No online accounts"}):k.map((L,$)=>e.jsxs("div",{style:{background:"white",borderRadius:"8px",padding:"12px",marginBottom:"10px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",cursor:"pointer",transition:"transform 0.2s"},onClick:()=>{y(q=>({...q,contactName:L.service,phoneNumber:L.phone,topic:"Account Support"})),t||n(!0)},onMouseEnter:q=>q.currentTarget.style.transform="translateY(-2px)",onMouseLeave:q=>q.currentTarget.style.transform="translateY(0)",children:[e.jsx("div",{style:{fontWeight:"600",fontSize:"14px",marginBottom:"4px"},children:L.service}),L.category&&e.jsx("div",{style:{fontSize:"11px",background:"#f1f5f9",color:"#475569",padding:"2px 8px",borderRadius:"4px",display:"inline-block",marginBottom:"4px"},children:L.category}),L.phone&&e.jsxs("div",{style:{fontSize:"12px",color:"#64748b"},children:[" ",L.phone]}),L.email&&e.jsxs("div",{style:{fontSize:"12px",color:"#64748b"},children:[" ",L.email]}),L.url&&e.jsxs("div",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"4px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[" ",L.url]})]},$))})]})]})},FQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(!1),[i,o]=x.useState([]),[u,h]=x.useState([]),[p,f]=x.useState([]),[d,v]=x.useState([]),[y,C]=x.useState(0),[N,j]=x.useState(!1),[w,O]=x.useState(new Date().getMonth()),[S,E]=x.useState(new Date().getFullYear()),[T,k]=x.useState(!1),[F,P]=x.useState({}),[W,R]=x.useState(null),[U,J]=x.useState(null),[se,X]=x.useState([]),[le,G]=x.useState(!0),[M,B]=x.useState({billType:"Electricity",billName:"",provider:"",accountNumber:"",cycle:"monthly",amount:1e3,dueDate:"",autoDebit:!1,paymentMethod:"UPI",status:"pending",reminderDays:3,notes:"",startDate:new Date().toISOString().slice(0,10),billingUnit:"",nameOnBill:"",paidAmount:"",paymentDate:"",description:"",meterNumber:"",connectionType:"Domestic",consumerNumber:"",gasAgency:"",planType:"Broadband",dataLimit:"",simNumber:"",networkProvider:"",cardNumber:"",bankName:"",propertyAddress:"",ownerName:"",policyNumber:"",insuranceCompany:"",studentName:"",schoolName:"",grade:"",societyName:"",wing:"",flatNumber:"",additional1:"",additional2:""}),re="daily-bill-checklist",Z=H=>{let de={};try{de=H.notes?JSON.parse(H.notes):{}}catch{de={}}return{_id:H._id,billType:de.billType||"Bill",billName:de.billName||"",provider:H.provider||de.provider||"",accountNumber:H.accountNumber||de.accountNumber||"",cycle:H.frequency||de.cycle||"monthly",amount:H.amount||de.amount||0,dueDate:H.maturityDate?.slice(0,10)||de.dueDate||"",autoDebit:de.autoDebit||!1,status:de.status||"pending",startDate:H.startDate?.slice(0,10)||de.startDate||""}},te=async()=>{try{r(!0);const de=(await De.getBillDatesAnalytics()).data||{};if(de.monthlyProvisions&&de.cycleMix&&de.yearlySchedule&&de.upcoming){o(de.monthlyProvisions),h(de.cycleMix),f(de.yearlySchedule),v(de.upcoming),C(de.summary&&de.summary.annualTotal||0),n([]);return}const ne=((await De.getAll(re)).data.investments||[]).map(Z);n(ne)}catch(H){console.error("Error fetching bill dates:",H)}finally{r(!1)}},_=async()=>{try{const de=((await De.getAll(re)).data.investments||[]).map(D=>{let ne={};try{ne=D.notes?JSON.parse(D.notes):{}}catch{}return{...Z(D),source:ne.syncedFrom||"Manual",lastSynced:ne.lastSynced||null}});X(de)}catch(H){console.error("Error fetching reference bills:",H)}};x.useEffect(()=>{te(),_()},[]);const z=H=>{J(H)},L=async H=>{let de=null;const D=[...t,...se];for(const be of D)if(be.billName===H.billName&&be.provider===H.provider&&be.dueDate===H.dueDate||be._id&&be._id===H._id){de=be;break}if(!de)try{const Ce=((await De.getAll(re)).data.investments||[]).map(Ae=>{let _e={};try{_e=Ae.notes?JSON.parse(Ae.notes):{}}catch{_e={}}return{_id:Ae._id,...Z(Ae),source:_e.syncedFrom||"Manual",lastSynced:_e.lastSynced||null}});for(const Ae of Ce)if(console.log("Checking against fetched bill:",Ae),Ae.provider===H.provider&&Ae.billType===H.billType&&Ae.cycle===H.cycle&&Math.abs(Number(Ae.amount)-Number(H.amount))<1||Ae.billName&&H.billName&&Ae.billName===H.billName&&Ae.provider===H.provider||Ae.provider===H.provider&&Ae.dueDate&&new Date(Ae.dueDate).getDate()===H.day||Ae.billType===H.billType&&Ae.cycle===H.cycle&&Math.abs(Number(Ae.amount)-Number(H.amount))<1||Ae.dueDate&&new Date(Ae.dueDate).getDate()===H.day&&Math.abs(Number(Ae.amount)-Number(H.amount))<1){de=Ae,console.log("Found match with fetched bill:",Ae);break}}catch(be){console.error("Error fetching bills for edit:",be)}console.log("Calendar bill:",H),console.log("Original bill found:",de);const ne=de||{...H,_id:null};console.log("Bill to edit:",ne),R(ne),B({billType:H.billType||"",billName:H.billName||"",provider:H.provider||"",accountNumber:H.accountNumber||"",cycle:H.cycle||"",amount:H.amount||0,dueDate:H.dueDate||"",autoDebit:H.autoDebit||!1,paymentMethod:H.paymentMethod||"UPI",status:H.status||"pending",reminderDays:H.reminderDays||3,notes:H.notes||"",startDate:H.startDate||"",billingUnit:H.billingUnit||"",nameOnBill:H.nameOnBill||"",paidAmount:H.paidAmount||"",paymentDate:H.paymentDate||"",description:H.description||"",meterNumber:H.meterNumber||"",connectionType:H.connectionType||"Domestic",consumerNumber:H.consumerNumber||"",gasAgency:H.gasAgency||""}),j(!0),J(null)},$=async H=>{if(window.confirm(`Are you sure you want to delete the ${H.billName||H.provider} bill?`))try{const D=((await De.getAll(re)).data.investments||[]).map(Ce=>{let Ae={};try{Ae=Ce.notes?JSON.parse(Ce.notes):{}}catch{Ae={}}return{_id:Ce._id,...Z(Ce),source:Ae.syncedFrom||"Manual",lastSynced:Ae.lastSynced||null}});let ne=null;for(const Ce of D)if(Ce.provider===H.provider&&Ce.billType===H.billType&&Ce.cycle===H.cycle&&Math.abs(Number(Ce.amount)-Number(H.amount))<1||Ce.billName===H.billName&&Ce.provider===H.provider){ne=Ce;break}const be=ne?._id;if(!be){alert("Cannot delete bill: No valid ID found");return}await De.delete(be),await te(),await _(),J(null)}catch{alert("Error deleting bill. Please try again.")}},q=new Date,A=H=>({category:re,type:"Bill",name:`${H.billType} - ${H.billName||H.provider||H.accountNumber||""}`.trim(),provider:H.provider||H.billType,accountNumber:H.accountNumber||"",amount:Number(H.amount)||0,startDate:H.startDate||new Date().toISOString().slice(0,10),maturityDate:H.dueDate||void 0,frequency:H.cycle||"monthly",notes:JSON.stringify({...H})}),K=x.useMemo(()=>{const H=Array.from({length:12},(D,ne)=>({idx:ne,key:`${S}-${ne+1}`,name:new Date(S,ne,1).toLocaleString("en-US",{month:"short"}),total:0})),de=(D,ne)=>{D>=0&&D<12&&(H[D].total+=ne)};for(const D of t){const ne=Number(D.amount)||0;if(!ne)continue;const be=D.dueDate?new Date(D.dueDate):null,Ce=D.startDate?new Date(D.startDate):null,Ae=Ce&&Ce.getFullYear()===S?Ce.getMonth():0,_e=be&&be.getFullYear()===S?be.getMonth():Ae;if(D.cycle==="monthly")for(let wt=Math.max(0,Ae);wt<12;wt++)de(wt,ne);else if(D.cycle==="quarterly"){const wt=Math.max(0,_e);for(let qt=wt;qt<12;qt+=3)de(qt,ne)}else D.cycle==="yearly"||D.cycle,de(Math.max(0,_e),ne)}return H.map(D=>({name:D.name,total:D.total}))},[t,S]),xe=x.useMemo(()=>K.reduce((H,de)=>H+de.total,0),[K]),V=x.useMemo(()=>{const H=new Map;for(const de of t){const D=de.cycle||"monthly",ne=H.get(D)||{name:D,value:0};ne.value+=1,H.set(D,ne)}return Array.from(H.values())},[t]),ee=x.useMemo(()=>{const H=Array.from({length:12},(ne,be)=>({monthIdx:be,name:new Date(S,be,1).toLocaleString("en-US",{month:"long"}),items:[],total:0})),D=[...t,...se].reduce((ne,be)=>{const Ce=be._id||`${be.provider}-${be.billName}-${be.dueDate}`;return ne[Ce]||(ne[Ce]=be),ne},{});for(const ne of Object.values(D)){if(!ne.dueDate)continue;const be=new Date(ne.dueDate);if(be.getFullYear()!==S)continue;const Ce=H[be.getMonth()];Ce.items.push({_id:ne._id,id:ne._id,day:be.getDate(),provider:ne.provider,billName:ne.billName||ne.provider||ne.billType,billType:ne.billType,cycle:ne.cycle,amount:Number(ne.amount)||0,accountNumber:ne.accountNumber,dueDate:ne.dueDate,autoDebit:ne.autoDebit,status:ne.status,startDate:ne.startDate,paymentMethod:ne.paymentMethod,reminderDays:ne.reminderDays,notes:ne.notes}),Ce.total+=Number(ne.amount)||0}for(const ne of H)ne.items.sort((be,Ce)=>be.day-Ce.day);return H},[t,se,S]),me=x.useMemo(()=>{const de=new Date(q);de.setDate(de.getDate()+60);const D=[];for(const ne of t){if(!ne.dueDate)continue;const be=new Date(ne.dueDate);be>=q&&be<=de&&D.push({date:be.toISOString().slice(0,10),provider:ne.billName||ne.provider||ne.billType,billType:ne.billType,amount:Number(ne.amount)||0,cycle:ne.cycle})}return D.sort((ne,be)=>ne.date>be.date?1:-1),D},[t]),ue=["#2563EB","#10B981","#EF4444","#8B5CF6"];return a&&t.length===0?e.jsx("div",{className:"investment-container",children:e.jsx("div",{className:"loading",children:"Loading..."})}):e.jsxs("div",{className:"investment-container",children:[e.jsxs("div",{className:"investment-header",children:[e.jsx("h1",{children:"Bill Dates: Monthly Provisions & Yearly Schedule"}),e.jsx("div",{className:"header-actions",children:e.jsxs("button",{className:"btn-primary",onClick:()=>j(!N),style:{background:"linear-gradient(135deg, #9333EA 0%, #C084FC 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Oe,{style:{color:"white"}})," ",N?"Cancel":"Add Bill"]})})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%)"},children:e.jsx(ua,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Annual Provisions"}),e.jsxs("h3",{className:"stat-value",children:["",Math.round(y||xe).toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:e.jsx(lr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Upcoming (60 days)"}),e.jsxs("h3",{className:"stat-value",children:["",Math.round(d.length?d.reduce((H,de)=>H+de.amount,0):me.reduce((H,de)=>H+de.amount,0)).toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%)"},children:e.jsx(Va,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Scheduled This Year"}),e.jsx("h3",{className:"stat-value",children:(p.length?p:ee).reduce((H,de)=>H+de.items.length,0)})]})]})]}),N&&e.jsxs("div",{className:"investment-form-card",children:[e.jsx("h2",{children:W?"Edit Bill":"Add Bill"}),e.jsxs("form",{className:"investment-form",onSubmit:async H=>{H.preventDefault();try{k(!0),W&&W._id?await De.update(W._id,A(M)):await De.create(A(M)),P(de=>({...de,[M.billType]:{...M}})),await te(),await _(),B({billType:"Electricity",billName:"",provider:"",accountNumber:"",cycle:"monthly",amount:1e3,dueDate:"",autoDebit:!1,paymentMethod:"UPI",status:"pending",reminderDays:3,notes:"",startDate:new Date().toISOString().slice(0,10),additional1:"",additional2:""}),R(null),j(!1)}catch(de){alert(de.response?.data?.message||"Error saving bill")}finally{k(!1)}},children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Bill Type *"}),e.jsxs("select",{value:M.billType,onChange:H=>{const de=H.target.value,D=F[de];B(D?{...D,billType:de,dueDate:"",paidAmount:"",paymentDate:""}:{billType:de,billName:"",provider:"",accountNumber:"",cycle:"monthly",amount:1e3,dueDate:"",autoDebit:!1,paymentMethod:"UPI",status:"pending",reminderDays:3,notes:"",startDate:new Date().toISOString().slice(0,10),billingUnit:"",nameOnBill:"",paidAmount:"",paymentDate:"",description:"",meterNumber:"",connectionType:"Domestic",consumerNumber:"",gasAgency:"",planType:"Broadband",dataLimit:"",simNumber:"",networkProvider:"",cardNumber:"",bankName:"",propertyAddress:"",ownerName:"",policyNumber:"",insuranceCompany:"",studentName:"",schoolName:"",grade:"",societyName:"",wing:"",flatNumber:"",additional1:"",additional2:""})},required:!0,children:[e.jsx("option",{children:"Electricity"}),e.jsx("option",{children:"Water"}),e.jsx("option",{children:"Gas"}),e.jsx("option",{children:"Internet"}),e.jsx("option",{children:"Mobile"}),e.jsx("option",{children:"Credit Card"}),e.jsx("option",{children:"Rent"}),e.jsx("option",{children:"Insurance"}),e.jsx("option",{children:"School Fees"}),e.jsx("option",{children:"Maintenance"}),e.jsx("option",{children:"Other"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Bill Name *"}),e.jsx("input",{type:"text",value:M.billName,onChange:H=>B({...M,billName:H.target.value}),placeholder:"Enter bill name",required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Provider *"}),e.jsx("input",{type:"text",value:M.provider,onChange:H=>B({...M,provider:H.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Account Number"}),e.jsx("input",{type:"text",value:M.accountNumber,onChange:H=>B({...M,accountNumber:H.target.value})})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Cycle *"}),e.jsxs("select",{value:M.cycle,onChange:H=>B({...M,cycle:H.target.value}),required:!0,children:[e.jsx("option",{children:"monthly"}),e.jsx("option",{children:"quarterly"}),e.jsx("option",{children:"yearly"}),e.jsx("option",{children:"one-time"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Amount () *"}),e.jsx("input",{type:"number",value:M.amount,onChange:H=>B({...M,amount:Number(H.target.value)}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Due Date *"}),e.jsx("input",{type:"date",value:M.dueDate,onChange:H=>B({...M,dueDate:H.target.value}),required:!0})]})]}),M.billType==="Electricity"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Billing Unit"}),e.jsx("input",{type:"text",value:M.billingUnit,onChange:H=>B({...M,billingUnit:H.target.value}),placeholder:"e.g., kWh"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Name on the Bill"}),e.jsx("input",{type:"text",value:M.nameOnBill,onChange:H=>B({...M,nameOnBill:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Paid Amount"}),e.jsx("input",{type:"number",value:M.paidAmount,onChange:H=>B({...M,paidAmount:Number(H.target.value)})})]})]}),M.billType==="Electricity"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Payment Date"}),e.jsx("input",{type:"date",value:M.paymentDate,onChange:H=>B({...M,paymentDate:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Description"}),e.jsx("input",{type:"text",value:M.description,onChange:H=>B({...M,description:H.target.value})})]})]}),M.billType==="Water"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Meter Number"}),e.jsx("input",{type:"text",value:M.meterNumber,onChange:H=>B({...M,meterNumber:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Connection Type"}),e.jsxs("select",{value:M.connectionType,onChange:H=>B({...M,connectionType:H.target.value}),children:[e.jsx("option",{children:"Domestic"}),e.jsx("option",{children:"Commercial"}),e.jsx("option",{children:"Industrial"})]})]})]}),M.billType==="Gas"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Consumer Number"}),e.jsx("input",{type:"text",value:M.consumerNumber,onChange:H=>B({...M,consumerNumber:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Gas Agency"}),e.jsx("input",{type:"text",value:M.gasAgency,onChange:H=>B({...M,gasAgency:H.target.value})})]})]}),M.billType==="Internet"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Plan Type"}),e.jsxs("select",{value:M.planType,onChange:H=>B({...M,planType:H.target.value}),children:[e.jsx("option",{children:"Broadband"}),e.jsx("option",{children:"Fiber"}),e.jsx("option",{children:"DSL"}),e.jsx("option",{children:"Mobile Data"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Data Limit"}),e.jsx("input",{type:"text",value:M.dataLimit,onChange:H=>B({...M,dataLimit:H.target.value}),placeholder:"e.g., 500GB"})]})]}),M.billType==="Mobile"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"SIM Number"}),e.jsx("input",{type:"text",value:M.simNumber,onChange:H=>B({...M,simNumber:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Network Provider"}),e.jsx("input",{type:"text",value:M.networkProvider,onChange:H=>B({...M,networkProvider:H.target.value})})]})]}),M.billType==="Credit Card"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Card Number"}),e.jsx("input",{type:"text",value:M.cardNumber,onChange:H=>B({...M,cardNumber:H.target.value}),placeholder:"Last 4 digits"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Bank Name"}),e.jsx("input",{type:"text",value:M.bankName,onChange:H=>B({...M,bankName:H.target.value})})]})]}),M.billType==="Rent"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Property Address"}),e.jsx("input",{type:"text",value:M.propertyAddress,onChange:H=>B({...M,propertyAddress:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Owner Name"}),e.jsx("input",{type:"text",value:M.ownerName,onChange:H=>B({...M,ownerName:H.target.value})})]})]}),M.billType==="Insurance"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Policy Number"}),e.jsx("input",{type:"text",value:M.policyNumber,onChange:H=>B({...M,policyNumber:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Insurance Company"}),e.jsx("input",{type:"text",value:M.insuranceCompany,onChange:H=>B({...M,insuranceCompany:H.target.value})})]})]}),M.billType==="School Fees"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Student Name"}),e.jsx("input",{type:"text",value:M.studentName,onChange:H=>B({...M,studentName:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"School Name"}),e.jsx("input",{type:"text",value:M.schoolName,onChange:H=>B({...M,schoolName:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Grade"}),e.jsx("input",{type:"text",value:M.grade,onChange:H=>B({...M,grade:H.target.value})})]})]}),M.billType==="Maintenance"&&e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Society Name"}),e.jsx("input",{type:"text",value:M.societyName,onChange:H=>B({...M,societyName:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Wing"}),e.jsx("input",{type:"text",value:M.wing,onChange:H=>B({...M,wing:H.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Flat Number"}),e.jsx("input",{type:"text",value:M.flatNumber,onChange:H=>B({...M,flatNumber:H.target.value})})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Additional 1"}),e.jsx("input",{type:"text",value:M.additional1,onChange:H=>B({...M,additional1:H.target.value}),placeholder:"Enter additional info"})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Additional 2"}),e.jsx("input",{type:"text",value:M.additional2,onChange:H=>B({...M,additional2:H.target.value}),placeholder:"Enter additional info"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{className:"btn-success",type:"submit",disabled:T,children:T?"Saving...":W?"Update":"Save"}),W&&e.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{R(null),B({billType:"Electricity",billName:"",provider:"",accountNumber:"",cycle:"monthly",amount:1e3,dueDate:"",autoDebit:!1,paymentMethod:"UPI",status:"pending",reminderDays:3,notes:"",startDate:new Date().toISOString().slice(0,10),additional1:"",additional2:""}),j(!1)},children:"Cancel"})]})]})]}),e.jsxs("div",{className:"investments-table-card",children:[e.jsxs("div",{className:"table-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h2",{children:"Monthly Schedule"}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("select",{value:w,onChange:H=>O(Number(H.target.value)),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:["January","February","March","April","May","June","July","August","September","October","November","December"].map((H,de)=>e.jsx("option",{value:de,children:H},de))}),e.jsx("select",{value:S,onChange:H=>E(Number(H.target.value)),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:Array.from({length:10},(H,de)=>new Date().getFullYear()-2+de).map(H=>e.jsx("option",{value:H,children:H},H))})]})]}),e.jsx("div",{style:{padding:"20px"},children:e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"0",border:"2px solid #2563EB"},children:[[1,2,3,4,5,6,7,8,9,10].map(H=>e.jsx("div",{style:{border:"1px solid #2563EB",padding:"8px",fontWeight:"bold",textAlign:"center",background:"#f8fafc"},children:H},`header-${H}`)),[1,2,3,4,5,6,7,8,9,10].map(H=>{const de=(p.length?p:ee)[w],D=de?de.items.filter(ne=>ne.day===H):[];return e.jsx("div",{style:{border:"1px solid #2563EB",padding:"8px",minHeight:"100px",fontSize:"12px",background:H===27||H===28?"#dbeafe":"#fff",position:"relative"},children:D.map((ne,be)=>e.jsxs("div",{style:{marginBottom:"4px",lineHeight:"1.4",cursor:"pointer",padding:"2px 4px",backgroundColor:"#f0f9ff",borderRadius:"4px",border:"1px solid #0ea5e9",position:"relative"},onClick:()=>z({...ne,day:H}),children:[ne.billName||ne.provider,U&&(U.billName||U.provider)===(ne.billName||ne.provider)&&U.day===H&&e.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",zIndex:1e3,minWidth:"120px"},children:[e.jsx("button",{style:{display:"block",width:"100%",padding:"8px 12px",border:"none",backgroundColor:"transparent",cursor:"pointer",textAlign:"left",fontSize:"12px"},onClick:Ce=>{Ce.stopPropagation(),L(ne)},children:"Edit"}),e.jsx("button",{style:{display:"block",width:"100%",padding:"8px 12px",border:"none",backgroundColor:"transparent",cursor:"pointer",textAlign:"left",fontSize:"12px",color:"#ef4444"},onClick:Ce=>{Ce.stopPropagation(),$(ne)},children:"Delete"})]})]},be))},`content-${H}`)}),[11,12,13,14,15,16,17,18,19,20].map(H=>e.jsx("div",{style:{border:"1px solid #2563EB",padding:"8px",fontWeight:"bold",textAlign:"center",background:"#f8fafc"},children:H},`header-${H}`)),[11,12,13,14,15,16,17,18,19,20].map(H=>{const de=(p.length?p:ee)[w],D=de?de.items.filter(ne=>ne.day===H):[];return e.jsx("div",{style:{border:"1px solid #2563EB",padding:"8px",minHeight:"100px",fontSize:"12px",background:H===27||H===28?"#dbeafe":"#fff",position:"relative"},children:D.map((ne,be)=>e.jsxs("div",{style:{marginBottom:"4px",lineHeight:"1.4",cursor:"pointer",padding:"2px 4px",backgroundColor:"#f0f9ff",borderRadius:"4px",border:"1px solid #0ea5e9",position:"relative"},onClick:()=>z({...ne,day:H}),children:[ne.billName||ne.provider,U&&(U.billName||U.provider)===(ne.billName||ne.provider)&&U.day===H&&e.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",zIndex:1e3,minWidth:"120px"},children:[e.jsx("button",{style:{display:"block",width:"100%",padding:"8px 12px",border:"none",backgroundColor:"transparent",cursor:"pointer",textAlign:"left",fontSize:"12px"},onClick:Ce=>{Ce.stopPropagation(),L(ne)},children:"Edit"}),e.jsx("button",{style:{display:"block",width:"100%",padding:"8px 12px",border:"none",backgroundColor:"transparent",cursor:"pointer",textAlign:"left",fontSize:"12px",color:"#ef4444"},onClick:Ce=>{Ce.stopPropagation(),$(ne)},children:"Delete"})]})]},be))},`content-${H}`)}),[21,22,23,24,25,26,27,28,29,30].map(H=>e.jsx("div",{style:{border:"1px solid #2563EB",padding:"8px",fontWeight:"bold",textAlign:"center",background:"#f8fafc"},children:H},`header-${H}`)),[21,22,23,24,25,26,27,28,29,30].map(H=>{const de=(p.length?p:ee)[w],D=de?de.items.filter(ne=>ne.day===H):[];return e.jsx("div",{style:{border:"1px solid #2563EB",padding:"8px",minHeight:"100px",fontSize:"12px",background:H===27||H===28?"#dbeafe":"#fff",position:"relative"},children:D.map((ne,be)=>e.jsxs("div",{style:{marginBottom:"4px",lineHeight:"1.4",cursor:"pointer",padding:"2px 4px",backgroundColor:"#f0f9ff",borderRadius:"4px",border:"1px solid #0ea5e9",position:"relative"},onClick:()=>z({...ne,day:H}),children:[ne.billName||ne.provider,U&&(U.billName||U.provider)===(ne.billName||ne.provider)&&U.day===H&&e.jsxs("div",{style:{position:"absolute",top:"100%",left:"0",backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",zIndex:1e3,minWidth:"120px"},children:[e.jsx("button",{style:{display:"block",width:"100%",padding:"8px 12px",border:"none",backgroundColor:"transparent",cursor:"pointer",textAlign:"left",fontSize:"12px"},onClick:Ce=>{Ce.stopPropagation(),L(ne)},children:"Edit"}),e.jsx("button",{style:{display:"block",width:"100%",padding:"8px 12px",border:"none",backgroundColor:"transparent",cursor:"pointer",textAlign:"left",fontSize:"12px",color:"#ef4444"},onClick:Ce=>{Ce.stopPropagation(),$(ne)},children:"Delete"})]})]},be))},`content-${H}`)})]})})]}),e.jsxs("div",{className:"investments-table-card",children:[e.jsx("div",{className:"table-header",children:e.jsx("h2",{children:"Upcoming (Next 60 days)"})}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Bill Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Cycle"}),e.jsx("th",{children:"Amount"})]})}),e.jsx("tbody",{children:(d.length?d:me).map((H,de)=>e.jsxs("tr",{children:[e.jsx("td",{children:H.date}),e.jsx("td",{children:H.provider}),e.jsx("td",{children:H.billType}),e.jsx("td",{children:H.cycle}),e.jsxs("td",{children:["",Math.round(H.amount).toLocaleString("en-IN")]})]},de))})]})})]}),e.jsxs("div",{className:"charts-section",children:[e.jsxs("div",{className:"charts-header",children:[e.jsx("h2",{children:"Provisions & Cycle Mix"}),e.jsx("p",{children:"Month-wise totals and cycle distribution"})]}),e.jsxs("div",{className:"charts-grid",children:[e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(Kr,{className:"chart-icon"}),e.jsx("h3",{children:"Monthly Provisions"})]}),e.jsx("div",{className:"chart-subtitle",children:"Budgeted amounts per month"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(os,{data:i.length?i:K,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.3}),e.jsx(Zn,{dataKey:"name",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"},tickFormatter:H=>`${(H/1e3).toFixed(0)}K`}),e.jsx(It,{formatter:H=>[`${Math.round(H).toLocaleString("en-IN")}`,"Total"]}),e.jsx(pn,{}),e.jsx(Rn,{dataKey:"total",fill:"#2563EB",name:"Total",radius:[8,8,0,0]})]})})})]}),e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(es,{className:"chart-icon"}),e.jsx("h3",{children:"Cycle Mix"})]}),e.jsx("div",{className:"chart-subtitle",children:"Monthly vs Quarterly vs Yearly"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(ur,{children:[e.jsx(Wa,{data:u.length?u:V,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:(u.length?u:V).map((H,de)=>e.jsx(_n,{fill:ue[de%ue.length],stroke:"#fff",strokeWidth:2},`cell-${de}`))}),e.jsx(It,{formatter:(H,de)=>[H,de]}),e.jsx(pn,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})]})]})]}),le&&se.length>0&&e.jsxs("div",{className:"investments-table-card",style:{marginTop:"20px"},children:[e.jsxs("div",{className:"table-header",children:[e.jsxs("h2",{children:[" All Bills Reference (",se.length," total)"]}),e.jsx("p",{style:{fontSize:"14px",color:"#64748b",marginTop:"5px"},children:"Bills from all sources - Auto-synced from Mobile/Email, Memberships, Digital Assets, Investments"})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Bill Type"}),e.jsx("th",{children:"Provider"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Due Date"}),e.jsx("th",{children:"Cycle"}),e.jsx("th",{children:"Source"}),e.jsx("th",{children:"Status"})]})}),e.jsx("tbody",{children:se.map((H,de)=>e.jsxs("tr",{style:{background:H.source!=="Manual"?"#f0fdf4":"#fff"},children:[e.jsx("td",{children:e.jsx("strong",{children:H.billType})}),e.jsx("td",{children:H.provider||H.billName}),e.jsxs("td",{children:["",Math.round(H.amount||0).toLocaleString("en-IN")]}),e.jsx("td",{children:H.dueDate||"-"}),e.jsx("td",{children:e.jsx("span",{style:{background:H.cycle==="monthly"?"#dbeafe":H.cycle==="quarterly"?"#fef3c7":H.cycle==="yearly"?"#dcfce7":"#f3f4f6",color:H.cycle==="monthly"?"#1e40af":H.cycle==="quarterly"?"#92400e":H.cycle==="yearly"?"#166534":"#374151",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",fontWeight:"500"},children:H.cycle})}),e.jsx("td",{children:e.jsx("span",{style:{background:H.source==="Manual"?"#f3f4f6":"#dcfce7",color:H.source==="Manual"?"#374151":"#166534",padding:"4px 8px",borderRadius:"4px",fontSize:"11px",fontWeight:"500"},children:H.source==="MobileEmailDetails"?" Mobile/Email":H.source==="MembershipList"?" Membership":H.source==="DigitalAssets"?" Digital":H.source==="GoldSgbInvestment"?" Gold/SGB":H.source==="NpsPpfInvestment"?" NPS/PPF":H.source==="MfInsuranceShares"?" Insurance":" Manual"})}),e.jsx("td",{children:e.jsx("span",{style:{background:H.status==="paid"?"#d1fae5":H.status==="pending"?"#fef3c7":"#fee2e2",color:H.status==="paid"?"#065f46":H.status==="pending"?"#92400e":"#991b1b",padding:"4px 8px",borderRadius:"4px",fontSize:"12px"},children:H.status||"pending"})})]},de))})]})})]})]})},zQ=()=>{const[t,n]=x.useState(!1),[a,r]=x.useState([]),[i,o]=x.useState([]),[u,h]=x.useState([]),[p,f]=x.useState({days:[],slots:[],stepMin:30,weekStart:"",weekEnd:""}),[d,v]=x.useState({total:0,open:0,closed:0,weekStart:"",weekEnd:""}),[y,C]=x.useState(!1),[N,j]=x.useState(!1),[w,O]=x.useState({contactName:"",phoneNumber:"",callType:"Outgoing",dateTime:new Date().toISOString().slice(0,16),status:"open",priority:"medium",followUpDate:"",notes:""}),[S,E]=x.useState(""),T=async(G={})=>{try{n(!0);const B=(await De.getWeeklyAppointments(G)).data||{};r(B.weekdayCounts||[]),o(B.statusDistribution||[]),h(B.upcoming||[]),f(B.schedule||{days:[],slots:[],stepMin:30,weekStart:B.summary?.weekStart,weekEnd:B.summary?.weekEnd}),v(B.summary||{total:0,open:0,closed:0});const re=(G.weekStart||B.summary?.weekStart||"").slice(0,10);re&&E(re)}catch(M){console.error("Error fetching weekly appointments:",M)}finally{n(!1)}};x.useEffect(()=>{T()},[]);const k=(G,M=8,B=20,re=30)=>{const Z=new Date(G||new Date().toISOString().slice(0,10));Z.setHours(0,0,0,0);const te=Array.from({length:7},(z,L)=>{const $=new Date(Z);$.setDate(Z.getDate()+L);const q=`${$.getMonth()+1}/${$.getDate()}`,A=$.toLocaleString("en-US",{weekday:"long"}).toUpperCase();return{date:$.toISOString(),label:q,name:A}}),_=[];for(let z=M;z<=B;z++)for(let L=0;L<60;L+=re){const $=String(z).padStart(2,"0"),q=String(L).padStart(2,"0"),A=`${$}:${q}`;_.push({time:A,cells:Array.from({length:7},()=>[])})}return{days:te,slots:_,stepMin:re,weekStart:Z.toISOString(),weekEnd:(()=>{const z=new Date(Z);return z.setDate(Z.getDate()+6),z.setHours(23,59,59,999),z.toISOString()})()}},F=G=>{G&&(E(G),T({weekStart:G}))},P=G=>{const M=S||(d.weekStart?new Date(d.weekStart).toISOString().slice(0,10):new Date().toISOString().slice(0,10)),B=new Date(M);B.setDate(B.getDate()+G*7);const re=B.toISOString().slice(0,10);E(re),T({weekStart:re})},W=["#2563EB","#10B981","#EF4444","#8B5CF6"],R=(()=>{if(!d.weekStart||!d.weekEnd)return"";try{const G=new Date(d.weekStart),M=new Date(d.weekEnd),B=G.toISOString().slice(0,10),re=M.toISOString().slice(0,10);return`${B}  ${re}`}catch{return""}})(),U=(()=>{if(!d.weekStart)return"";const G=new Date(d.weekStart);return`${G.toLocaleString("en-US",{month:"long"})} ${G.getDate()}`})(),J="daily-telephone-conversation",se=G=>({category:J,type:"Call",name:`${G.callType} - ${G.contactName||"Unknown"}`,provider:G.phoneNumber||G.contactName||"Contact",amount:0,startDate:(G.dateTime?new Date(G.dateTime):new Date).toISOString().slice(0,10),maturityDate:G.followUpDate||void 0,frequency:"one-time",notes:JSON.stringify({...G})}),X=async G=>{G.preventDefault();try{j(!0),await De.create(se(w)),await T(),O({contactName:"",phoneNumber:"",callType:"Outgoing",dateTime:new Date().toISOString().slice(0,16),status:"open",priority:"medium",followUpDate:"",notes:""}),C(!1)}catch(M){alert(M.response?.data?.message||"Error saving appointment")}finally{j(!1)}};if(t&&a.length===0)return e.jsx("div",{className:"investment-container",children:e.jsx("div",{className:"loading",children:"Loading..."})});const le=G=>{switch(G){case"Incoming":return{bg:"rgba(99, 102, 241, 0.15)",fg:"#3730A3"};case"Outgoing":return{bg:"rgba(16, 185, 129, 0.15)",fg:"#0F766E"};case"Bill":return{bg:"rgba(245, 158, 11, 0.15)",fg:"#B45309"};case"Reminder":return{bg:"rgba(14, 165, 233, 0.15)",fg:"#075985"};case"Notification":return{bg:"rgba(239, 68, 68, 0.15)",fg:"#991B1B"};case"Event":return{bg:"rgba(107, 114, 128, 0.15)",fg:"#374151"};case"Loan":return{bg:"rgba(20, 184, 166, 0.15)",fg:"#0F766E"};default:return{bg:"rgba(99, 102, 241, 0.12)",fg:"#3730A3"}}};return e.jsxs("div",{className:"investment-container",children:[e.jsxs("div",{className:"investment-header",children:[e.jsx("h1",{children:"Weekly Appointment Chart"}),e.jsxs("div",{className:"header-actions",style:{display:"flex",gap:12,alignItems:"center"},children:[e.jsxs("button",{className:"btn-primary",onClick:()=>C(!y),style:{background:"linear-gradient(135deg, #9333EA 0%, #C084FC 100%)",color:"white",border:"none",padding:"12px 24px",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Oe,{style:{color:"white"}})," ",y?"Cancel":"Add Appointment"]}),e.jsx("span",{style:{color:"#64748b"},children:R}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("button",{className:"btn-primary",onClick:()=>P(-1),style:{padding:"8px 12px"},children:""}),e.jsx("input",{type:"date",value:S||(d.weekStart?new Date(d.weekStart).toISOString().slice(0,10):""),onChange:G=>F(G.target.value),style:{padding:"8px 12px",borderRadius:8,border:"1px solid #e5e7eb"}}),e.jsx("button",{className:"btn-primary",onClick:()=>P(1),style:{padding:"8px 12px"},children:""})]})]})]}),e.jsxs("div",{className:"investments-table-card",style:{marginTop:16},children:[e.jsx("div",{className:"table-header",style:{background:"#0ea5e9",color:"white",borderRadius:12,padding:"12px 16px",marginBottom:12},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("h2",{style:{color:"white",margin:0},children:["Week of: ",U]}),e.jsx("span",{style:{opacity:.9},children:"Set the starting date; days auto-update"})]})}),e.jsx("div",{className:"table-container weekly-grid",style:{overflowX:"auto",overflowY:"visible",paddingBottom:8},children:e.jsxs("table",{className:"investments-table",style:{width:"max-content",borderCollapse:"separate",borderSpacing:0},children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:{minWidth:120},children:"Time"}),(p.days&&p.days.length?p.days:k(S||d.weekStart).days).map((G,M)=>e.jsxs("th",{style:{minWidth:140},children:[e.jsx("div",{style:{fontWeight:700},children:G.label}),e.jsx("div",{style:{fontSize:12,color:"#64748b"},children:G.name})]},`day-${M}`))]})}),e.jsx("tbody",{children:(p.slots&&p.slots.length?p.slots:k(S||d.weekStart).slots).map((G,M)=>e.jsxs("tr",{children:[e.jsx("td",{style:{fontWeight:600,background:"#f8fafc",position:"sticky",left:0},children:UQ(G.time)}),G.cells.map((B,re)=>e.jsxs("td",{style:{verticalAlign:"top",padding:6,background:M%2?"#f9fafb":"#fff"},children:[B.slice(0,3).map((Z,te)=>e.jsxs("div",{style:{display:"inline-block",marginRight:6,marginBottom:4,padding:"2px 6px",borderRadius:8,fontSize:11,background:le(Z.type).bg,color:le(Z.type).fg,border:"1px dashed #e5e7eb"},children:[Z.type,": ",Z.title]},`ev-${te}`)),B.length>3?e.jsxs("div",{style:{fontSize:11,color:"#64748b"},children:["+",B.length-3," more"]}):""]},`cell-${M}-${re}`))]},`row-${M}`))})]})})]}),e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%)"},children:e.jsx(Xr,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Total"}),e.jsx("h3",{className:"stat-value",children:d.total})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)"},children:e.jsx(Va,{})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("p",{className:"stat-label",children:"Open/Closed"}),e.jsxs("h3",{className:"stat-value",children:[d.open,"/",d.closed]})]})]})]}),y&&e.jsxs("div",{className:"investment-form-card",children:[e.jsx("h2",{children:"Add Appointment"}),e.jsxs("form",{className:"investment-form",onSubmit:X,children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Contact Name *"}),e.jsx("input",{type:"text",value:w.contactName,onChange:G=>O({...w,contactName:G.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Phone Number *"}),e.jsx("input",{type:"tel",value:w.phoneNumber,onChange:G=>O({...w,phoneNumber:G.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Call Type *"}),e.jsxs("select",{value:w.callType,onChange:G=>O({...w,callType:G.target.value}),required:!0,children:[e.jsx("option",{children:"Outgoing"}),e.jsx("option",{children:"Incoming"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Date & Time *"}),e.jsx("input",{type:"datetime-local",value:w.dateTime,onChange:G=>O({...w,dateTime:G.target.value}),required:!0})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Follow-up Date"}),e.jsx("input",{type:"date",value:w.followUpDate,onChange:G=>O({...w,followUpDate:G.target.value})})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Priority"}),e.jsxs("select",{value:w.priority,onChange:G=>O({...w,priority:G.target.value}),children:[e.jsx("option",{children:"low"}),e.jsx("option",{children:"medium"}),e.jsx("option",{children:"high"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:w.status,onChange:G=>O({...w,status:G.target.value}),children:[e.jsx("option",{children:"open"}),e.jsx("option",{children:"closed"})]})]}),e.jsxs("div",{className:"form-field",children:[e.jsx("label",{children:"Notes"}),e.jsx("input",{type:"text",value:w.notes,onChange:G=>O({...w,notes:G.target.value})})]})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{className:"btn-success",type:"submit",disabled:N,children:N?"Saving...":"Save"})})]})]}),e.jsxs("div",{className:"charts-section",children:[e.jsxs("div",{className:"charts-header",children:[e.jsx("h2",{children:"Week Overview"}),e.jsx("p",{children:"Day-wise counts and status distribution"})]}),e.jsxs("div",{className:"charts-grid",children:[e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(Kr,{className:"chart-icon"}),e.jsx("h3",{children:"Appointments per Day"})]}),e.jsx("div",{className:"chart-subtitle",children:"Mon  Sun"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(os,{data:a,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(Xn,{strokeDasharray:"3 3",stroke:"#e2e8f0",strokeOpacity:.3}),e.jsx(Zn,{dataKey:"name",tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(Qn,{tick:{fontSize:12,fontWeight:"500",fill:"#64748b"}}),e.jsx(It,{}),e.jsx(pn,{}),e.jsx(Rn,{dataKey:"count",fill:"#2563EB",name:"Count",radius:[8,8,0,0]})]})})})]}),e.jsxs("div",{className:"chart-card premium",children:[e.jsxs("div",{className:"chart-header",children:[e.jsxs("div",{className:"chart-title",children:[e.jsx(es,{className:"chart-icon"}),e.jsx("h3",{children:"Status Mix"})]}),e.jsx("div",{className:"chart-subtitle",children:"Open vs Closed"})]}),e.jsx("div",{className:"chart-content",children:e.jsx(Mt,{width:"100%",height:320,children:e.jsxs(ur,{children:[e.jsx(Wa,{data:i,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:i.map((G,M)=>e.jsx(_n,{fill:W[M%W.length],stroke:"#fff",strokeWidth:2},`cell-${M}`))}),e.jsx(It,{formatter:(G,M)=>[G,M]}),e.jsx(pn,{verticalAlign:"bottom",height:36,iconType:"circle"})]})})})]})]})]}),e.jsxs("div",{className:"investments-table-card",children:[e.jsx("div",{className:"table-header",children:e.jsx("h2",{children:"Week Appointments"})}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"investments-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date/Time"}),e.jsx("th",{children:"Contact"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Priority"})]})}),e.jsx("tbody",{children:u.map((G,M)=>e.jsxs("tr",{children:[e.jsx("td",{children:G.date}),e.jsx("td",{children:G.contactName}),e.jsx("td",{children:G.callType}),e.jsx("td",{children:G.status}),e.jsx("td",{children:G.priority})]},M))})]})})]})]})},UQ=t=>{const[n,a]=t.split(":");let r=parseInt(n,10);const i=r>=12?"PM":"AM";return r===0?r=12:r>12&&(r-=12),`${r}:${a} ${i}`},zn=Wt.create({baseURL:"https://finance-qr54.onrender.com/api",timeout:1e4,headers:{"Content-Type":"application/json"}});zn.interceptors.request.use(t=>{const n=localStorage.getItem("token");return n&&(t.headers.Authorization=`Bearer ${n}`),t},t=>Promise.reject(t));zn.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(t)));const qr={getAll:async(t={})=>{const n=new URLSearchParams(t);return(await zn.get(`/calendar?${n}`)).data},getMonthEvents:async(t,n,a="all")=>{const r=a!=="all"?`?calendar=${a}`:"";return(await zn.get(`/calendar/month/${t}/${n}${r}`)).data},getYearEvents:async(t,n={})=>{const a=`${t}-01-01`,r=`${t}-12-31`,i=new URLSearchParams({startDate:a,endDate:r,...n});return(await zn.get(`/calendar?${i}`)).data},getUpcoming:async(t=30,n="all")=>{const a=`?days=${t}${n!=="all"?`&calendar=${n}`:""}`;return(await zn.get(`/calendar/upcoming${a}`)).data},create:async t=>(await zn.post("/calendar",t)).data,update:async(t,n)=>(await zn.put(`/calendar/${t}`,n)).data,delete:async t=>(await zn.delete(`/calendar/${t}`)).data,getAnalytics:async t=>{const n=t?`?year=${t}`:"";return(await zn.get(`/calendar/analytics${n}`)).data},bulkCreate:async t=>(await zn.post("/calendar/bulk",{operation:"create",events:t})).data,bulkDelete:async t=>(await zn.post("/calendar/bulk",{operation:"delete",events:t})).data},Fc={getAll:async()=>(await zn.get("/categories")).data,create:async t=>(await zn.post("/categories",t)).data,update:async(t,n)=>(await zn.put(`/categories/${t}`,n)).data,delete:async t=>(await zn.delete(`/categories/${t}`)).data},$Q=[{value:"",label:"No reminder"},{value:"5-minutes",label:"5 minutes before"},{value:"15-minutes",label:"15 minutes before"},{value:"30-minutes",label:"30 minutes before"},{value:"1-hour",label:"1 hour before"},{value:"1-day",label:"1 day before"},{value:"1-week",label:"1 week before"}],qQ=[{value:"",label:"Does not repeat"},{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"}],HQ=({isOpen:t,onClose:n,onSave:a,event:r,selectedDate:i,categories:o=[]})=>{const[u,h]=x.useState({title:"",description:"",category:"other",date:"",time:"",isAllDay:!1,location:"",reminder:"",repeat:"",repeatEndDate:"",eventColor:"#3B82F6"}),[p,f]=x.useState({}),[d,v]=x.useState(!1);x.useEffect(()=>{if(r){const w=new Date(r.date);h({title:r.title||"",description:r.description||"",category:r.category||"other",date:w.toISOString().split("T")[0],time:r.time||"",isAllDay:r.isAllDay||!1,location:r.location||"",reminder:r.reminder||"",repeat:r.repeat||"",repeatEndDate:r.repeatEndDate?new Date(r.repeatEndDate).toISOString().split("T")[0]:"",eventColor:r.eventColor||"#3B82F6"})}else i&&h(w=>({...w,date:i}))},[r,i]);const y=(w,O)=>{if(h(S=>({...S,[w]:O})),p[w]&&f(S=>({...S,[w]:null})),w==="category"){const S=o.find(E=>E.value===O);S&&h(E=>({...E,eventColor:S.color}))}},C=()=>{const w={};if(u.title.trim()||(w.title="Title is required"),u.date||(w.date="Date is required"),!u.isAllDay&&u.time&&!/^([01]\d|2[0-3]):([0-5]\d)$/.test(u.time)&&(w.time="Invalid time format (HH:MM)"),u.repeat&&u.repeatEndDate){const O=new Date(u.date);new Date(u.repeatEndDate)<=O&&(w.repeatEndDate="End date must be after the event date")}return f(w),Object.keys(w).length===0},N=async w=>{if(w.preventDefault(),!!C()){v(!0);try{const O={...u,date:new Date(u.date).toISOString(),reminder:u.reminder||null,repeat:u.repeat||null,repeatEndDate:u.repeatEndDate?new Date(u.repeatEndDate).toISOString():null};await a(O,r?._id),j()}catch(O){console.error("Error saving event:",O),alert(O.response?.data?.error||"Failed to save event")}finally{v(!1)}}},j=()=>{h({title:"",description:"",category:"other",date:"",time:"",isAllDay:!1,location:"",reminder:"",repeat:"",repeatEndDate:"",eventColor:"#3B82F6"}),f({}),n()};return t?e.jsx("div",{className:"event-modal-overlay",onClick:j,children:e.jsxs("div",{className:"event-modal",onClick:w=>w.stopPropagation(),children:[e.jsxs("div",{className:"event-modal-header",children:[e.jsx("h2",{children:r?"Edit Event":"New Event"}),e.jsx("button",{className:"close-btn",onClick:j,children:e.jsx(Ge,{})})]}),e.jsxs("form",{className:"event-modal-form",onSubmit:N,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("input",{type:"text",className:`form-input title-input ${p.title?"error":""}`,placeholder:"Add title",value:u.title,onChange:w=>y("title",w.target.value)}),p.title&&e.jsx("span",{className:"error-text",children:p.title})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(Va,{}),"Category"]}),e.jsx("div",{className:"category-selector",children:o.map(w=>e.jsxs("button",{type:"button",className:`category-btn ${u.category===w.value?"active":""}`,style:{"--category-color":w.color,borderColor:u.category===w.value?w.color:"#E5E7EB"},onClick:()=>y("category",w.value),children:[e.jsx("span",{className:"category-dot",style:{backgroundColor:w.color}}),w.label]},w.value))})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(Va,{}),"Date & Time"]}),e.jsxs("div",{className:"datetime-inputs",children:[e.jsx("input",{type:"date",className:`form-input ${p.date?"error":""}`,value:u.date,onChange:w=>y("date",w.target.value)}),e.jsx("input",{type:"time",className:`form-input ${p.time?"error":""}`,value:u.time,onChange:w=>y("time",w.target.value),disabled:u.isAllDay}),e.jsxs("label",{className:"checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:u.isAllDay,onChange:w=>y("isAllDay",w.target.checked)}),"All day"]})]}),p.date&&e.jsx("span",{className:"error-text",children:p.date}),p.time&&e.jsx("span",{className:"error-text",children:p.time})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(jL,{}),"Description"]}),e.jsx("textarea",{className:"form-textarea",placeholder:"Add description",rows:"3",value:u.description,onChange:w=>y("description",w.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(lr,{}),"Location"]}),e.jsx("input",{type:"text",className:"form-input",placeholder:"Add location",value:u.location,onChange:w=>y("location",w.target.value)})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(ej,{}),"Repeat"]}),e.jsx("select",{className:"form-select",value:u.repeat,onChange:w=>y("repeat",w.target.value),children:qQ.map(w=>e.jsx("option",{value:w.value,children:w.label},w.value))})]}),u.repeat&&e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(Va,{}),"End Date"]}),e.jsx("input",{type:"date",className:`form-input ${p.repeatEndDate?"error":""}`,value:u.repeatEndDate,onChange:w=>y("repeatEndDate",w.target.value),min:u.date}),e.jsx("small",{className:"form-hint",children:"Optional: When to stop repeating this event"}),p.repeatEndDate&&e.jsx("span",{className:"error-text",children:p.repeatEndDate})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{className:"form-label",children:[e.jsx(Rc,{}),"Reminder"]}),e.jsx("select",{className:"form-select",value:u.reminder,onChange:w=>y("reminder",w.target.value),children:$Q.map(w=>e.jsx("option",{value:w.value,children:w.label},w.value))})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{type:"button",className:"btn-cancel",onClick:j,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-save",disabled:d,children:d?"Saving...":r?"Update":"Save"})]})]})]})}):null},VQ=({isOpen:t,onClose:n,onUpdate:a})=>{const[r,i]=x.useState([]),[o,u]=x.useState(!1),[h,p]=x.useState({label:"",color:"#3B82F6"}),[f,d]=x.useState(null),[v,y]=x.useState({label:"",color:""});x.useEffect(()=>{t&&C()},[t]);const C=async()=>{try{u(!0);const E=await Fc.getAll();console.log("Fetched categories:",E.categories),i(E.categories||[])}catch(E){console.error("Error fetching categories:",E),alert("Failed to load categories")}finally{u(!1)}},N=async E=>{if(E.preventDefault(),!h.label.trim()){alert("Please enter a category name");return}try{u(!0),await Fc.create(h),p({label:"",color:"#3B82F6"}),await C(),a?.()}catch(T){console.error("Error adding category:",T),alert(T.response?.data?.error||"Failed to add category")}finally{u(!1)}},j=async E=>{if(!v.label.trim()){alert("Please enter a category name");return}try{u(!0),await Fc.update(E,v),d(null),y({label:"",color:""}),await C(),a?.()}catch(T){console.error("Error updating category:",T),alert(T.response?.data?.error||"Failed to update category")}finally{u(!1)}},w=async E=>{if(window.confirm("Are you sure you want to delete this category?"))try{u(!0),await Fc.delete(E),await C(),a?.()}catch(T){console.error("Error deleting category:",T),alert(T.response?.data?.error||"Failed to delete category")}finally{u(!1)}},O=E=>{d(E._id),y({label:E.label,color:E.color})},S=()=>{d(null),y({label:"",color:""})};return t?e.jsx("div",{className:"modal-overlay",onClick:n,children:e.jsxs("div",{className:"modal-content manage-categories-modal",onClick:E=>E.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h2",{children:"Manage Categories"}),e.jsx("button",{className:"close-btn",onClick:n,children:e.jsx(Ge,{})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("form",{className:"add-category-form",onSubmit:N,children:[e.jsx("h3",{children:"Add New Category"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category Name"}),e.jsx("input",{type:"text",placeholder:"Enter category name",value:h.label,onChange:E=>p({...h,label:E.target.value}),disabled:o})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Color"}),e.jsxs("div",{className:"color-picker-group",children:[e.jsx("input",{type:"color",value:h.color,onChange:E=>p({...h,color:E.target.value}),disabled:o}),e.jsx("span",{className:"color-preview",style:{backgroundColor:h.color}})]})]}),e.jsxs("button",{type:"submit",className:"btn-primary",disabled:o,children:[e.jsx(Oe,{})," Add Category"]})]}),e.jsxs("div",{className:"categories-list",children:[e.jsx("h3",{children:"Your Categories"}),o&&r.length===0?e.jsx("div",{className:"loading",children:"Loading categories..."}):r.length===0?e.jsx("div",{className:"empty-state",children:"No categories found"}):e.jsx("div",{className:"categories-grid",children:r.map(E=>e.jsx("div",{className:"category-item",children:f===E._id?e.jsxs("div",{className:"edit-form",children:[e.jsx("input",{type:"text",value:v.label,onChange:T=>y({...v,label:T.target.value}),disabled:o}),e.jsx("input",{type:"color",value:v.color,onChange:T=>y({...v,color:T.target.value}),disabled:o}),e.jsxs("div",{className:"edit-actions",children:[e.jsx("button",{className:"btn-save",onClick:()=>j(E._id),disabled:o,children:"Save"}),e.jsx("button",{className:"btn-cancel",onClick:S,disabled:o,children:"Cancel"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"category-info",children:[e.jsx("span",{className:"category-color",style:{backgroundColor:E.color}}),e.jsx("span",{className:"category-label",children:E.label}),E.isDefault&&e.jsx("span",{className:"default-badge",children:"Default"})]}),e.jsxs("div",{className:"category-actions",children:[e.jsx("button",{className:"btn-icon",onClick:()=>O(E),disabled:o,title:"Edit category",children:e.jsx(ct,{})}),e.jsx("button",{className:"btn-icon btn-delete",onClick:()=>w(E._id),disabled:o,title:"Delete category",children:e.jsx(Ze,{})})]})]})},E._id))})]})]})]})}):null},Mc=["January","February","March","April","May","June","July","August","September","October","November","December"],YQ=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],GQ=()=>{const[t,n]=x.useState("month"),[a,r]=x.useState(new Date),[i,o]=x.useState([]),[u,h]=x.useState([]),[p,f]=x.useState(!1),[d,v]=x.useState([]),[y,C]=x.useState([]),[N,j]=x.useState(!1),[w,O]=x.useState(!1),[S,E]=x.useState(null),[T,k]=x.useState(null),[F,P]=x.useState("single"),W=16,[R,U]=x.useState(new Date().getFullYear()),J=x.useMemo(()=>Array.from({length:W},(ee,me)=>R+me),[R]),se=async()=>{try{const me=(await Fc.getAll()).categories||[];v(me),C(me.map(ue=>ue.value))}catch(ee){console.error("Error fetching categories:",ee),v([])}},X=async()=>{try{f(!0);let ee=[];if(t==="year")if(F==="multi")ee=(await Promise.all(J.map(ue=>qr.getYearEvents(ue).catch(()=>({events:[]}))))).flatMap(ue=>ue.events||[]);else{const me=a.getFullYear();ee=(await qr.getYearEvents(me)).events||[]}else{const me=a.getFullYear(),ue=a.getMonth()+1;ee=(await qr.getMonthEvents(me,ue)).events||[]}o(ee)}catch(ee){console.error("Error fetching events:",ee),o([])}finally{f(!1)}};x.useEffect(()=>{se()},[]),x.useEffect(()=>{const ee=i.filter(me=>y.includes(me.category||"other"));h(ee)},[i,y]),x.useEffect(()=>{d.length>0&&X()},[t,F,R,a.getFullYear(),a.getMonth(),d.length]);const le=()=>{if(t==="year"&&F==="multi"){U(me=>me-W);return}const ee=new Date(a);t==="year"?ee.setFullYear(ee.getFullYear()-1):t==="month"?ee.setMonth(ee.getMonth()-1):t==="week"?ee.setDate(ee.getDate()-7):ee.setDate(ee.getDate()-1),r(ee)},G=()=>{if(t==="year"&&F==="multi"){U(me=>me+W);return}const ee=new Date(a);t==="year"?ee.setFullYear(ee.getFullYear()+1):t==="month"?ee.setMonth(ee.getMonth()+1):t==="week"?ee.setDate(ee.getDate()+7):ee.setDate(ee.getDate()+1),r(ee)},M=()=>{r(new Date)},B=ee=>{C(me=>me.includes(ee)?me.filter(ue=>ue!==ee):[...me,ee])},re=ee=>{k(ee),E(null),j(!0)},Z=(ee,me)=>{me?.stopPropagation(),E(ee),k(null),j(!0)},te=async(ee,me)=>{if(me?.stopPropagation(),!!window.confirm("Are you sure you want to delete this event?"))try{await qr.delete(ee),await X()}catch(ue){console.error("Error deleting event:",ue),alert("Failed to delete event")}},_=async(ee,me)=>{try{me?await qr.update(me,ee):await qr.create(ee),await X()}catch(ue){throw console.error("Error saving event:",ue),ue}},z=(ee,me)=>{const ue=new Date(ee,me,1),de=new Date(ee,me+1,0).getDate(),D=ue.getDay(),ne=[],be=new Date(ee,me,0).getDate();for(let Ae=D-1;Ae>=0;Ae--)ne.push({date:be-Ae,isCurrentMonth:!1,fullDate:new Date(ee,me-1,be-Ae)});for(let Ae=1;Ae<=de;Ae++)ne.push({date:Ae,isCurrentMonth:!0,fullDate:new Date(ee,me,Ae)});const Ce=42-ne.length;for(let Ae=1;Ae<=Ce;Ae++)ne.push({date:Ae,isCurrentMonth:!1,fullDate:new Date(ee,me+1,Ae)});return ne},L=ee=>{const me=ee.toISOString().split("T")[0];return u.filter(ue=>new Date(ue.date).toISOString().split("T")[0]===me)},$=ee=>{const me=new Date;return ee.getDate()===me.getDate()&&ee.getMonth()===me.getMonth()&&ee.getFullYear()===me.getFullYear()},q=()=>{if(t==="year"){if(F==="multi"){const ee=R+W-1;return`${R}  ${ee}`}return a.getFullYear().toString()}else return t==="month"?`${Mc[a.getMonth()]} ${a.getFullYear()}`:t==="week"?`Week of ${Mc[a.getMonth()]} ${a.getDate()}, ${a.getFullYear()}`:`${Mc[a.getMonth()]} ${a.getDate()}, ${a.getFullYear()}`},A=()=>{const ee=a.getFullYear(),me=ue=>new Date(ee,ue+1,0).getDate();return e.jsx("div",{className:"year-table-view",children:e.jsx("div",{className:"year-table-container",children:e.jsxs("table",{className:"year-calendar-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"month-header",children:"MONTH"}),e.jsx("th",{className:"category-header",children:"CATEGORIES"}),e.jsx("th",{colSpan:"31",className:"calendar-title",children:"CALENDAR"})]})}),e.jsx("tbody",{children:Mc.map((ue,H)=>{const de=me(H),D=i.filter(be=>{const Ce=new Date(be.date);return Ce.getFullYear()===ee&&Ce.getMonth()===H&&y.includes(be.category||"other")}),ne={};return D.forEach(be=>{const Ce=new Date(be.date).getDate(),Ae=be.category||"other",_e=`${Ce}-${Ae}`;ne[_e]||(ne[_e]=[]),ne[_e].push(be)}),e.jsxs(wa.Fragment,{children:[e.jsxs("tr",{className:"month-row",children:[e.jsx("td",{className:"month-name",rowSpan:d.length+1,children:ue.toUpperCase()}),e.jsx("td",{className:"day-header-label",children:"Days "}),Array.from({length:31},(be,Ce)=>{const Ae=Ce+1;return e.jsx("td",{className:`day-header ${Ae>de?"empty-day":""}`,children:Ae<=de?Ae:""},Ae)})]}),d.map(be=>e.jsxs("tr",{className:"category-row",children:[e.jsxs("td",{className:"category-label",children:[e.jsx("span",{className:"category-dot",style:{backgroundColor:be.color}}),be.label]}),Array.from({length:31},(Ce,Ae)=>{const _e=Ae+1,wt=`${_e}-${be.value}`,qt=ne[wt]||[];return _e<=de&&qt.length>0?e.jsx("td",{className:"event-cell has-event",style:{backgroundColor:`${be.color}15`,borderLeft:`3px solid ${be.color}`},onClick:()=>Z(qt[0]),title:qt.map(li=>li.title).join(", "),children:qt.length>1?`${qt.length}`:""},_e):e.jsx("td",{className:`event-cell ${_e>de?"empty-day":""}`},_e)})]},`${H}-${be.value}`))]},H)})})]})})})},K=()=>e.jsx("div",{className:"multi-year-table-view",children:e.jsx("div",{className:"year-table-container",children:e.jsxs("table",{className:"multi-year-calendar-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"month-header",children:"MONTHS"}),e.jsx("th",{className:"category-header",children:"CATEGORIES"}),J.map(ee=>e.jsx("th",{className:"year-col-header",children:ee},ee))]})}),e.jsx("tbody",{children:Mc.map((ee,me)=>e.jsx(wa.Fragment,{children:d.map((ue,H)=>e.jsxs("tr",{className:"category-row",children:[H===0&&e.jsx("td",{className:"month-name",rowSpan:d.length,children:ee.toUpperCase()}),e.jsxs("td",{className:"category-label",children:[e.jsx("span",{className:"category-dot",style:{backgroundColor:ue.color}}),ue.label]}),J.map(de=>{const D=i.filter(Ce=>{const Ae=new Date(Ce.date);return Ae.getFullYear()===de&&Ae.getMonth()===me&&(Ce.category||"other")===(ue.value||"other")&&y.includes(ue.value)}),ne=D.length>0,be=ne?D.map(Ce=>`${new Date(Ce.date).getDate()}: ${Ce.title}`).join(", "):"";return e.jsx("td",{className:`event-cell ${ne?"has-event":""}`,style:ne?{backgroundColor:`${ue.color}15`,borderLeft:`3px solid ${ue.color}`}:{},title:be,onClick:()=>{if(!ne)return;const Ce=new Date(de,me,1);n("month"),r(Ce)},children:ne?D.length>1?`${D.length}`:"":""},`${de}-${me}-${ue.value}`)})]},`${me}-${ue.value}`))},me))})]})})}),xe=()=>{const ee=a.getFullYear(),me=a.getMonth(),ue=z(ee,me);return e.jsx("div",{className:"month-view",children:e.jsxs("div",{className:"calendar-grid",children:[YQ.map(H=>e.jsx("div",{className:"calendar-day-header",children:H},H)),ue.map((H,de)=>{const D=L(H.fullDate);return e.jsxs("div",{className:`calendar-day-cell ${H.isCurrentMonth?"":"other-month"} ${$(H.fullDate)?"today":""}`,onClick:()=>re(H.fullDate.toISOString().split("T")[0]),children:[e.jsx("div",{className:"day-number",children:H.date}),e.jsxs("div",{className:"event-list",children:[D.slice(0,3).map(ne=>e.jsx("div",{className:`event-item ${ne.category||"other"}`,onClick:be=>{be.stopPropagation(),Z(ne,be)},children:ne.title},ne._id)),D.length>3&&e.jsxs("div",{className:"event-more",children:["+",D.length-3," more"]})]})]},de)})]})})},V=()=>{const ee=L(a);return e.jsx("div",{className:"day-view",children:ee.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-state-icon",children:e.jsx(Va,{})}),e.jsx("div",{className:"empty-state-text",children:"No events for this day"}),e.jsx("div",{className:"empty-state-subtext",children:"Click the + button to add an event"})]}):e.jsx("div",{className:"day-events-list",children:ee.map(me=>{const ue=CATEGORIES.find(H=>H.value===me.category);return e.jsxs("div",{className:"day-event-item",style:{borderLeftColor:ue?.color||"#3B82F6"},onClick:()=>Z(me),children:[e.jsxs("div",{className:"event-time",children:[me.time||"All day","  ",ue?.label||"Other"]}),e.jsx("div",{className:"event-title",children:me.title}),me.description&&e.jsx("div",{className:"event-description",children:me.description}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[e.jsxs("button",{className:"btn-primary",style:{padding:"6px 12px",fontSize:"12px"},onClick:H=>Z(me,H),children:[e.jsx(ct,{})," Edit"]}),e.jsxs("button",{className:"btn-primary",style:{padding:"6px 12px",fontSize:"12px",background:"#EF4444"},onClick:H=>te(me._id,H),children:[e.jsx(Ze,{})," Delete"]})]})]},me._id)})})})};return p&&i.length===0?e.jsx("div",{className:"yearly-calendar-container",children:e.jsx("div",{className:"loading",children:"Loading calendar..."})}):e.jsxs("div",{className:"yearly-calendar-container",children:[e.jsxs("div",{className:"calendar-header",children:[e.jsx("h1",{children:" Calendar"}),e.jsxs("div",{className:"header-actions",children:[t==="year"&&e.jsxs("div",{className:"year-mode-toggle",children:[e.jsx("button",{className:`view-btn ${F==="single"?"active":""}`,onClick:()=>P("single"),title:"Single year view",children:"Single year"}),e.jsx("button",{className:`view-btn ${F==="multi"?"active":""}`,onClick:()=>P("multi"),title:"Multi year view",children:"Multi year"})]}),e.jsxs("button",{className:"btn-primary",onClick:()=>re(new Date().toISOString().split("T")[0]),children:[e.jsx(Oe,{})," Add Event"]})]})]}),e.jsxs("div",{className:"calendar-toolbar",children:[e.jsxs("div",{className:"view-selector",children:[e.jsx("button",{className:`view-btn ${t==="year"?"active":""}`,onClick:()=>n("year"),children:"Year"}),e.jsx("button",{className:`view-btn ${t==="month"?"active":""}`,onClick:()=>n("month"),children:"Month"}),e.jsx("button",{className:`view-btn ${t==="day"?"active":""}`,onClick:()=>n("day"),children:"Day"})]}),e.jsxs("div",{className:"calendar-navigation",children:[e.jsx("button",{className:"nav-btn",onClick:le,children:e.jsx(eO,{})}),e.jsx("button",{className:"today-btn",onClick:M,children:"Today"}),e.jsx("div",{className:"current-period",children:q()}),e.jsx("button",{className:"nav-btn",onClick:G,children:e.jsx(tO,{})})]}),e.jsxs("div",{className:"category-filters",children:[d.map(ee=>e.jsxs("button",{className:`category-filter ${y.includes(ee.value)?"active":""}`,onClick:()=>B(ee.value),children:[e.jsx("span",{className:"category-dot",style:{backgroundColor:ee.color}}),ee.label]},ee.value)),e.jsxs("button",{className:"category-filter manage-btn",onClick:()=>O(!0),title:"Manage Categories",children:[e.jsx(zc,{})," Manage"]})]})]}),t==="year"&&(F==="multi"?K():A()),t==="month"&&xe(),t==="day"&&V(),e.jsx(HQ,{isOpen:N,onClose:()=>{j(!1),E(null),k(null)},onSave:_,event:S,selectedDate:T,categories:d}),e.jsx(VQ,{isOpen:w,onClose:()=>O(!1),onUpdate:()=>{se(),X()}})]})},gh={getAll:async()=>(await oe.get("/calendar-types")).data,create:async t=>(await oe.post("/calendar-types",t)).data,update:async(t,n)=>(await oe.put(`/calendar-types/${t}`,n)).data,delete:async t=>(await oe.delete(`/calendar-types/${t}`)).data},KQ=()=>{const[t,n]=x.useState(new Date),[a,r]=x.useState("month"),[i,o]=x.useState("all"),[u,h]=x.useState(!1),[p,f]=x.useState(!1),[d,v]=x.useState([]),[y,C]=x.useState([]),[N,j]=x.useState(null),[w,O]=x.useState({name:"",color:"#3B82F6"}),[S,E]=x.useState({title:"",description:"",date:"",time:"",location:"",attendees:"",calendar:"family",reminder:"none",repeat:"none"}),[T,k]=x.useState(!1),F=async()=>{try{k(!0);const $=t.getFullYear(),q=t.getMonth()+1,A=await qr.getMonthEvents($,q,i);v(A.events||[])}catch($){console.error("Error loading events:",$),v([{id:1,title:"Family Dinner",description:"Monthly family gathering",date:"2024-12-15",time:"19:00",location:"Home",calendar:"family",reminder:"1-hour",repeat:"monthly"}])}finally{k(!1)}},P=async()=>{try{const $={title:S.title,description:S.description,date:S.date,time:S.time||"00:00",datetime:`${S.date}T${S.time||"00:00"}:00`,location:S.location,calendar:S.calendar,reminder:S.reminder==="none"?null:S.reminder,repeat:S.repeat==="none"?null:S.repeat,attendees:S.attendees?S.attendees.split(",").map(q=>({name:q.trim(),email:"",phone:""})):[]};if(S.id)await qr.update(S.id,$);else{const q=await qr.create($);S.id=q.event.id}await F(),W(),h(!1)}catch($){console.error("Error saving event:",$),alert("Failed to save event. Please try again.")}},W=()=>{E({title:"",description:"",date:"",time:"",location:"",attendees:"",calendar:"family",reminder:"none",repeat:"none"})},R=async()=>{try{const $=await gh.getAll();C($.calendarTypes||[])}catch($){console.error("Error loading calendar types:",$)}},U=async()=>{try{if(!w.name||!w.color){alert("Please fill in all fields");return}N?await gh.update(N._id,w):await gh.create(w),await R(),X(),f(!1)}catch($){console.error("Error saving calendar type:",$),alert($.response?.data?.error||"Failed to save calendar type")}},J=async $=>{if(window.confirm("Are you sure you want to delete this calendar type?"))try{await gh.delete($),await R()}catch(q){console.error("Error deleting calendar type:",q),alert(q.response?.data?.error||"Failed to delete calendar type")}},se=$=>{j($),O({name:$.name,color:$.color}),f(!0)},X=()=>{O({name:"",color:"#3B82F6"}),j(null)};x.useEffect(()=>{R()},[]),x.useEffect(()=>{y.length>0&&F()},[t,i,y]);const le=$=>new Date($.getFullYear(),$.getMonth()+1,0).getDate(),G=$=>new Date($.getFullYear(),$.getMonth(),1).getDay(),M=()=>{const $=le(t),q=G(t),A=[];for(let K=0;K<q;K++)A.push(null);for(let K=1;K<=$;K++)A.push(K);return A},B=$=>{if(!$)return[];const q=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String($).padStart(2,"0")}`;return d.filter(K=>{const V=(K.date?K.date.split("T")[0]:K.datetime?K.datetime.split("T")[0]:"")===q,ee=i==="all"||K.calendar===i;return V&&ee})},re=()=>{n(new Date(t.getFullYear(),t.getMonth()-1))},Z=()=>{n(new Date(t.getFullYear(),t.getMonth()+1))},te=()=>{S.title&&S.date&&P()},_=$=>{C(y.map(q=>q.id===$?{...q,visible:!q.visible}:q)),i===$&&o("all")},z=["January","February","March","April","May","June","July","August","September","October","November","December"],L=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return e.jsxs("div",{className:"multiple-calendars",children:[e.jsx("div",{className:"calendars-header",children:e.jsxs("div",{className:"header-content",children:[e.jsxs("div",{className:"header-text",children:[e.jsxs("h1",{children:[e.jsx(Va,{})," Multiple Calendars"]}),e.jsx("p",{children:"Manage and view all your calendars in one place"})]}),e.jsx("div",{className:"header-actions",children:e.jsxs("button",{className:"btn-primary",onClick:()=>h(!0),children:[e.jsx(Oe,{})," Add Event"]})})]})}),e.jsxs("div",{className:"calendars-controls",children:[e.jsxs("div",{className:"view-controls",children:[e.jsxs("div",{className:"date-navigation",children:[e.jsx("button",{onClick:re,className:"nav-btn",children:e.jsx(eO,{})}),e.jsxs("h2",{children:[z[t.getMonth()]," ",t.getFullYear()]}),e.jsx("button",{onClick:Z,className:"nav-btn",children:e.jsx(tO,{})})]}),e.jsxs("div",{className:"view-modes",children:[e.jsx("button",{className:`view-btn ${a==="month"?"active":""}`,onClick:()=>r("month"),children:"Month"}),e.jsx("button",{className:`view-btn ${a==="week"?"active":""}`,onClick:()=>r("week"),children:"Week"}),e.jsx("button",{className:`view-btn ${a==="day"?"active":""}`,onClick:()=>r("day"),children:"Day"})]})]}),e.jsxs("div",{className:"calendar-filters",children:[e.jsxs("div",{className:"calendar-legend-header",children:[e.jsx("h3",{children:"Calendar Types"}),e.jsxs("button",{className:"manage-calendars-btn",onClick:()=>f(!0),title:"Manage Calendar Types",children:[e.jsx(zc,{})," Manage"]})]}),e.jsx("div",{className:"calendar-legend",children:y.map($=>e.jsxs("div",{className:`calendar-item ${$.visible?"":"hidden"}`,onClick:()=>_($.id),children:[e.jsx("div",{className:"calendar-color",style:{backgroundColor:$.color}}),e.jsx("span",{children:$.name})]},$.id))}),e.jsxs("select",{value:i,onChange:$=>o($.target.value),className:"calendar-select",children:[e.jsx("option",{value:"all",children:"All Calendars"}),y.map($=>e.jsx("option",{value:$.id,children:$.name},$.id))]})]})]}),e.jsx("div",{className:"calendar-container",children:e.jsxs("div",{className:"calendar-grid",children:[L.map($=>e.jsx("div",{className:"calendar-header",children:$},$)),M().map(($,q)=>{const A=B($),K=$===new Date().getDate()&&t.getMonth()===new Date().getMonth()&&t.getFullYear()===new Date().getFullYear();return e.jsx("div",{className:`calendar-day ${$?"":"empty"} ${K?"today":""}`,children:$&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"day-number",children:$}),e.jsxs("div",{className:"day-events",children:[A.slice(0,3).map(xe=>{const V=y.find(ee=>ee.id===xe.calendar);return e.jsxs("div",{className:"event-item",style:{backgroundColor:V?.color},children:[e.jsx("span",{className:"event-time",children:xe.time}),e.jsx("span",{className:"event-title",children:xe.title})]},xe.id)}),A.length>3&&e.jsxs("div",{className:"more-events",children:["+",A.length-3," more"]})]})]})},q)})]})}),e.jsxs("div",{className:"upcoming-events",children:[e.jsxs("h3",{children:[e.jsx(lr,{})," Upcoming Events"]}),e.jsx("div",{className:"events-list",children:d.filter($=>{const A=new Date($.datetime||$.date)>=new Date,K=i==="all"||$.calendar===i;return A&&K}).sort(($,q)=>new Date($.datetime||$.date)-new Date(q.datetime||q.date)).slice(0,5).map($=>{const q=y.find(A=>A.id===$.calendar);return e.jsxs("div",{className:"upcoming-event",children:[e.jsx("div",{className:"event-indicator",style:{backgroundColor:q?.color}}),e.jsxs("div",{className:"event-details",children:[e.jsx("h4",{children:$.title}),e.jsxs("p",{children:[e.jsx(lr,{})," ",$.time||"All day"]}),$.location&&e.jsxs("p",{children:[e.jsx(Lm,{})," ",$.location]}),e.jsx("p",{className:"event-calendar",children:q?.name})]})]},$.id)})})]}),u&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Add New Event"}),e.jsx("button",{onClick:()=>h(!1),className:"close-btn",children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Event Title"}),e.jsx("input",{type:"text",value:S.title,onChange:$=>E({...S,title:$.target.value}),placeholder:"Enter event title"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date"}),e.jsx("input",{type:"date",value:S.date,onChange:$=>E({...S,date:$.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Time"}),e.jsx("input",{type:"time",value:S.time,onChange:$=>E({...S,time:$.target.value})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Calendar"}),e.jsx("select",{value:S.calendar,onChange:$=>E({...S,calendar:$.target.value}),children:y.map($=>e.jsx("option",{value:$.id,children:$.name},$.id))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Location"}),e.jsx("input",{type:"text",value:S.location,onChange:$=>E({...S,location:$.target.value}),placeholder:"Add location"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:S.description,onChange:$=>E({...S,description:$.target.value}),placeholder:"Add description"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reminder"}),e.jsxs("select",{value:S.reminder,onChange:$=>E({...S,reminder:$.target.value}),children:[e.jsx("option",{value:"0",children:"None"}),e.jsx("option",{value:"5",children:"5 minutes before"}),e.jsx("option",{value:"15",children:"15 minutes before"}),e.jsx("option",{value:"30",children:"30 minutes before"}),e.jsx("option",{value:"60",children:"1 hour before"}),e.jsx("option",{value:"1440",children:"1 day before"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Repeat"}),e.jsxs("select",{value:S.repeat,onChange:$=>E({...S,repeat:$.target.value}),children:[e.jsx("option",{value:"none",children:"Does not repeat"}),e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"}),e.jsxs("button",{onClick:te,className:"btn-primary",children:[e.jsx(Oe,{})," Add Event"]})]})]})}),p&&e.jsx("div",{className:"modal-overlay",onClick:()=>{f(!1),X()},children:e.jsxs("div",{className:"modal-content calendar-type-modal",onClick:$=>$.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h2",{children:[N?"Edit":"Add"," Calendar Type"]}),e.jsx("button",{className:"close-btn",onClick:()=>{f(!1),X()},children:e.jsx(Ge,{})})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Name"}),e.jsx("input",{type:"text",placeholder:"e.g., Projects, Health, Hobbies",value:w.name,onChange:$=>O({...w,name:$.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Color"}),e.jsxs("div",{className:"color-picker-container",children:[e.jsx("input",{type:"color",value:w.color,onChange:$=>O({...w,color:$.target.value}),className:"color-input"}),e.jsx("input",{type:"text",value:w.color,onChange:$=>O({...w,color:$.target.value}),className:"color-text-input",placeholder:"#3B82F6"})]})]}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{onClick:()=>{f(!1),X()},className:"btn-secondary",children:"Cancel"}),e.jsxs("button",{onClick:U,className:"btn-primary",children:[e.jsx(Oe,{})," ",N?"Update":"Add"]})]}),e.jsxs("div",{className:"existing-calendar-types",children:[e.jsx("h3",{children:"Existing Calendar Types"}),e.jsx("div",{className:"calendar-types-list",children:y.map($=>e.jsxs("div",{className:"calendar-type-item",children:[e.jsxs("div",{className:"calendar-type-info",children:[e.jsx("div",{className:"calendar-color-box",style:{backgroundColor:$.color}}),e.jsx("span",{className:"calendar-type-name",children:$.name}),$.isDefault&&e.jsx("span",{className:"default-badge",children:"Default"})]}),e.jsxs("div",{className:"calendar-type-actions",children:[e.jsx("button",{onClick:()=>se($),className:"btn-icon-small",title:"Edit",children:e.jsx(ct,{})}),!$.isDefault&&e.jsx("button",{onClick:()=>J($._id),className:"btn-icon-small danger",title:"Delete",children:e.jsx(Ze,{})})]})]},$._id))})]})]})]})})]})},WQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState([]),[i,o]=x.useState(!1),[u,h]=x.useState(!1),[p,f]=x.useState("reminders"),[d,v]=x.useState("all"),[y,C]=x.useState({title:"",description:"",dateTime:"",type:"one-time",repeat:"daily",priority:"medium",category:"personal",method:"email"}),[N,j]=x.useState({title:"",message:"",type:"info",scheduledTime:"",recipients:[],method:"email"});x.useEffect(()=>{(async()=>{const U=await Lc();n(U)})()},[]),x.useEffect(()=>{r([{id:1,title:"Welcome to Family Finance",message:"Your account has been successfully created",type:"success",scheduledTime:"2024-12-01T09:00",method:"app",status:"sent",read:!0}])},[]);const w=async()=>{if(y.title&&y.dateTime){const R={...y,status:"active"};if(await lI(R)){const J=await Lc();n(J)}C({title:"",description:"",dateTime:"",type:"one-time",repeat:"daily",priority:"medium",category:"personal",method:"email"}),o(!1)}},O=()=>{if(N.title&&N.message){const R={...N,id:Date.now(),status:"scheduled",read:!1};r([...a,R]),j({title:"",message:"",type:"info",scheduledTime:"",recipients:[],method:"email"}),h(!1)}},S=async R=>{await vQ(R);const U=await Lc();n(U)},E=R=>{r(a.filter(U=>U.id!==R))},T=async R=>{const J=t.find(X=>X.id===R).status==="active"?"paused":"active";await xQ(R,J);const se=await Lc();n(se)},k=R=>{r(a.map(U=>U.id===R?{...U,read:!0}:U))},F=R=>{switch(R){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}},P=R=>{switch(R){case"success":return e.jsx(Th,{className:"type-icon success"});case"warning":return e.jsx(kh,{className:"type-icon warning"});case"error":return e.jsx(Ge,{className:"type-icon error"});default:return e.jsx(Rc,{className:"type-icon info"})}},W=t.filter(R=>d==="all"?!0:R.category===d);return e.jsxs("div",{className:"reminders-page",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("div",{className:"header-left",children:[e.jsx("div",{className:"header-icon",children:e.jsx(Rc,{})}),e.jsxs("div",{children:[e.jsx("h1",{children:"Reminders & Notifications"}),e.jsx("p",{children:"Manage your reminders and notifications efficiently"})]})]}),e.jsxs("div",{className:"header-actions",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>o(!0),children:[e.jsx(Oe,{})," Add Reminder"]}),e.jsxs("button",{className:"btn btn-outline",onClick:()=>h(!0),children:[e.jsx(Oe,{})," Send Notification"]})]})]}),e.jsxs("div",{className:"tabs-container",children:[e.jsxs("div",{className:"tabs",children:[e.jsxs("button",{className:`tab ${p==="reminders"?"active":""} `,onClick:()=>f("reminders"),children:[e.jsx(lr,{})," Reminders (",t.length,")"]}),e.jsxs("button",{className:`tab ${p==="notifications"?"active":""} `,onClick:()=>f("notifications"),children:[e.jsx(Rc,{})," Notifications (",a.length,")"]})]}),p==="reminders"&&e.jsxs("div",{className:"filter-section",children:[e.jsx("label",{children:"Filter:"}),e.jsxs("select",{value:d,onChange:R=>v(R.target.value),children:[e.jsx("option",{value:"all",children:"All Categories"}),e.jsx("option",{value:"personal",children:"Personal"}),e.jsx("option",{value:"bills",children:"Bills"}),e.jsx("option",{value:"health",children:"Health"}),e.jsx("option",{value:"work",children:"Work"}),e.jsx("option",{value:"family",children:"Family"})]})]})]}),e.jsx("div",{className:"content-section",children:p==="reminders"?e.jsx("div",{className:"table-wrapper",children:W.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(lr,{}),e.jsx("h3",{children:"No reminders found"}),e.jsx("p",{children:"Create your first reminder to get started"})]}):e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Time"}),e.jsx("th",{children:"Priority"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:W.map(R=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("strong",{children:R.title})}),e.jsx("td",{className:"description",children:R.description}),e.jsx("td",{children:e.jsxs("div",{className:"cell-content",children:[e.jsx(Va,{}),new Date(R.dateTime).toLocaleDateString()]})}),e.jsx("td",{children:e.jsxs("div",{className:"cell-content",children:[e.jsx(lr,{}),new Date(R.dateTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})}),e.jsx("td",{children:e.jsx("span",{className:"badge priority",style:{backgroundColor:F(R.priority)},children:R.priority})}),e.jsx("td",{children:e.jsx("span",{className:"badge category",children:R.category})}),e.jsx("td",{children:e.jsx("div",{className:"cell-content",children:R.type==="recurring"?e.jsxs(e.Fragment,{children:[e.jsx(ej,{}),R.repeat]}):"One Time"})}),e.jsx("td",{children:e.jsx("span",{className:`badge status ${R.status} `,children:R.status})}),e.jsx("td",{children:e.jsxs("div",{className:"action-buttons",children:[e.jsx("button",{className:`icon - btn ${R.status} `,onClick:()=>T(R.id),title:R.status==="active"?"Pause":"Activate",children:R.status==="active"?e.jsx(Ge,{}):e.jsx(Th,{})}),e.jsx("button",{className:"icon-btn delete",onClick:()=>S(R.id),title:"Delete",children:e.jsx(Ze,{})})]})})]},R.id))})]})}):e.jsx("div",{className:"table-wrapper",children:a.length===0?e.jsxs("div",{className:"empty-state",children:[e.jsx(Rc,{}),e.jsx("h3",{children:"No notifications"}),e.jsx("p",{children:"Your notifications will appear here"})]}):e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Message"}),e.jsx("th",{children:"Scheduled Time"}),e.jsx("th",{children:"Method"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Read"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:a.map(R=>e.jsxs("tr",{className:R.read?"":"unread",onClick:()=>k(R.id),children:[e.jsx("td",{children:e.jsxs("div",{className:"cell-content",children:[P(R.type),R.type]})}),e.jsx("td",{children:e.jsx("strong",{children:R.title})}),e.jsx("td",{className:"description",children:R.message}),e.jsx("td",{children:e.jsxs("div",{className:"cell-content",children:[e.jsx(lr,{}),new Date(R.scheduledTime).toLocaleString()]})}),e.jsx("td",{children:e.jsx("span",{className:"badge",children:R.method})}),e.jsx("td",{children:e.jsx("span",{className:"badge status",children:R.status})}),e.jsx("td",{children:e.jsx("span",{className:`badge ${R.read?"read":"unread"} `,children:R.read?"Read":"Unread"})}),e.jsx("td",{children:e.jsx("div",{className:"action-buttons",children:e.jsx("button",{className:"icon-btn delete",onClick:U=>{U.stopPropagation(),E(R.id)},title:"Delete",children:e.jsx(Ze,{})})})})]},R.id))})]})})}),i&&e.jsx("div",{className:"modal-overlay",onClick:()=>o(!1),children:e.jsxs("div",{className:"modal",onClick:R=>R.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Add New Reminder"}),e.jsx("button",{className:"close-btn",onClick:()=>o(!1),children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title *"}),e.jsx("input",{type:"text",value:y.title,onChange:R=>C({...y,title:R.target.value}),placeholder:"Enter reminder title"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:y.description,onChange:R=>C({...y,description:R.target.value}),placeholder:"Enter description",rows:"3"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date & Time *"}),e.jsx("input",{type:"datetime-local",value:y.dateTime,onChange:R=>C({...y,dateTime:R.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Priority"}),e.jsxs("select",{value:y.priority,onChange:R=>C({...y,priority:R.target.value}),children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:y.type,onChange:R=>C({...y,type:R.target.value}),children:[e.jsx("option",{value:"one-time",children:"One Time"}),e.jsx("option",{value:"recurring",children:"Recurring"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:y.category,onChange:R=>C({...y,category:R.target.value}),children:[e.jsx("option",{value:"personal",children:"Personal"}),e.jsx("option",{value:"bills",children:"Bills"}),e.jsx("option",{value:"health",children:"Health"}),e.jsx("option",{value:"work",children:"Work"}),e.jsx("option",{value:"family",children:"Family"})]})]})]}),y.type==="recurring"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Repeat"}),e.jsxs("select",{value:y.repeat,onChange:R=>C({...y,repeat:R.target.value}),children:[e.jsx("option",{value:"daily",children:"Daily"}),e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"yearly",children:"Yearly"})]})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-outline",onClick:()=>o(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-primary",onClick:w,children:"Add Reminder"})]})]})}),u&&e.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:e.jsxs("div",{className:"modal",onClick:R=>R.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"Send Notification"}),e.jsx("button",{className:"close-btn",onClick:()=>h(!1),children:""})]}),e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title *"}),e.jsx("input",{type:"text",value:N.title,onChange:R=>j({...N,title:R.target.value}),placeholder:"Enter notification title"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Message *"}),e.jsx("textarea",{value:N.message,onChange:R=>j({...N,message:R.target.value}),placeholder:"Enter notification message",rows:"4"})]}),e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Type"}),e.jsxs("select",{value:N.type,onChange:R=>j({...N,type:R.target.value}),children:[e.jsx("option",{value:"info",children:"Info"}),e.jsx("option",{value:"success",children:"Success"}),e.jsx("option",{value:"warning",children:"Warning"}),e.jsx("option",{value:"error",children:"Error"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Method"}),e.jsxs("select",{value:N.method,onChange:R=>j({...N,method:R.target.value}),children:[e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"app",children:"App"}),e.jsx("option",{value:"sms",children:"SMS"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Scheduled Time"}),e.jsx("input",{type:"datetime-local",value:N.scheduledTime,onChange:R=>j({...N,scheduledTime:R.target.value})})]})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"btn btn-outline",onClick:()=>h(!1),children:"Cancel"}),e.jsx("button",{className:"btn btn-primary",onClick:O,children:"Send Notification"})]})]})})]})},XQ=()=>{const[t,n]=x.useState("cheque-register"),[a,r]=x.useState(!1),[i,o]=x.useState([]),[u,h]=x.useState(!1),[p,f]=x.useState(null),[d,v]=x.useState({receivedDate:new Date().toISOString().split("T")[0],chequeDepositDate:"",difference:"",reasonForDelay:"",chequePartyDetails:"",accountHead:"",deposit:"",withdrawal:"",amount:"",bank:"",chequeNumber:"",chequeDepositedInBank:"",receivedFor:"",receivedBy:""}),[y,C]=x.useState([]),[N,j]=x.useState(!1),[w,O]=x.useState(null),[S,E]=x.useState({date:new Date().toISOString().split("T")[0],description:"",credit:"",debit:"",balance:"",category:"",affectedAccount:"",additionalDetails:""}),[T,k]=x.useState([]),[F,P]=x.useState(!1),[W,R]=x.useState(null),[U,J]=x.useState({totalSavingsTarget:"",targetDescription:"",purchases:[{itemName:"",itemCost:"",itemType:"purchase"}],savings:[{itemName:"",itemAmount:"",itemType:"savings"}]}),[se,X]=x.useState([]),[le,G]=x.useState(!1),[M,B]=x.useState(null),[re,Z]=x.useState({title:"",description:"",startDate:new Date().toISOString().split("T")[0],endDate:"",status:"planning",priority:"medium",assignedTo:"",progress:0,tasks:[]});x.useEffect(()=>{te()},[]);const te=async()=>{r(!0);try{const[ce,Ue,Ht,Re]=await Promise.all([oe.get("/budget/cheque-register"),oe.get("/budget/daily-cash"),oe.get("/budget/milestones"),oe.get("/budget/targets-for-life")]);o(ce.data||[]),C(Ue.data||[]),X(Ht.data||[]),k(Re.data||[])}catch(ce){console.error("Error fetching budget data:",ce)}r(!1)},_=()=>{v({receivedDate:new Date().toISOString().split("T")[0],chequeDepositDate:"",difference:"",reasonForDelay:"",chequePartyDetails:"",accountHead:"",deposit:"",withdrawal:"",amount:"",bank:"",chequeNumber:"",chequeDepositedInBank:"",receivedFor:"",receivedBy:""}),f(null)},z=async()=>{try{p?await oe.put(`/budget/cheque-register/${p._id}`,d):await oe.post("/budget/cheque-register",d),te(),h(!1),_()}catch(ce){console.error("Error saving cheque record:",ce),alert("Error saving cheque record")}},L=ce=>{v(ce),f(ce),h(!0)},$=async ce=>{if(confirm("Are you sure you want to delete this cheque record?"))try{await oe.delete(`/budget/cheque-register/${ce}`),te()}catch(Ue){console.error("Error deleting cheque record:",Ue),alert("Error deleting cheque record")}},q=()=>{E({date:new Date().toISOString().split("T")[0],description:"",credit:"",debit:"",balance:"",category:"",affectedAccount:"",additionalDetails:""}),O(null)},A=async()=>{try{w?await oe.put(`/budget/daily-cash/${w._id}`,S):await oe.post("/budget/daily-cash",S),te(),j(!1),q()}catch(ce){console.error("Error saving cash record:",ce),alert("Error saving cash record")}},K=ce=>{E(ce),O(ce),j(!0)},xe=async ce=>{if(confirm("Are you sure you want to delete this cash record?"))try{await oe.delete(`/budget/daily-cash/${ce}`),te()}catch(Ue){console.error("Error deleting cash record:",Ue),alert("Error deleting cash record")}},V=()=>{J({totalSavingsTarget:"",targetDescription:"",purchases:[{itemName:"",itemCost:"",itemType:"purchase"}],savings:[{itemName:"",itemAmount:"",itemType:"savings"}]}),R(null)},ee=()=>{J({...U,purchases:[...U.purchases,{itemName:"",itemCost:"",itemType:"purchase"}]})},me=ce=>{if(U.purchases.length<=1)return;const Ue=[...U.purchases];Ue.splice(ce,1),J({...U,purchases:Ue})},ue=(ce,Ue,Ht)=>{const Re=[...U.purchases];Re[ce]={...Re[ce],[Ue]:Ht},J({...U,purchases:Re})},H=()=>{J({...U,savings:[...U.savings,{itemName:"",itemAmount:"",itemType:"savings"}]})},de=ce=>{if(U.savings.length<=1)return;const Ue=[...U.savings];Ue.splice(ce,1),J({...U,savings:Ue})},D=(ce,Ue,Ht)=>{const Re=[...U.savings];Re[ce]={...Re[ce],[Ue]:Ht},J({...U,savings:Re})},ne=()=>U.purchases.reduce((ce,Ue)=>ce+(parseFloat(Ue.itemCost)||0),0).toFixed(2),be=()=>U.savings.reduce((ce,Ue)=>ce+(parseFloat(Ue.itemAmount)||0),0).toFixed(2),Ce=async()=>{try{if(!U.targetDescription.trim()){alert("Target description is required");return}if(!U.totalSavingsTarget||parseFloat(U.totalSavingsTarget)<=0){alert("Total savings target must be greater than 0");return}const ce={totalSavingsTarget:parseFloat(U.totalSavingsTarget)||0,targetDescription:U.targetDescription.trim(),purchases:U.purchases.filter(Ue=>Ue.itemName&&Ue.itemCost).map(Ue=>({itemName:Ue.itemName,itemCost:parseFloat(Ue.itemCost)||0})),savings:U.savings.filter(Ue=>Ue.itemName&&Ue.itemAmount).map(Ue=>({itemName:Ue.itemName,itemAmount:parseFloat(Ue.itemAmount)||0}))};W?await oe.put(`/budget/targets-for-life/${W._id}`,ce):await oe.post("/budget/targets-for-life",ce),te(),P(!1),V()}catch(ce){console.error("Error saving target:",ce),alert(`Error saving target: ${ce.response?.data?.message||ce.message}`)}},Ae=ce=>{J(ce),R(ce),P(!0)},_e=async ce=>{if(confirm("Are you sure you want to delete this target?"))try{await oe.delete(`/budget/targets-for-life/${ce}`),te()}catch(Ue){console.error("Error deleting target:",Ue),alert("Error deleting target")}},wt=()=>{Z({title:"",description:"",startDate:new Date().toISOString().split("T")[0],endDate:"",status:"planning",priority:"medium",assignedTo:"",progress:0,tasks:[]}),B(null)},qt=async()=>{try{M?await oe.put(`/budget/milestones/${M._id}`,re):await oe.post("/budget/milestones",re),te(),G(!1),wt()}catch(ce){console.error("Error saving milestone:",ce),alert("Error saving milestone")}},li=ce=>{Z(ce),B(ce),G(!0)},dn=async ce=>{if(confirm("Are you sure you want to delete this milestone?"))try{await oe.delete(`/budget/milestones/${ce}`),te()}catch(Ue){console.error("Error deleting milestone:",Ue),alert("Error deleting milestone")}};return a?e.jsx("div",{className:"loading",children:"Loading budget data..."}):e.jsxs("div",{className:"budget-container",children:[e.jsx("h1",{children:"Budget Management"}),e.jsxs("div",{className:"tab-navigation",children:[e.jsx("button",{className:`tab-btn ${t==="cheque-register"?"active":""}`,onClick:()=>n("cheque-register"),children:"Cheque Register"}),e.jsx("button",{className:`tab-btn ${t==="daily-cash"?"active":""}`,onClick:()=>n("daily-cash"),children:"Daily Cash Register"}),e.jsx("button",{className:`tab-btn ${t==="milestones"?"active":""}`,onClick:()=>n("milestones"),children:"Milestone & Task Timeline"}),e.jsx("button",{className:`tab-btn ${t==="targets-for-life"?"active":""}`,onClick:()=>n("targets-for-life"),children:"Targets for Life"})]}),t==="targets-for-life"&&e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Targets for Life"}),e.jsx("button",{className:"add-btn",onClick:()=>{V(),P(!0)},children:"Add Target"})]}),F&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",style:{maxWidth:"800px"},children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[W?"Edit":"Add"," Financial Target"]}),e.jsx("button",{onClick:()=>P(!1),className:"close-btn",children:""})]}),e.jsxs("div",{className:"target-form",children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px",marginBottom:"20px"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Total Savings Target ()"}),e.jsx("input",{type:"number",value:U.totalSavingsTarget,onChange:ce=>J({...U,totalSavingsTarget:ce.target.value}),placeholder:"Enter total amount",style:{width:"100%"}})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Target Description"}),e.jsx("input",{type:"text",value:U.targetDescription,onChange:ce=>J({...U,targetDescription:ce.target.value}),placeholder:"E.g., Retirement, House Down Payment",style:{width:"100%"}})]})]}),e.jsxs("div",{className:"target-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h4",{children:"Planned Purchases"}),e.jsx("button",{type:"button",className:"add-btn",onClick:ee,children:"+ Add Purchase"})]}),U.purchases.map((ce,Ue)=>e.jsxs("div",{className:"item-row",children:[e.jsx("input",{type:"text",value:ce.itemName,onChange:Ht=>ue(Ue,"itemName",Ht.target.value),placeholder:"Item name"}),e.jsx("input",{type:"number",value:ce.itemCost,onChange:Ht=>ue(Ue,"itemCost",Ht.target.value),placeholder:"Cost ()"}),e.jsx("button",{type:"button",className:"remove-btn",onClick:()=>me(Ue),disabled:U.purchases.length<=1,children:"Remove"})]},`purchase-${Ue}`))]}),e.jsxs("div",{className:"target-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h4",{children:"Planned Savings"}),e.jsx("button",{type:"button",className:"add-btn",onClick:H,children:"+ Add Savings Goal"})]}),U.savings.map((ce,Ue)=>e.jsxs("div",{className:"item-row",children:[e.jsx("input",{type:"text",value:ce.itemName,onChange:Ht=>D(Ue,"itemName",Ht.target.value),placeholder:"Savings goal name"}),e.jsx("input",{type:"number",value:ce.itemAmount,onChange:Ht=>D(Ue,"itemAmount",Ht.target.value),placeholder:"Amount to save ()"}),e.jsx("button",{type:"button",className:"remove-btn",onClick:()=>de(Ue),disabled:U.savings.length<=1,children:"Remove"})]},`saving-${Ue}`))]}),e.jsxs("div",{className:"summary-section",style:{marginTop:"20px",padding:"15px",background:"#f5f5f5",borderRadius:"5px"},children:[e.jsx("h4",{children:"Summary"}),e.jsxs("p",{children:["Total Savings Target: ",U.totalSavingsTarget||"0"]}),e.jsxs("p",{children:["Total Allocated to Purchases: ",ne()]}),e.jsxs("p",{children:["Total Allocated to Savings: ",be()]}),e.jsxs("p",{style:{fontWeight:"bold",color:parseFloat(ne())+parseFloat(be())>(parseFloat(U.totalSavingsTarget)||0)?"red":"green"},children:["Remaining: ",((parseFloat(U.totalSavingsTarget)||0)-parseFloat(ne())-parseFloat(be())).toFixed(2)]})]}),e.jsxs("div",{className:"modal-actions",style:{marginTop:"20px"},children:[e.jsxs("button",{onClick:Ce,className:"save-btn",children:[W?"Update":"Save"," Target"]}),e.jsx("button",{onClick:()=>P(!1),className:"cancel-btn",children:"Cancel"})]})]})]})}),e.jsxs("div",{className:"targets-container",children:[T.length===0?e.jsxs("div",{className:"no-targets",children:[e.jsx("p",{children:"No financial targets found."}),e.jsx("button",{className:"add-target-btn",onClick:()=>{V(),P(!0)},children:"+ Create Your First Target"})]}):e.jsx("div",{className:"targets-grid",children:T.map(ce=>{const Ue=(ce.purchases||[]).reduce((Ee,Je)=>Ee+(parseFloat(Je.itemCost)||0),0)+(ce.savings||[]).reduce((Ee,Je)=>Ee+(parseFloat(Je.itemAmount)||0),0),Ht=Math.min(100,Ue/(parseFloat(ce.totalSavingsTarget)||1)*100),Re=(ce.purchases||[]).filter(Ee=>Ee.itemName).length,Dt=(ce.savings||[]).filter(Ee=>Ee.itemName).length;return e.jsxs("div",{className:"target-card",children:[e.jsxs("div",{className:"target-card-header",children:[e.jsx("h3",{children:ce.targetDescription}),e.jsxs("div",{className:"target-actions",children:[e.jsx("button",{className:"icon-btn",onClick:Ee=>{Ee.stopPropagation(),Ae(ce)},title:"Edit",children:""}),e.jsx("button",{className:"icon-btn delete",onClick:Ee=>{Ee.stopPropagation(),_e(ce._id)},title:"Delete",children:""})]})]}),e.jsxs("div",{className:"target-amount",children:[e.jsxs("div",{className:"total-target",children:[e.jsx("span",{children:"Total Target"}),e.jsxs("strong",{children:["",parseFloat(ce.totalSavingsTarget).toLocaleString("en-IN")]})]}),e.jsx("div",{className:"progress-container",children:e.jsx("div",{className:"progress-bar",style:{width:`${Ht}%`},title:`${Ht.toFixed(1)}% of target allocated`})}),e.jsxs("div",{className:"progress-text",children:[e.jsxs("span",{children:["Allocated: ",Ue.toLocaleString("en-IN")]}),e.jsxs("span",{children:[Ht.toFixed(1),"%"]})]})]}),e.jsxs("div",{className:"target-details",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("div",{className:"detail-header",children:e.jsxs("h4",{children:["Purchases (",Re,")"]})}),Re>0?e.jsx("ul",{className:"items-list",children:ce.purchases.filter(Ee=>Ee.itemName).map((Ee,Je)=>e.jsxs("li",{className:"item-row",children:[e.jsx("span",{className:"item-name",children:Ee.itemName}),e.jsxs("span",{className:"item-amount",children:["",parseFloat(Ee.itemCost||0).toLocaleString("en-IN")]})]},`purchase-${Je}`))}):e.jsx("div",{className:"no-items",children:"No purchases added"})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("div",{className:"detail-header",children:e.jsxs("h4",{children:["Savings Goals (",Dt,")"]})}),Dt>0?e.jsx("ul",{className:"items-list",children:ce.savings.filter(Ee=>Ee.itemName).map((Ee,Je)=>e.jsxs("li",{className:"item-row",children:[e.jsx("span",{className:"item-name",children:Ee.itemName}),e.jsxs("span",{className:"item-amount",children:["",parseFloat(Ee.itemAmount||0).toLocaleString("en-IN")]})]},`saving-${Je}`))}):e.jsx("div",{className:"no-items",children:"No savings goals added"})]})]}),e.jsx("button",{className:"view-details-btn",onClick:()=>Ae(ce),children:"View Details"})]},ce._id)})}),T.length>0&&e.jsx("button",{className:"add-target-btn floating",onClick:()=>{V(),P(!0)},children:"+ Add New Target"})]})]}),t==="cheque-register"&&e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Cheque Register"}),e.jsx("button",{className:"add-btn",onClick:()=>{_(),h(!0)},children:"Add Cheque Record"})]}),u&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[p?"Edit":"Add"," Cheque Record"]}),e.jsx("button",{onClick:()=>h(!1),className:"close-btn",children:""})]}),e.jsxs("div",{className:"cheque-form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Received Date"}),e.jsx("input",{type:"date",value:d.receivedDate,onChange:ce=>v({...d,receivedDate:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Deposit Date"}),e.jsx("input",{type:"date",value:d.chequeDepositDate,onChange:ce=>v({...d,chequeDepositDate:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Difference (Days)"}),e.jsx("input",{type:"number",value:d.difference,onChange:ce=>v({...d,difference:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Reason for Delay"}),e.jsx("input",{type:"text",value:d.reasonForDelay,onChange:ce=>v({...d,reasonForDelay:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Party Details"}),e.jsx("input",{type:"text",value:d.chequePartyDetails,onChange:ce=>v({...d,chequePartyDetails:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Account Head"}),e.jsx("input",{type:"text",value:d.accountHead,onChange:ce=>v({...d,accountHead:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Deposit"}),e.jsx("input",{type:"number",step:"0.01",value:d.deposit,onChange:ce=>v({...d,deposit:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Withdrawal"}),e.jsx("input",{type:"number",step:"0.01",value:d.withdrawal,onChange:ce=>v({...d,withdrawal:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amount"}),e.jsx("input",{type:"number",step:"0.01",value:d.amount,onChange:ce=>v({...d,amount:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank"}),e.jsx("input",{type:"text",value:d.bank,onChange:ce=>v({...d,bank:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Number"}),e.jsx("input",{type:"text",value:d.chequeNumber,onChange:ce=>v({...d,chequeNumber:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Cheque Deposited In Bank"}),e.jsx("input",{type:"text",value:d.chequeDepositedInBank,onChange:ce=>v({...d,chequeDepositedInBank:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Received For"}),e.jsx("input",{type:"text",value:d.receivedFor,onChange:ce=>v({...d,receivedFor:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Received By"}),e.jsx("input",{type:"text",value:d.receivedBy,onChange:ce=>v({...d,receivedBy:ce.target.value})})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:z,className:"save-btn",children:"Save"}),e.jsx("button",{onClick:()=>h(!1),className:"cancel-btn",children:"Cancel"})]})]})}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Received Date"}),e.jsx("th",{children:"Cheque Deposit Date"}),e.jsx("th",{children:"Difference"}),e.jsx("th",{children:"Reason for Delay"}),e.jsx("th",{children:"Cheque Party Details"}),e.jsx("th",{children:"Account Head"}),e.jsx("th",{children:"Deposit"}),e.jsx("th",{children:"Withdrawal"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Bank"}),e.jsx("th",{children:"Cheque Number"}),e.jsx("th",{children:"Cheque Deposited In Bank"}),e.jsx("th",{children:"Received For"}),e.jsx("th",{children:"Received By"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"15",className:"no-data",children:"No cheque records found"})}):i.map(ce=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(ce.receivedDate).toLocaleDateString("en-IN")}),e.jsx("td",{children:ce.chequeDepositDate?new Date(ce.chequeDepositDate).toLocaleDateString("en-IN"):"-"}),e.jsx("td",{children:ce.difference||"-"}),e.jsx("td",{children:ce.reasonForDelay||"-"}),e.jsx("td",{children:ce.chequePartyDetails||"-"}),e.jsx("td",{children:ce.accountHead||"-"}),e.jsx("td",{children:ce.deposit?`${Number(ce.deposit).toLocaleString("en-IN")}`:"-"}),e.jsx("td",{children:ce.withdrawal?`${Number(ce.withdrawal).toLocaleString("en-IN")}`:"-"}),e.jsx("td",{children:ce.amount?`${Number(ce.amount).toLocaleString("en-IN")}`:"-"}),e.jsx("td",{children:ce.bank||"-"}),e.jsx("td",{children:ce.chequeNumber||"-"}),e.jsx("td",{children:ce.chequeDepositedInBank||"-"}),e.jsx("td",{children:ce.receivedFor||"-"}),e.jsx("td",{children:ce.receivedBy||"-"}),e.jsxs("td",{children:[e.jsx("button",{onClick:()=>L(ce),className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>$(ce._id),className:"delete-btn",children:"Delete"})]})]},ce._id))})]})})]}),t==="daily-cash"&&e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Daily Cash Register"}),e.jsx("button",{className:"add-btn",onClick:()=>{q(),j(!0)},children:"Add Cash Record"})]}),N&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[w?"Edit":"Add"," Cash Record"]}),e.jsx("button",{onClick:()=>j(!1),className:"close-btn",children:""})]}),e.jsxs("div",{className:"cash-form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Date"}),e.jsx("input",{type:"date",value:S.date,onChange:ce=>E({...S,date:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("input",{type:"text",value:S.description,onChange:ce=>E({...S,description:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Credit"}),e.jsx("input",{type:"number",step:"0.01",value:S.credit,onChange:ce=>E({...S,credit:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Debit"}),e.jsx("input",{type:"number",step:"0.01",value:S.debit,onChange:ce=>E({...S,debit:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Balance"}),e.jsx("input",{type:"number",step:"0.01",value:S.balance,onChange:ce=>E({...S,balance:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:S.category,onChange:ce=>E({...S,category:ce.target.value}),children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"income",children:"Income"}),e.jsx("option",{value:"expense",children:"Expense"}),e.jsx("option",{value:"transfer",children:"Transfer"}),e.jsx("option",{value:"investment",children:"Investment"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Affected Account"}),e.jsx("input",{type:"text",value:S.affectedAccount,onChange:ce=>E({...S,affectedAccount:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Additional Details"}),e.jsx("textarea",{value:S.additionalDetails,onChange:ce=>E({...S,additionalDetails:ce.target.value}),rows:"3"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:A,className:"save-btn",children:"Save"}),e.jsx("button",{onClick:()=>j(!1),className:"cancel-btn",children:"Cancel"})]})]})}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Credit"}),e.jsx("th",{children:"Debit"}),e.jsx("th",{children:"Balance"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Affected Account"}),e.jsx("th",{children:"Additional Details"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:y.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"no-data",children:"No cash records found"})}):y.map(ce=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(ce.date).toLocaleDateString("en-IN")}),e.jsx("td",{children:ce.description||"-"}),e.jsx("td",{children:ce.credit?`${Number(ce.credit).toLocaleString("en-IN")}`:"-"}),e.jsx("td",{children:ce.debit?`${Number(ce.debit).toLocaleString("en-IN")}`:"-"}),e.jsx("td",{children:ce.balance?`${Number(ce.balance).toLocaleString("en-IN")}`:"-"}),e.jsx("td",{children:ce.category||"-"}),e.jsx("td",{children:ce.affectedAccount||"-"}),e.jsx("td",{children:ce.additionalDetails||"-"}),e.jsxs("td",{children:[e.jsx("button",{onClick:()=>K(ce),className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>xe(ce._id),className:"delete-btn",children:"Delete"})]})]},ce._id))})]})})]}),t==="milestones"&&e.jsxs("div",{className:"tab-content",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Milestone & Task Timeline"}),e.jsx("button",{className:"add-btn",onClick:()=>{wt(),G(!0)},children:"Add Milestone"})]}),le&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[M?"Edit":"Add"," Milestone"]}),e.jsx("button",{onClick:()=>G(!1),className:"close-btn",children:""})]}),e.jsxs("div",{className:"milestone-form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title"}),e.jsx("input",{type:"text",value:re.title,onChange:ce=>Z({...re,title:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:re.description,onChange:ce=>Z({...re,description:ce.target.value}),rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Start Date"}),e.jsx("input",{type:"date",value:re.startDate,onChange:ce=>Z({...re,startDate:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"End Date"}),e.jsx("input",{type:"date",value:re.endDate,onChange:ce=>Z({...re,endDate:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Status"}),e.jsxs("select",{value:re.status,onChange:ce=>Z({...re,status:ce.target.value}),children:[e.jsx("option",{value:"planning",children:"Planning"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"on-hold",children:"On Hold"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Priority"}),e.jsxs("select",{value:re.priority,onChange:ce=>Z({...re,priority:ce.target.value}),children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"critical",children:"Critical"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Assigned To"}),e.jsx("input",{type:"text",value:re.assignedTo,onChange:ce=>Z({...re,assignedTo:ce.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Progress (%)"}),e.jsx("input",{type:"number",min:"0",max:"100",value:re.progress,onChange:ce=>Z({...re,progress:ce.target.value})})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:qt,className:"save-btn",children:"Save"}),e.jsx("button",{onClick:()=>G(!1),className:"cancel-btn",children:"Cancel"})]})]})}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"data-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Description"}),e.jsx("th",{children:"Start Date"}),e.jsx("th",{children:"End Date"}),e.jsx("th",{children:"Status"}),e.jsx("th",{children:"Priority"}),e.jsx("th",{children:"Assigned To"}),e.jsx("th",{children:"Progress"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:se.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"9",className:"no-data",children:"No milestones found"})}):se.map(ce=>e.jsxs("tr",{children:[e.jsx("td",{children:ce.title}),e.jsx("td",{children:ce.description||"-"}),e.jsx("td",{children:new Date(ce.startDate).toLocaleDateString("en-IN")}),e.jsx("td",{children:ce.endDate?new Date(ce.endDate).toLocaleDateString("en-IN"):"-"}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${ce.status}`,children:ce.status?.replace("-"," ")})}),e.jsx("td",{children:e.jsx("span",{className:`priority-badge ${ce.priority}`,children:ce.priority})}),e.jsx("td",{children:ce.assignedTo||"-"}),e.jsx("td",{children:e.jsxs("div",{className:"progress-bar",children:[e.jsx("div",{className:"progress-fill",style:{width:`${ce.progress||0}%`}}),e.jsxs("span",{children:[ce.progress||0,"%"]})]})}),e.jsxs("td",{children:[e.jsx("button",{onClick:()=>li(ce),className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>dn(ce._id),className:"delete-btn",children:"Delete"})]})]},ce._id))})]})})]})]})},ZQ=()=>{const[t,n]=x.useState(!1),[a,r]=x.useState([]),[i,o]=x.useState([]),[u,h]=x.useState([]),[p,f]=x.useState([]),[d,v]=x.useState(!1),[y,C]=x.useState(null),[N,j]=x.useState("all"),[w,O]=x.useState(new Date().getMonth()),[S,E]=x.useState(new Date().getFullYear()),[T,k]=x.useState({title:"",amount:"",dueDate:"",frequency:"monthly",bankAccount:"",category:"bill",description:"",isActive:!0}),[F,P]=x.useState(null),[W,R]=x.useState([]);x.useEffect(()=>{U()},[]);const U=async()=>{n(!0);try{const[q,A,K,xe,V]=await Promise.all([oe.get("/bank"),oe.get("/cards"),oe.get("/bank-transactions"),oe.get("/scheduled-expenses"),oe.get("/cashflow/analysis")]);r(q.data||[]),o(A.data||[]),h(K.data||[]),f(xe.data||[]),V.data&&V.data.success&&(P(V.data),R(V.data.suggestions||[]))}catch(q){console.error("Error fetching finance data:",q)}n(!1)},J=()=>{const q=new Date,A=w,K=S;new Date(K,A+1,0).getDate();let xe=p.filter(V=>V.isActive);return N!=="all"&&(xe=xe.filter(V=>V.bankAccount===N)),xe.map(V=>{const ee=new Date(V.dueDate),me=new Date(K,A,ee.getDate());return{...V,actualDueDate:me,daysUntilDue:Math.ceil((me-q)/(1e3*60*60*24)),isOverdue:me<q,isDueToday:me.toDateString()===q.toDateString(),isDueSoon:Math.ceil((me-q)/(1e3*60*60*24))<=7&&me>=q}}).sort((V,ee)=>V.actualDueDate-ee.actualDueDate)},se=q=>{let A=parseFloat(q.balance||0);const xe=u.filter(ee=>(typeof ee.accountId=="object"&&ee.accountId._id||ee.accountId)===q._id).reduce((ee,me)=>{const ue=parseFloat(me.amount||0);return me.type==="deposit"?ee+ue:me.type==="withdrawal"||me.type==="payment"||me.type==="transfer"?ee-ue:ee},0);return A+xe},X=()=>a.reduce((q,A)=>q+se(A),0),le=()=>J().filter(q=>!q.isOverdue).reduce((q,A)=>q+(A.amount||0),0),G=q=>a.find(A=>A.accountNumber===q)||{},M=()=>{k({title:"",amount:"",dueDate:"",frequency:"monthly",bankAccount:"",category:"bill",description:"",isActive:!0}),C(null)},B=async()=>{try{y?await oe.put(`/scheduled-expenses/${y._id}`,T):await oe.post("/scheduled-expenses",T),U(),v(!1),M()}catch(q){console.error("Error saving scheduled expense:",q),alert("Error saving scheduled expense")}},re=q=>{k(q),C(q),v(!0)},Z=async q=>{if(confirm("Are you sure you want to delete this scheduled expense?"))try{await oe.delete(`/scheduled-expenses/${q}`),U()}catch(A){console.error("Error deleting scheduled expense:",A),alert("Error deleting scheduled expense")}},te=async q=>{try{await oe.put(`/scheduled-expenses/${q._id}`,{...q,isActive:!q.isActive}),U()}catch(A){console.error("Error updating expense status:",A)}};if(t)return e.jsx("div",{className:"loading",children:"Loading finance data..."});const _=J(),z=X(),L=le(),$=z-L;return e.jsxs("div",{className:"manage-finance-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsx("h1",{children:"Manage Finance Dashboard"}),e.jsxs("div",{className:"date-filters",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Month:"}),e.jsxs("select",{value:w,onChange:q=>O(parseInt(q.target.value)),className:"filter-select",children:[e.jsx("option",{value:0,children:"January"}),e.jsx("option",{value:1,children:"February"}),e.jsx("option",{value:2,children:"March"}),e.jsx("option",{value:3,children:"April"}),e.jsx("option",{value:4,children:"May"}),e.jsx("option",{value:5,children:"June"}),e.jsx("option",{value:6,children:"July"}),e.jsx("option",{value:7,children:"August"}),e.jsx("option",{value:8,children:"September"}),e.jsx("option",{value:9,children:"October"}),e.jsx("option",{value:10,children:"November"}),e.jsx("option",{value:11,children:"December"})]})]}),e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Year:"}),e.jsx("select",{value:S,onChange:q=>E(parseInt(q.target.value)),className:"filter-select",children:Array.from({length:5},(q,A)=>{const K=new Date().getFullYear()-2+A;return e.jsx("option",{value:K,children:K},K)})})]})]})]}),e.jsxs("div",{className:"finance-summary",children:[e.jsxs("div",{className:"summary-card total-balance",children:[e.jsx("h3",{children:"Total Balance"}),e.jsxs("div",{className:"amount",children:["",z.toLocaleString("en-IN")]}),e.jsxs("small",{children:["Across ",a.length," banks"]})]}),e.jsxs("div",{className:"summary-card upcoming-expenses",children:[e.jsx("h3",{children:"Upcoming Expenses"}),e.jsxs("div",{className:"amount",children:["",L.toLocaleString("en-IN")]}),e.jsx("small",{children:"This month"})]}),e.jsxs("div",{className:"summary-card remaining-balance",children:[e.jsx("h3",{children:"Remaining Balance"}),e.jsxs("div",{className:`amount ${$<0?"negative":""}`,children:["",$.toLocaleString("en-IN")]}),e.jsx("small",{children:"After expenses"})]})]}),e.jsxs("div",{className:"finance-content",children:[e.jsxs("div",{className:"section bank-balances",children:[e.jsx("div",{className:"section-header",children:e.jsx("h2",{children:"Bank Account Balances"})}),e.jsx("div",{className:"bank-filter-container",children:e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{children:"Filter by Bank Account:"}),e.jsxs("select",{value:N,onChange:q=>j(q.target.value),className:"filter-select",children:[e.jsx("option",{value:"all",children:"All Banks"}),a.map(q=>e.jsxs("option",{value:q.accountNumber,children:[q.accountHolderName," - ",q.bankName]},q._id))]})]})}),e.jsx("div",{className:"bank-grid",children:a.length===0?e.jsx("div",{className:"no-data",children:"No bank accounts found. Add banks in Cash, Cards & Bank section."}):a.filter(q=>N==="all"||q.accountNumber===N).map(q=>e.jsxs("div",{className:"bank-card",children:[e.jsxs("div",{className:"bank-header",children:[e.jsx("h4",{children:q.accountHolderName}),e.jsx("span",{className:"bank-name",children:q.bankName})]}),e.jsxs("div",{className:"bank-details",children:[e.jsxs("div",{className:"account-info",children:[e.jsxs("span",{children:["A/C: ****",q.accountNumber?.slice(-4)]}),e.jsx("span",{className:"account-type",children:q.accountType})]}),e.jsxs("div",{className:"balance",children:["",se(q).toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"bank-expenses",children:[e.jsx("div",{className:"expenses-header",children:e.jsx("span",{children:"Upcoming Expenses"})}),_.filter(A=>A.bankAccount===q.accountNumber).length===0?e.jsx("div",{className:"no-expenses",children:"No scheduled expenses"}):_.filter(A=>A.bankAccount===q.accountNumber).slice(0,4).map(A=>e.jsxs("div",{className:`mini-expense ${A.isOverdue?"overdue":A.isDueToday?"due-today":A.isDueSoon?"due-soon":""}`,children:[e.jsxs("div",{className:"expense-info",children:[e.jsx("span",{className:"expense-title",children:A.title}),e.jsx("span",{className:"expense-date",children:A.actualDueDate.toLocaleDateString("en-IN")})]}),e.jsxs("div",{className:"expense-amount",children:["",A.amount?.toLocaleString("en-IN")]}),(A.isOverdue||A.isDueToday||A.isDueSoon)&&e.jsxs("div",{className:"status-indicator",children:[A.isOverdue&&e.jsx("span",{className:"status overdue",children:"!"}),A.isDueToday&&e.jsx("span",{className:"status today",children:""}),A.isDueSoon&&e.jsx("span",{className:"status soon",children:""})]})]},A._id)),_.filter(A=>A.bankAccount===q.accountNumber).length>4&&e.jsxs("div",{className:"more-expenses",children:["+",_.filter(A=>A.bankAccount===q.accountNumber).length-4," more"]})]})]},q._id))})]}),e.jsxs("div",{className:"section scheduled-expenses",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:"Scheduled Expenses & EMIs"}),e.jsx("button",{className:"add-btn",onClick:()=>{M(),v(!0)},children:"Add Expense"})]}),e.jsxs("div",{className:"expense-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{children:"Overdue"}),e.jsx("span",{className:"count overdue",children:_.filter(q=>q.isOverdue).length})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{children:"Due Today"}),e.jsx("span",{className:"count today",children:_.filter(q=>q.isDueToday).length})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{children:"Due Soon"}),e.jsx("span",{className:"count soon",children:_.filter(q=>q.isDueSoon).length})]})]}),e.jsx("div",{className:"expenses-list",children:_.length===0?e.jsx("div",{className:"no-data",children:"No scheduled expenses found"}):_.map(q=>{const A=G(q.bankAccount);return e.jsxs("div",{className:`expense-item ${q.isOverdue?"overdue":q.isDueToday?"due-today":q.isDueSoon?"due-soon":""} ${q.isActive?"":"inactive"}`,children:[e.jsxs("div",{className:"expense-main",children:[e.jsxs("div",{className:"expense-info",children:[e.jsx("h4",{children:q.title}),e.jsx("p",{children:q.description}),e.jsxs("div",{className:"expense-meta",children:[e.jsx("span",{className:"category",children:q.category}),e.jsx("span",{className:"frequency",children:q.frequency})]})]}),e.jsxs("div",{className:"expense-details",children:[e.jsxs("div",{className:"amount",children:["",q.amount?.toLocaleString("en-IN")]}),e.jsx("div",{className:"due-date",children:q.actualDueDate.toLocaleDateString("en-IN")}),e.jsxs("div",{className:"bank-info",children:[A.accountHolderName," - ",A.bankName]})]}),e.jsxs("div",{className:"expense-status",children:[q.isOverdue&&e.jsx("span",{className:"status-badge overdue",children:"Overdue"}),q.isDueToday&&e.jsx("span",{className:"status-badge today",children:"Due Today"}),q.isDueSoon&&e.jsx("span",{className:"status-badge soon",children:"Due Soon"}),e.jsx("div",{className:"days-info",children:q.isOverdue?`${Math.abs(q.daysUntilDue)} days overdue`:q.isDueToday?"Due today":`${q.daysUntilDue} days left`})]})]}),e.jsxs("div",{className:"expense-actions",children:[e.jsx("button",{onClick:()=>te(q),className:`toggle-btn ${q.isActive?"active":"inactive"}`,children:q.isActive?"Active":"Inactive"}),e.jsx("button",{onClick:()=>re(q),className:"edit-btn",children:"Edit"}),e.jsx("button",{onClick:()=>Z(q._id),className:"delete-btn",children:"Delete"})]})]},q._id)})})]})]}),F&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"section cash-flow-analysis standalone",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:" Cash Flow Analysis"}),e.jsx("div",{className:"analysis-summary",children:e.jsxs("span",{className:"stat-item",children:[F.summary.banksInDeficit>0&&e.jsxs("span",{className:"critical-badge",children:[" ",F.summary.banksInDeficit," Bank",F.summary.banksInDeficit>1?"s":""," in Deficit"]}),F.summary.banksInDeficit===0&&e.jsx("span",{className:"success-badge",children:" All Banks Healthy"})]})})]}),e.jsx("div",{className:"cashflow-grid",children:F.banks.filter(q=>N==="all"||q.accountNumber===N).map(q=>e.jsxs("div",{className:`cashflow-card ${q.healthStatus}`,children:[e.jsxs("div",{className:"cashflow-header",children:[e.jsxs("div",{children:[e.jsx("h4",{children:q.accountHolderName}),e.jsx("span",{className:"bank-name",children:q.bankName})]}),e.jsxs("div",{className:`health-indicator ${q.healthStatus}`,children:[q.healthStatus==="healthy"&&"",q.healthStatus==="warning"&&"",q.healthStatus==="critical"&&"!"]})]}),e.jsxs("div",{className:"cashflow-details",children:[e.jsxs("div",{className:"cf-row",children:[e.jsx("span",{className:"label",children:"Current Balance:"}),e.jsxs("span",{className:"value balance",children:["",q.actualBalance.toLocaleString("en-IN")]})]}),e.jsxs("div",{className:"cf-row",children:[e.jsx("span",{className:"label",children:"Monthly Expenses:"}),e.jsxs("span",{className:"value expense",children:["",q.monthlyExpenses.toLocaleString("en-IN")]})]}),e.jsx("div",{className:"cf-divider"}),e.jsxs("div",{className:"cf-row main",children:[e.jsx("span",{className:"label strong",children:"Net Cash Flow:"}),e.jsxs("span",{className:`value ${q.status==="deficit"?"deficit":"surplus"}`,children:[q.status==="deficit"?"-":"+","",Math.abs(q.cashFlow).toLocaleString("en-IN")]})]})]}),q.status==="deficit"&&e.jsxs("div",{className:"deficit-warning",children:[e.jsx("span",{className:"warning-icon",children:""}),e.jsxs("span",{children:["Need to add ",Math.abs(q.cashFlow).toLocaleString("en-IN")," this month"]})]}),q.status==="surplus"&&q.cashFlow>q.monthlyExpenses&&e.jsxs("div",{className:"surplus-info",children:[e.jsx("span",{className:"success-icon",children:""}),e.jsxs("span",{children:["Can transfer ",Math.floor(q.cashFlow*.5).toLocaleString("en-IN")," safely"]})]})]},q.bankId))})]}),W.length>0&&e.jsxs("div",{className:"section transfer-suggestions standalone",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{children:" Smart Transfer Suggestions"}),e.jsxs("span",{className:"suggestion-count",children:[W.length," Suggestion",W.length>1?"s":""]})]}),e.jsx("div",{className:"suggestions-list",children:W.map((q,A)=>e.jsxs("div",{className:`suggestion-card priority-${q.priority}`,children:[e.jsx("div",{className:"suggestion-header",children:e.jsx("span",{className:`priority-badge ${q.priority}`,children:q.priority==="high"?" High Priority":" Medium Priority"})}),e.jsxs("div",{className:"transfer-flow",children:[e.jsxs("div",{className:"transfer-from",children:[e.jsx("div",{className:"bank-label",children:"From"}),e.jsxs("div",{className:"bank-info",children:[e.jsx("strong",{children:q.fromBank.name}),e.jsx("small",{children:q.fromBank.accountHolder}),e.jsxs("small",{className:"balance",children:["Balance: ",q.fromBank.currentBalance.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"transfer-arrow",children:[e.jsx("div",{className:"arrow-line",children:e.jsxs("span",{className:"arrow-amount",children:["",q.suggestedAmount.toLocaleString("en-IN")]})}),e.jsx("div",{className:"arrow-icon",children:""})]}),e.jsxs("div",{className:"transfer-to",children:[e.jsx("div",{className:"bank-label",children:"To"}),e.jsxs("div",{className:"bank-info",children:[e.jsx("strong",{children:q.toBank.name}),e.jsx("small",{children:q.toBank.accountHolder}),e.jsxs("small",{className:"deficit",children:["Deficit: ",q.toBank.deficit.toLocaleString("en-IN")]})]})]})]}),e.jsxs("div",{className:"suggestion-reason",children:[" ",q.reason]})]},A))})]})]}),d&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal",children:[e.jsxs("div",{className:"modal-header",children:[e.jsxs("h3",{children:[y?"Edit":"Add"," Scheduled Expense"]}),e.jsx("button",{onClick:()=>v(!1),className:"close-btn",children:""})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Title *"}),e.jsx("input",{type:"text",value:T.title,onChange:q=>k({...T,title:q.target.value}),placeholder:"e.g., Credit Card Bill, Home Rent"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Amount *"}),e.jsx("input",{type:"number",step:"0.01",value:T.amount,onChange:q=>k({...T,amount:parseFloat(q.target.value)||0}),placeholder:"Enter amount"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Due Date *"}),e.jsx("input",{type:"date",value:T.dueDate,onChange:q=>k({...T,dueDate:q.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Frequency"}),e.jsxs("select",{value:T.frequency,onChange:q=>k({...T,frequency:q.target.value}),children:[e.jsx("option",{value:"monthly",children:"Monthly"}),e.jsx("option",{value:"quarterly",children:"Quarterly"}),e.jsx("option",{value:"yearly",children:"Yearly"}),e.jsx("option",{value:"one-time",children:"One Time"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Bank Account"}),e.jsxs("select",{value:T.bankAccount,onChange:q=>k({...T,bankAccount:q.target.value}),children:[e.jsx("option",{value:"",children:"Select Bank Account"}),a.map(q=>e.jsxs("option",{value:q.accountNumber,children:[q.accountHolderName," - ",q.bankName," (****",q.accountNumber?.slice(-4),")"]},q._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Category"}),e.jsxs("select",{value:T.category,onChange:q=>k({...T,category:q.target.value}),children:[e.jsx("option",{value:"bill",children:"Bill Payment"}),e.jsx("option",{value:"emi",children:"EMI"}),e.jsx("option",{value:"rent",children:"Rent"}),e.jsx("option",{value:"utilities",children:"Utilities"}),e.jsx("option",{value:"insurance",children:"Insurance"}),e.jsx("option",{value:"loan",children:"Loan Payment"}),e.jsx("option",{value:"credit-card",children:"Credit Card"}),e.jsx("option",{value:"subscription",children:"Subscription"}),e.jsx("option",{value:"education",children:"Education"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"form-group full-width",children:[e.jsx("label",{children:"Description"}),e.jsx("textarea",{value:T.description,onChange:q=>k({...T,description:q.target.value}),rows:"3",placeholder:"Additional details about this expense"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsx("button",{onClick:B,className:"save-btn",children:"Save"}),e.jsx("button",{onClick:()=>v(!1),className:"cancel-btn",children:"Cancel"})]})]})})]})},Ic={getRecords:(t={})=>{const n=new URLSearchParams;return Object.keys(t).forEach(a=>{t[a]!==void 0&&t[a]!==""&&n.append(a,t[a])}),oe.get(`/income-expense?${n.toString()}`)},getRecord:t=>oe.get(`/income-expense/${t}`),createRecord:t=>oe.post("/income-expense",t),updateRecord:(t,n)=>oe.put(`/income-expense/${t}`,n),deleteRecord:t=>oe.delete(`/income-expense/${t}`),getSummary:(t={})=>{const n=new URLSearchParams;return Object.keys(t).forEach(a=>{t[a]!==void 0&&t[a]!==""&&n.append(a,t[a])}),oe.get(`/income-expense/summary/stats?${n.toString()}`)},getRecurringRecords:()=>oe.get("/income-expense/recurring/list"),getRecordsByTag:t=>oe.get(`/income-expense/tags/${t}`)},QQ=()=>{const[t,n]=x.useState([]),[a,r]=x.useState(null),[i,o]=x.useState(!0),[u,h]=x.useState(!1),[p,f]=x.useState(null),[d,v]=x.useState("none"),[y,C]=x.useState({type:"physical-cash",location:"",walletProvider:"",date:new Date().toISOString().slice(0,10),currency:"INR"}),[N,j]=x.useState([]),[w,O]=x.useState([]),[S,E]=x.useState({cardId:"",date:new Date().toISOString().slice(0,10),currency:"INR"}),[T,k]=x.useState({accountId:"",date:new Date().toISOString().slice(0,10),currency:"INR"}),[F,P]=x.useState({type:"",category:"",startDate:"",endDate:"",page:1,limit:50,sortBy:"date",sortOrder:"desc"}),[W,R]=x.useState({current:1,total:0,count:0}),[U,J]=x.useState({type:"expense",category:"",subcategory:"",title:"",description:"",amount:"",currency:"INR",date:new Date().toISOString().split("T")[0],source:"",account:"",tags:"",isRecurring:!1,recurringFrequency:"",recurringEndDate:"",receipt:"",attachments:"",status:"confirmed",taxDeductible:!1,taxCategory:"",budgetCategory:"",notes:"",paidFrom:"none",cashLink:{type:"physical-cash",location:"",walletProvider:"",date:new Date().toISOString().slice(0,10),currency:"INR"},cardLink:{cardId:"",date:new Date().toISOString().slice(0,10),currency:"INR"},bankLink:{accountId:"",date:new Date().toISOString().slice(0,10),currency:"INR"}}),se={income:["salary","business","investment","rental","freelance","gift","refund","other-income"],expense:["food","transport","shopping","entertainment","utilities","healthcare","education","rent","insurance","loan-payment","tax","other-expense"]},X=["daily","weekly","monthly","quarterly","yearly"],le=["INR","USD","EUR","GBP","JPY","AUD","CAD","CHF","CNY"];x.useEffect(()=>{v(U.paidFrom),U.cashLink&&C(U.cashLink),U.cardLink&&E(U.cardLink),U.bankLink&&k(U.bankLink)},[U.paidFrom,U.cashLink,U.cardLink,U.bankLink]),x.useEffect(()=>{G(),M()},[F]),x.useEffect(()=>{(async()=>{try{console.log("Fetching connectivity data...");const[K,xe]=await Promise.all([oe.get("/cards"),oe.get("/bank")]);console.log("Cards response:",K.data),console.log("Bank response:",xe.data),console.log("Bank response length:",xe.data?.length),j(K.data||[]),O(xe.data||[]),xe.data&&xe.data.length>0?console.log("Bank accounts loaded:",xe.data):console.log("No bank accounts found or empty response")}catch(K){console.error("Error fetching connectivity data:",K)}})()},[]);const G=async()=>{try{o(!0);const A=await Ic.getRecords(F);n(A.data.records),R(A.data.pagination)}catch(A){console.error("Error fetching records:",A)}finally{o(!1)}},M=async()=>{try{console.log("Fetching summary with filters:",F);const A=await Ic.getSummary({startDate:F.startDate,endDate:F.endDate});console.log("Summary response:",A.data),r(A.data)}catch(A){console.error("Error fetching summary:",A),r(null)}},B=async A=>{A.preventDefault();try{const K={...U,amount:parseFloat(U.amount),tags:U.tags?U.tags.split(",").map(V=>V.trim()):[],attachments:U.attachments?U.attachments.split(",").map(V=>V.trim()):[],date:new Date(U.date),recurringEndDate:U.recurringEndDate?new Date(U.recurringEndDate):void 0,paymentMethod:U.type==="expense"?"other":void 0,recurringFrequency:U.recurringFrequency||void 0,source:U.source||void 0,taxCategory:U.taxCategory||void 0,receipt:U.receipt||void 0,attachments:U.attachments?U.attachments.split(",").map(V=>V.trim()):[],...U.isRecurring?{recurringFrequency:U.recurringFrequency||void 0,recurringEndDate:U.recurringEndDate?new Date(U.recurringEndDate):void 0}:{recurringFrequency:void 0,recurringEndDate:void 0},...U.taxDeductible?{taxCategory:U.taxCategory||void 0}:{taxCategory:void 0}};Object.keys(K).forEach(V=>{K[V]===""&&(K[V]=void 0)});let xe;if(p?xe=await Ic.updateRecord(p._id,K):xe=await Ic.createRecord(K),d!=="none"&&U.status==="confirmed"){const V=parseFloat(U.amount)||0,ee=U.date||new Date().toISOString().slice(0,10);try{if(d==="cash"){const me={type:y.type,name:`${U.type==="income"?"Income":"Expense"} - ${U.title}`,currency:y.currency||U.currency||"INR",amount:Math.abs(V),date:y.date||ee,location:y.type==="physical-cash"?y.location||"Wallet":void 0,walletProvider:y.type==="digital-wallet"?y.walletProvider||"Wallet":void 0,walletType:"prepaid",description:`${U.category} - ${U.description||U.title}`,notes:`Auto-linked from Income/Expenses (${U.type})`};await oe.post("/cash",me)}else if(d==="card"&&S.cardId){const me={cardId:S.cardId,type:U.type==="income"?"credit":"payment",amount:V,merchant:U.title,category:U.category,description:`${U.type==="income"?"Income":"Expense"} - ${U.title}`,date:S.date||ee,currency:S.currency||U.currency||"INR"};await oe.post("/transactions",me)}else if(d==="bank"&&T.accountId){const me=H=>["food","shopping","transport","entertainment","utilities","healthcare","education","salary","rent","other"].includes(H)?H:"other",ue={accountId:T.accountId,type:U.type==="income"?"deposit":"withdrawal",amount:V,merchant:U.title,category:me(U.category),description:`${U.type==="income"?"Income":"Expense"} - ${U.title}`,date:T.date||ee,currency:T.currency||U.currency||"INR"};await oe.post("/bank-transactions",ue)}}catch(me){console.error("Error creating connectivity record:",me)}}h(!1),f(null),te(),G(),M()}catch(K){console.error("Error saving record:",K)}},re=A=>{f(A),J({...A,tags:A.tags?A.tags.join(", "):"",attachments:A.attachments?A.attachments.join(", "):"",date:new Date(A.date).toISOString().split("T")[0],recurringEndDate:A.recurringEndDate?new Date(A.recurringEndDate).toISOString().split("T")[0]:"",paidFrom:A.paidFrom||"none",cashLink:A.cashLink||{type:"physical-cash",location:"",walletProvider:"",date:new Date().toISOString().slice(0,10),currency:"INR"},cardLink:A.cardLink||{cardId:"",date:new Date().toISOString().slice(0,10),currency:"INR"},bankLink:A.bankLink||{accountId:"",date:new Date().toISOString().slice(0,10),currency:"INR"}}),h(!0)},Z=async A=>{if(window.confirm("Are you sure you want to delete this record?"))try{await Ic.deleteRecord(A),G(),M()}catch(K){console.error("Error deleting record:",K)}},te=()=>{J({type:"expense",category:"",subcategory:"",title:"",description:"",amount:"",currency:"INR",date:new Date().toISOString().slice(0,10),source:"",account:"",tags:"",isRecurring:!1,recurringFrequency:"",recurringEndDate:"",receipt:"",attachments:"",status:"confirmed",taxDeductible:!1,taxCategory:"",budgetCategory:"",notes:"",paidFrom:"none",cashLink:{type:"physical-cash",location:"",walletProvider:"",date:new Date().toISOString().slice(0,10),currency:"INR"},cardLink:{cardId:"",date:new Date().toISOString().slice(0,10),currency:"INR"},bankLink:{accountId:"",date:new Date().toISOString().slice(0,10),currency:"INR"}}),v("none"),C({type:"physical-cash",location:"",walletProvider:"",date:new Date().toISOString().slice(0,10),currency:"INR"}),E({cardId:"",date:new Date().toISOString().slice(0,10),currency:"INR"}),k({accountId:"",date:new Date().toISOString().slice(0,10),currency:"INR"})},_=(A,K)=>{P(xe=>({...xe,[A]:K}))},z=()=>{te(),f(null),h(!0)},L=(A,K="INR")=>new Intl.NumberFormat("en-IN",{style:"currency",currency:K,minimumFractionDigits:2}).format(A),q=(()=>{if(console.log("Summary data:",a),!a||!a.summary||a.summary.length===0){const xe=t.filter(ee=>ee.type==="income").reduce((ee,me)=>ee+me.amount,0),V=t.filter(ee=>ee.type==="expense").reduce((ee,me)=>ee+me.amount,0);return console.log("Fallback calculation - Income:",xe,"Expense:",V),{income:xe,expense:V,balance:xe-V}}const A=a.summary.find(xe=>xe._id==="income")?.totalAmount||0,K=a.summary.find(xe=>xe._id==="expense")?.totalAmount||0;return console.log("API calculation - Income:",A,"Expense:",K),{income:A,expense:K,balance:A-K}})();return e.jsxs("div",{className:"income-expenses-container",children:[e.jsxs("div",{className:"income-expenses-header",children:[e.jsx("h1",{children:"Income & Expenses"}),e.jsx("p",{children:"Manage your daily income and expense records"})]}),e.jsxs("div",{className:"summary-cards-grid",children:[e.jsx("div",{className:"summary-card income-card",children:e.jsxs("div",{className:"summary-card-content",children:[e.jsxs("div",{className:"summary-card-info",children:[e.jsx("h3",{children:"Total Income"}),e.jsx("div",{className:"summary-card-amount",children:L(q.income)})]}),e.jsx(In,{className:"summary-card-icon"})]})}),e.jsx("div",{className:"summary-card expense-card",children:e.jsxs("div",{className:"summary-card-content",children:[e.jsxs("div",{className:"summary-card-info",children:[e.jsx("h3",{children:"Total Expenses"}),e.jsx("div",{className:"summary-card-amount",children:L(q.expense)})]}),e.jsx(PL,{className:"summary-card-icon"})]})}),e.jsx("div",{className:`summary-card balance-card ${q.balance>=0?"positive":"negative"}`,children:e.jsxs("div",{className:"summary-card-content",children:[e.jsxs("div",{className:"summary-card-info",children:[e.jsx("h3",{children:"Balance"}),e.jsx("div",{className:"summary-card-amount",children:L(q.balance)})]}),e.jsx(ua,{className:"summary-card-icon"})]})})]}),e.jsxs("div",{className:"filters-section",children:[e.jsxs("div",{className:"filters-header",children:[e.jsx(wL,{className:"filters-icon"}),e.jsx("h3",{children:"Filters"})]}),e.jsxs("div",{className:"filters-grid",children:[e.jsxs("select",{value:F.type,onChange:A=>_("type",A.target.value),className:"form-control",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"income",children:"Income"}),e.jsx("option",{value:"expense",children:"Expense"})]}),e.jsxs("select",{value:F.category,onChange:A=>_("category",A.target.value),className:"form-control",children:[e.jsx("option",{value:"",children:"All Categories"}),se[F.type||"expense"]?.map(A=>e.jsx("option",{value:A,children:A},A))]}),e.jsx("input",{type:"date",value:F.startDate,onChange:A=>_("startDate",A.target.value),className:"form-control",placeholder:"Start Date"}),e.jsx("input",{type:"date",value:F.endDate,onChange:A=>_("endDate",A.target.value),className:"form-control",placeholder:"End Date"})]})]}),e.jsxs("div",{className:"actions-bar",children:[e.jsxs("button",{onClick:z,className:"btn-primary",children:[e.jsx(Oe,{className:"btn-icon"}),"Add Record"]}),e.jsxs("div",{className:"records-count",children:["Showing ",t.length," of ",W.count," records"]})]}),e.jsx("div",{className:"records-table-container",children:i?e.jsx("div",{className:"loading-state",children:"Loading records..."}):t.length===0?e.jsx("div",{className:"empty-state",children:"No records found"}):e.jsx("div",{className:"table-wrapper",children:e.jsxs("table",{className:"records-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Category"}),e.jsx("th",{children:"Title"}),e.jsx("th",{children:"Amount"}),e.jsx("th",{children:"Tags"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:t.map(A=>e.jsxs("tr",{children:[e.jsx("td",{children:new Date(A.date).toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:`type-badge ${A.type}`,children:A.type})}),e.jsx("td",{children:A.category}),e.jsx("td",{children:A.title}),e.jsx("td",{className:`amount-${A.type}`,children:L(A.amount,A.currency)}),e.jsx("td",{children:A.tags?.length>0&&e.jsx("div",{className:"tags-container",children:A.tags.map((K,xe)=>e.jsxs("span",{className:"tag-badge",children:[e.jsx(nO,{className:"tag-icon"}),K]},xe))})}),e.jsx("td",{children:e.jsxs("div",{className:"actions-cell",children:[A.isRecurring&&e.jsx(ej,{className:"recurring-icon",title:"Recurring"}),e.jsx("button",{onClick:()=>re(A),className:"action-btn edit",children:e.jsx(ct,{})}),e.jsx("button",{onClick:()=>Z(A._id),className:"action-btn delete",children:e.jsx(Ze,{})})]})})]},A._id))})]})})}),W.total>1&&e.jsxs("div",{className:"pagination-container",children:[e.jsx("button",{onClick:()=>_("page",Math.max(1,W.current-1)),disabled:W.current===1,className:"pagination-btn",children:"Previous"}),e.jsxs("span",{className:"pagination-info",children:["Page ",W.current," of ",W.total]}),e.jsx("button",{onClick:()=>_("page",Math.min(W.total,W.current+1)),disabled:W.current===W.total,className:"pagination-btn",children:"Next"})]}),u&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-container",children:[e.jsx("div",{className:"modal-header",children:e.jsx("h2",{children:p?"Edit Record":"Add New Record"})}),e.jsxs("form",{onSubmit:B,className:"modal-body",children:[e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label required",children:"Type"}),e.jsxs("select",{value:U.type,onChange:A=>J(K=>({...K,type:A.target.value,category:""})),className:"form-select",required:!0,children:[e.jsx("option",{value:"expense",children:"Expense"}),e.jsx("option",{value:"income",children:"Income"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label required",children:"Category"}),e.jsxs("select",{value:U.category,onChange:A=>J(K=>({...K,category:A.target.value})),className:"form-select",required:!0,children:[e.jsx("option",{value:"",children:"Select Category"}),se[U.type]?.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label required",children:"Title"}),e.jsx("input",{type:"text",value:U.title,onChange:A=>J(K=>({...K,title:A.target.value})),className:"form-input",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label required",children:"Amount"}),e.jsx("input",{type:"number",step:"0.01",value:U.amount,onChange:A=>J(K=>({...K,amount:A.target.value})),className:"form-input",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Currency"}),e.jsx("select",{value:U.currency,onChange:A=>J(K=>({...K,currency:A.target.value})),className:"form-select",children:le.map(A=>e.jsx("option",{value:A,children:A},A))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label required",children:"Date"}),e.jsx("input",{type:"date",value:U.date,onChange:A=>J(K=>({...K,date:A.target.value})),className:"form-input",required:!0})]}),U.type==="income"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label required",children:"Source"}),e.jsx("input",{type:"text",value:U.source,onChange:A=>J(K=>({...K,source:A.target.value})),className:"form-input",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Subcategory"}),e.jsx("input",{type:"text",value:U.subcategory,onChange:A=>J(K=>({...K,subcategory:A.target.value})),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Account"}),e.jsx("input",{type:"text",value:U.account,onChange:A=>J(K=>({...K,account:A.target.value})),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Paid From"}),e.jsxs("select",{value:U.paidFrom,onChange:A=>J(K=>({...K,paidFrom:A.target.value})),className:"form-select",children:[e.jsx("option",{value:"none",children:"None"}),e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"card",children:"Card"}),e.jsx("option",{value:"bank",children:"Bank"})]})]}),U.paidFrom==="cash"&&U.cashLink&&e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Cash Type"}),e.jsxs("select",{value:U.cashLink.type||"physical-cash",onChange:A=>J(K=>({...K,cashLink:{...K.cashLink||{},type:A.target.value}})),className:"form-select",children:[e.jsx("option",{value:"physical-cash",children:"Physical Cash"}),e.jsx("option",{value:"digital-wallet",children:"Digital Wallet"})]})]}),U.cashLink.type==="physical-cash"?e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Location"}),e.jsx("input",{type:"text",value:U.cashLink.location||"",onChange:A=>J(K=>({...K,cashLink:{...K.cashLink||{},location:A.target.value}})),className:"form-input",placeholder:"e.g., Wallet"})]}):e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Wallet Provider"}),e.jsx("input",{type:"text",value:U.cashLink.walletProvider||"",onChange:A=>J(K=>({...K,cashLink:{...K.cashLink||{},walletProvider:A.target.value}})),className:"form-input",placeholder:"e.g., Paytm"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Payment Date"}),e.jsx("input",{type:"date",value:U.cashLink.date||new Date().toISOString().slice(0,10),onChange:A=>J(K=>({...K,cashLink:{...K.cashLink||{},date:A.target.value}})),className:"form-input"})]})]}),U.paidFrom==="card"&&U.cardLink&&e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Select Card"}),e.jsxs("select",{value:U.cardLink.cardId||"",onChange:A=>J(K=>({...K,cardLink:{...K.cardLink||{},cardId:A.target.value}})),className:"form-select",children:[e.jsx("option",{value:"",children:"Choose card..."}),N.length>0?N.map(A=>e.jsxs("option",{value:A._id,children:[A.name," - ",A.issuer]},A._id)):e.jsx("option",{value:"",disabled:!0,children:"No cards available"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Payment Date"}),e.jsx("input",{type:"date",value:U.cardLink.date||new Date().toISOString().slice(0,10),onChange:A=>J(K=>({...K,cardLink:{...K.cardLink||{},date:A.target.value}})),className:"form-input"})]})]}),U.paidFrom==="bank"&&U.bankLink&&e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Select Bank Account"}),e.jsxs("select",{value:U.bankLink.accountId||"",onChange:A=>J(K=>({...K,bankLink:{...K.bankLink||{},accountId:A.target.value}})),className:"form-select",children:[e.jsx("option",{value:"",children:"Choose account..."}),w.map(A=>e.jsxs("option",{value:A._id,children:[A.name," - ",A.bankName]},A._id))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Payment Date"}),e.jsx("input",{type:"date",value:U.bankLink.date||new Date().toISOString().slice(0,10),onChange:A=>J(K=>({...K,bankLink:{...K.bankLink||{},date:A.target.value}})),className:"form-input"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Tags (comma-separated)"}),e.jsx("input",{type:"text",value:U.tags,onChange:A=>J(K=>({...K,tags:A.target.value})),className:"form-input",placeholder:"e.g., personal, business, urgent"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Status"}),e.jsxs("select",{value:U.status,onChange:A=>J(K=>({...K,status:A.target.value})),className:"form-select",children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Description"}),e.jsx("textarea",{value:U.description,onChange:A=>J(K=>({...K,description:A.target.value})),className:"form-textarea",rows:"3"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Notes"}),e.jsx("textarea",{value:U.notes,onChange:A=>J(K=>({...K,notes:A.target.value})),className:"form-textarea",rows:"2"})]})]}),e.jsxs("div",{className:"form-checkbox-group",children:[e.jsxs("label",{className:"form-checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:U.isRecurring,onChange:A=>J(K=>({...K,isRecurring:A.target.checked})),className:"form-checkbox"}),"Recurring"]}),e.jsxs("label",{className:"form-checkbox-label",children:[e.jsx("input",{type:"checkbox",checked:U.taxDeductible,onChange:A=>J(K=>({...K,taxDeductible:A.target.checked})),className:"form-checkbox"}),"Tax Deductible"]})]}),U.isRecurring&&e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label required",children:"Frequency"}),e.jsxs("select",{value:U.recurringFrequency,onChange:A=>J(K=>({...K,recurringFrequency:A.target.value})),className:"form-select",required:!0,children:[e.jsx("option",{value:"",children:"Select Frequency"}),X.map(A=>e.jsx("option",{value:A,children:A},A))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"End Date"}),e.jsx("input",{type:"date",value:U.recurringEndDate,onChange:A=>J(K=>({...K,recurringEndDate:A.target.value})),className:"form-input"})]})]}),U.taxDeductible&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label required",children:"Tax Category"}),e.jsx("input",{type:"text",value:U.taxCategory,onChange:A=>J(K=>({...K,taxCategory:A.target.value})),className:"form-input",required:!0})]}),e.jsxs("div",{className:"form-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Receipt URL"}),e.jsx("input",{type:"url",value:U.receipt,onChange:A=>J(K=>({...K,receipt:A.target.value})),className:"form-input"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Budget Category"}),e.jsx("input",{type:"text",value:U.budgetCategory,onChange:A=>J(K=>({...K,budgetCategory:A.target.value})),className:"form-input"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Attachment URLs (comma-separated)"}),e.jsx("input",{type:"text",value:U.attachments,onChange:A=>J(K=>({...K,attachments:A.target.value})),className:"form-input",placeholder:"e.g., url1, url2, url3"})]}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",onClick:()=>h(!1),className:"btn-secondary",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn-submit",children:[p?"Update":"Create"," Record"]})]})]})]})})]})};function JQ(){return e.jsx(oL,{children:e.jsx(D3,{basename:"/Finance",children:e.jsxs(b3,{children:[e.jsx(qe,{path:"/login",element:e.jsx(uL,{})}),e.jsx(qe,{path:"/dashboard",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(dL,{})})})}),e.jsx(qe,{path:"/family-profile",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(o2,{})})})}),e.jsx(qe,{path:"/company-profile",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(kL,{})})})}),e.jsx(qe,{path:"/family/*",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(Ll,{title:"Family Section"})})})}),e.jsx(qe,{path:"/family/tasks",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(CQ,{})})})}),e.jsx(qe,{path:"/business/*",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(Ll,{title:"Business Section"})})})}),e.jsx(qe,{path:"/family/investments/nps-ppf",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(qZ,{})})})}),e.jsx(qe,{path:"/family/investments/gold-sgb",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(YZ,{})})})}),e.jsx(qe,{path:"/family/investments/bank-schemes",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(GZ,{})})})}),e.jsx(qe,{path:"/family/investments/mf-insurance-shares",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(KZ,{})})})}),e.jsx(qe,{path:"/family/investments/valuation-allocation",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(JZ,{})})})}),e.jsx(qe,{path:"/family/investments/project-income-expense",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(tQ,{})})})}),e.jsx(qe,{path:"/family/investments/profile",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(oQ,{})})})}),e.jsx(qe,{path:"/family/investments/loan-amortization",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(cQ,{})})})}),e.jsx(qe,{path:"/family/investments/retirement",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(uQ,{})})})}),e.jsx(qe,{path:"/family/static/basic-details",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(dQ,{})})})}),e.jsx(qe,{path:"/family/static/online-access-details",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(hQ,{})})})}),e.jsx(qe,{path:"/family/static/mobile-email-details",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(gQ,{})})})}),e.jsx(qe,{path:"/family/static/company-records",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(yQ,{})})})}),e.jsx(qe,{path:"/family/static/personal-records",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(jQ,{})})})}),e.jsx(qe,{path:"/family/static/family-profile",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(o2,{})})})}),e.jsx(qe,{path:"/family/static/inventory-record",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(wQ,{})})})}),e.jsx(qe,{path:"/family/static/contact-management",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(AQ,{})})})}),e.jsx(qe,{path:"/family/static/digital-assets",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(EQ,{})})})}),e.jsx(qe,{path:"/family/static/customer-support",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(DQ,{})})})}),e.jsx(qe,{path:"/family/static/land-records",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(kQ,{})})})}),e.jsx(qe,{path:"/family/static/membership-list",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(TQ,{})})})}),e.jsx(qe,{path:"/family/daily/cash-cards-bank",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(RQ,{})})})}),e.jsx(qe,{path:"/family/daily/loan-udhar",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(_Q,{})})})}),e.jsx(qe,{path:"/family/daily/bill-paying",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(BQ,{})})})}),e.jsx(qe,{path:"/family/daily/manage-finance",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(ZQ,{})})})}),e.jsx(qe,{path:"/family/daily/income-expenses",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(QQ,{})})})}),e.jsx(qe,{path:"/family/daily/telephone-conversation",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(LQ,{})})})}),e.jsx(qe,{path:"/family/monitoring/bill-dates",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(FQ,{})})})}),e.jsx(qe,{path:"/family/monitoring/weekly-appointment",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(zQ,{})})})}),e.jsx(qe,{path:"/family/monitoring/yearly-calendar",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(GQ,{})})})}),e.jsx(qe,{path:"/family/monitoring/multiple-calendars",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(KQ,{})})})}),e.jsx(qe,{path:"/family/monitoring/budget",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(XQ,{})})})}),e.jsx(qe,{path:"/family/monitoring/reminders-notifications",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(WQ,{})})})}),e.jsx(qe,{path:"/libraries",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(Ll,{title:"Libraries"})})})}),e.jsx(qe,{path:"/subscription",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(Ll,{title:"Subscription Plan"})})})}),e.jsx(qe,{path:"/feedback",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(Ll,{title:"Feedback"})})})}),e.jsx(qe,{path:"/contact",element:e.jsx(Ve,{children:e.jsx(Ye,{children:e.jsx(Ll,{title:"Contact Developer"})})})}),e.jsx(qe,{path:"/",element:e.jsx(A2,{to:"/login"})})]})})})}D_.createRoot(document.getElementById("root")).render(e.jsx(x.StrictMode,{children:e.jsx(JQ,{})}));
